var Fg=t=>{throw TypeError(t)};var Pd=(t,e,n)=>e.has(t)||Fg("Cannot "+n);var I=(t,e,n)=>(Pd(t,e,"read from private field"),n?n.call(t):e.get(t)),oe=(t,e,n)=>e.has(t)?Fg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),K=(t,e,n,r)=>(Pd(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),tt=(t,e,n)=>(Pd(t,e,"access private method"),n);var Tl=(t,e,n,r)=>({set _(s){K(t,e,s,n)},get _(){return I(t,e,r)}});function NT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ow(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aw={exports:{}},ku={},lw={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var el=Symbol.for("react.element"),kT=Symbol.for("react.portal"),PT=Symbol.for("react.fragment"),RT=Symbol.for("react.strict_mode"),AT=Symbol.for("react.profiler"),OT=Symbol.for("react.provider"),DT=Symbol.for("react.context"),MT=Symbol.for("react.forward_ref"),LT=Symbol.for("react.suspense"),jT=Symbol.for("react.memo"),FT=Symbol.for("react.lazy"),Ug=Symbol.iterator;function UT(t){return t===null||typeof t!="object"?null:(t=Ug&&t[Ug]||t["@@iterator"],typeof t=="function"?t:null)}var cw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uw=Object.assign,dw={};function ho(t,e,n){this.props=t,this.context=e,this.refs=dw,this.updater=n||cw}ho.prototype.isReactComponent={};ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fw(){}fw.prototype=ho.prototype;function hp(t,e,n){this.props=t,this.context=e,this.refs=dw,this.updater=n||cw}var pp=hp.prototype=new fw;pp.constructor=hp;uw(pp,ho.prototype);pp.isPureReactComponent=!0;var $g=Array.isArray,hw=Object.prototype.hasOwnProperty,mp={current:null},pw={key:!0,ref:!0,__self:!0,__source:!0};function mw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)hw.call(e,r)&&!pw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:el,type:t,key:i,ref:o,props:s,_owner:mp.current}}function $T(t,e){return{$$typeof:el,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gp(t){return typeof t=="object"&&t!==null&&t.$$typeof===el}function zT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zg=/\/+/g;function Rd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zT(""+t.key):e.toString(36)}function sc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case el:case kT:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Rd(o,0):r,$g(s)?(n="",t!=null&&(n=t.replace(zg,"$&/")+"/"),sc(s,e,n,"",function(c){return c})):s!=null&&(gp(s)&&(s=$T(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",$g(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Rd(i,a);o+=sc(i,e,n,l,s)}else if(l=UT(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Rd(i,a++),o+=sc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Il(t,e,n){if(t==null)return t;var r=[],s=0;return sc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function BT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gt={current:null},ic={transition:null},WT={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:ic,ReactCurrentOwner:mp};function gw(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Il,forEach:function(t,e,n){Il(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Il(t,function(){e++}),e},toArray:function(t){return Il(t,function(e){return e})||[]},only:function(t){if(!gp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=ho;te.Fragment=PT;te.Profiler=AT;te.PureComponent=hp;te.StrictMode=RT;te.Suspense=LT;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WT;te.act=gw;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=mp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hw.call(e,l)&&!pw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:el,type:t.type,key:s,ref:i,props:r,_owner:o}};te.createContext=function(t){return t={$$typeof:DT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OT,_context:t},t.Consumer=t};te.createElement=mw;te.createFactory=function(t){var e=mw.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:MT,render:t}};te.isValidElement=gp;te.lazy=function(t){return{$$typeof:FT,_payload:{_status:-1,_result:t},_init:BT}};te.memo=function(t,e){return{$$typeof:jT,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=ic.transition;ic.transition={};try{t()}finally{ic.transition=e}};te.unstable_act=gw;te.useCallback=function(t,e){return gt.current.useCallback(t,e)};te.useContext=function(t){return gt.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return gt.current.useDeferredValue(t)};te.useEffect=function(t,e){return gt.current.useEffect(t,e)};te.useId=function(){return gt.current.useId()};te.useImperativeHandle=function(t,e,n){return gt.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return gt.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return gt.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return gt.current.useMemo(t,e)};te.useReducer=function(t,e,n){return gt.current.useReducer(t,e,n)};te.useRef=function(t){return gt.current.useRef(t)};te.useState=function(t){return gt.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return gt.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return gt.current.useTransition()};te.version="18.3.1";lw.exports=te;var m=lw.exports;const O=ow(m),vw=NT({__proto__:null,default:O},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT=m,HT=Symbol.for("react.element"),GT=Symbol.for("react.fragment"),KT=Object.prototype.hasOwnProperty,qT=VT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QT={key:!0,ref:!0,__self:!0,__source:!0};function yw(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KT.call(e,r)&&!QT.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:HT,type:t,key:i,ref:o,props:s,_owner:qT.current}}ku.Fragment=GT;ku.jsx=yw;ku.jsxs=yw;aw.exports=ku;var f=aw.exports,_w={exports:{}},Ot={},ww={exports:{}},xw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,k){var L=N.length;N.push(k);e:for(;0<L;){var G=L-1>>>1,$=N[G];if(0<s($,k))N[G]=k,N[L]=$,L=G;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var k=N[0],L=N.pop();if(L!==k){N[0]=L;e:for(var G=0,$=N.length,ee=$>>>1;G<ee;){var re=2*(G+1)-1,Me=N[re],et=re+1,le=N[et];if(0>s(Me,L))et<$&&0>s(le,Me)?(N[G]=le,N[et]=L,G=et):(N[G]=Me,N[re]=L,G=re);else if(et<$&&0>s(le,L))N[G]=le,N[et]=L,G=et;else break e}}return k}function s(N,k){var L=N.sortIndex-k.sortIndex;return L!==0?L:N.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,h=3,p=!1,_=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var k=n(c);k!==null;){if(k.callback===null)r(c);else if(k.startTime<=N)r(c),k.sortIndex=k.expirationTime,e(l,k);else break;k=n(c)}}function E(N){if(g=!1,w(N),!_)if(n(l)!==null)_=!0,U(b);else{var k=n(c);k!==null&&q(E,k.startTime-N)}}function b(N,k){_=!1,g&&(g=!1,v(T),T=-1),p=!0;var L=h;try{for(w(k),u=n(l);u!==null&&(!(u.expirationTime>k)||N&&!z());){var G=u.callback;if(typeof G=="function"){u.callback=null,h=u.priorityLevel;var $=G(u.expirationTime<=k);k=t.unstable_now(),typeof $=="function"?u.callback=$:u===n(l)&&r(l),w(k)}else r(l);u=n(l)}if(u!==null)var ee=!0;else{var re=n(c);re!==null&&q(E,re.startTime-k),ee=!1}return ee}finally{u=null,h=L,p=!1}}var C=!1,S=null,T=-1,A=5,D=-1;function z(){return!(t.unstable_now()-D<A)}function j(){if(S!==null){var N=t.unstable_now();D=N;var k=!0;try{k=S(!0,N)}finally{k?H():(C=!1,S=null)}}else C=!1}var H;if(typeof y=="function")H=function(){y(j)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Z=M.port2;M.port1.onmessage=j,H=function(){Z.postMessage(null)}}else H=function(){x(j,0)};function U(N){S=N,C||(C=!0,H())}function q(N,k){T=x(function(){N(t.unstable_now())},k)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,U(b))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var L=h;h=k;try{return N()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,k){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=h;h=N;try{return k()}finally{h=L}},t.unstable_scheduleCallback=function(N,k,L){var G=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?G+L:G):L=G,N){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=L+$,N={id:d++,callback:k,priorityLevel:N,startTime:L,expirationTime:$,sortIndex:-1},L>G?(N.sortIndex=L,e(c,N),n(l)===null&&N===n(c)&&(g?(v(T),T=-1):g=!0,q(E,L-G))):(N.sortIndex=$,e(l,N),_||p||(_=!0,U(b))),N},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(N){var k=h;return function(){var L=h;h=k;try{return N.apply(this,arguments)}finally{h=L}}}})(xw);ww.exports=xw;var YT=ww.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT=m,Rt=YT;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ew=new Set,ma={};function Js(t,e){Xi(t,e),Xi(t+"Capture",e)}function Xi(t,e){for(ma[t]=e,t=0;t<e.length;t++)Ew.add(e[t])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mf=Object.prototype.hasOwnProperty,JT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bg={},Wg={};function ZT(t){return Mf.call(Wg,t)?!0:Mf.call(Bg,t)?!1:JT.test(t)?Wg[t]=!0:(Bg[t]=!0,!1)}function eI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tI(t,e,n,r){if(e===null||typeof e>"u"||eI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xe[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xe[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xe[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xe[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xe[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xe[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xe[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xe[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xe[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var vp=/[\-:]([a-z])/g;function yp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vp,yp);Xe[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vp,yp);Xe[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vp,yp);Xe[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xe[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xe[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function _p(t,e,n,r){var s=Xe.hasOwnProperty(e)?Xe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tI(e,n,s,r)&&(n=null),r||s===null?ZT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var sr=XT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nl=Symbol.for("react.element"),mi=Symbol.for("react.portal"),gi=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),Lf=Symbol.for("react.profiler"),bw=Symbol.for("react.provider"),Cw=Symbol.for("react.context"),xp=Symbol.for("react.forward_ref"),jf=Symbol.for("react.suspense"),Ff=Symbol.for("react.suspense_list"),Ep=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),Sw=Symbol.for("react.offscreen"),Vg=Symbol.iterator;function Ao(t){return t===null||typeof t!="object"?null:(t=Vg&&t[Vg]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,Ad;function Go(t){if(Ad===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ad=e&&e[1]||""}return`
`+Ad+t}var Od=!1;function Dd(t,e){if(!t||Od)return"";Od=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Od=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Go(t):""}function nI(t){switch(t.tag){case 5:return Go(t.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 2:case 15:return t=Dd(t.type,!1),t;case 11:return t=Dd(t.type.render,!1),t;case 1:return t=Dd(t.type,!0),t;default:return""}}function Uf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gi:return"Fragment";case mi:return"Portal";case Lf:return"Profiler";case wp:return"StrictMode";case jf:return"Suspense";case Ff:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cw:return(t.displayName||"Context")+".Consumer";case bw:return(t._context.displayName||"Context")+".Provider";case xp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ep:return e=t.displayName||null,e!==null?e:Uf(t.type)||"Memo";case Er:e=t._payload,t=t._init;try{return Uf(t(e))}catch{}}return null}function rI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uf(e);case 8:return e===wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function es(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sI(t){var e=Tw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kl(t){t._valueTracker||(t._valueTracker=sI(t))}function Iw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Tw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $f(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=es(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nw(t,e){e=e.checked,e!=null&&_p(t,"checked",e,!1)}function zf(t,e){Nw(t,e);var n=es(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bf(t,e.type,es(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Gg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bf(t,e,n){(e!=="number"||Nc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ko=Array.isArray;function ki(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+es(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Wf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Ko(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:es(n)}}function kw(t,e){var n=es(e.value),r=es(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pl,Rw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pl=Pl||document.createElement("div"),Pl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ga(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iI=["Webkit","ms","Moz","O"];Object.keys(Jo).forEach(function(t){iI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jo[e]=Jo[t]})});function Aw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Jo.hasOwnProperty(t)&&Jo[t]?(""+e).trim():e+"px"}function Ow(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Aw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var oI=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hf(t,e){if(e){if(oI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Gf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kf=null;function bp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qf=null,Pi=null,Ri=null;function Qg(t){if(t=rl(t)){if(typeof qf!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Du(e),qf(t.stateNode,t.type,e))}}function Dw(t){Pi?Ri?Ri.push(t):Ri=[t]:Pi=t}function Mw(){if(Pi){var t=Pi,e=Ri;if(Ri=Pi=null,Qg(t),e)for(t=0;t<e.length;t++)Qg(e[t])}}function Lw(t,e){return t(e)}function jw(){}var Md=!1;function Fw(t,e,n){if(Md)return t(e,n);Md=!0;try{return Lw(t,e,n)}finally{Md=!1,(Pi!==null||Ri!==null)&&(jw(),Mw())}}function va(t,e){var n=t.stateNode;if(n===null)return null;var r=Du(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Qf=!1;if(Qn)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Qf=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{Qf=!1}function aI(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Zo=!1,kc=null,Pc=!1,Yf=null,lI={onError:function(t){Zo=!0,kc=t}};function cI(t,e,n,r,s,i,o,a,l){Zo=!1,kc=null,aI.apply(lI,arguments)}function uI(t,e,n,r,s,i,o,a,l){if(cI.apply(this,arguments),Zo){if(Zo){var c=kc;Zo=!1,kc=null}else throw Error(P(198));Pc||(Pc=!0,Yf=c)}}function Zs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Uw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yg(t){if(Zs(t)!==t)throw Error(P(188))}function dI(t){var e=t.alternate;if(!e){if(e=Zs(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Yg(s),t;if(i===r)return Yg(s),e;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function $w(t){return t=dI(t),t!==null?zw(t):null}function zw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zw(t);if(e!==null)return e;t=t.sibling}return null}var Bw=Rt.unstable_scheduleCallback,Xg=Rt.unstable_cancelCallback,fI=Rt.unstable_shouldYield,hI=Rt.unstable_requestPaint,Oe=Rt.unstable_now,pI=Rt.unstable_getCurrentPriorityLevel,Cp=Rt.unstable_ImmediatePriority,Ww=Rt.unstable_UserBlockingPriority,Rc=Rt.unstable_NormalPriority,mI=Rt.unstable_LowPriority,Vw=Rt.unstable_IdlePriority,Pu=null,Cn=null;function gI(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Pu,t,void 0,(t.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:_I,vI=Math.log,yI=Math.LN2;function _I(t){return t>>>=0,t===0?32:31-(vI(t)/yI|0)|0}var Rl=64,Al=4194304;function qo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ac(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=qo(a):(i&=o,i!==0&&(r=qo(i)))}else o=n&~s,o!==0?r=qo(o):i!==0&&(r=qo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-an(e),s=1<<n,r|=t[n],e&=~s;return r}function wI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-an(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=wI(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Xf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hw(){var t=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),t}function Ld(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-an(e),t[e]=n}function EI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-an(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Sp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-an(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ce=0;function Gw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Kw,Tp,qw,Qw,Yw,Jf=!1,Ol=[],$r=null,zr=null,Br=null,ya=new Map,_a=new Map,Cr=[],bI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jg(t,e){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":ya.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(e.pointerId)}}function Do(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=rl(e),e!==null&&Tp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function CI(t,e,n,r,s){switch(e){case"focusin":return $r=Do($r,t,e,n,r,s),!0;case"dragenter":return zr=Do(zr,t,e,n,r,s),!0;case"mouseover":return Br=Do(Br,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ya.set(i,Do(ya.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_a.set(i,Do(_a.get(i)||null,t,e,n,r,s)),!0}return!1}function Xw(t){var e=Ts(t.target);if(e!==null){var n=Zs(e);if(n!==null){if(e=n.tag,e===13){if(e=Uw(n),e!==null){t.blockedOn=e,Yw(t.priority,function(){qw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kf=r,n.target.dispatchEvent(r),Kf=null}else return e=rl(n),e!==null&&Tp(e),t.blockedOn=n,!1;e.shift()}return!0}function Zg(t,e,n){oc(t)&&n.delete(e)}function SI(){Jf=!1,$r!==null&&oc($r)&&($r=null),zr!==null&&oc(zr)&&(zr=null),Br!==null&&oc(Br)&&(Br=null),ya.forEach(Zg),_a.forEach(Zg)}function Mo(t,e){t.blockedOn===e&&(t.blockedOn=null,Jf||(Jf=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,SI)))}function wa(t){function e(s){return Mo(s,t)}if(0<Ol.length){Mo(Ol[0],t);for(var n=1;n<Ol.length;n++){var r=Ol[n];r.blockedOn===t&&(r.blockedOn=null)}}for($r!==null&&Mo($r,t),zr!==null&&Mo(zr,t),Br!==null&&Mo(Br,t),ya.forEach(e),_a.forEach(e),n=0;n<Cr.length;n++)r=Cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cr.length&&(n=Cr[0],n.blockedOn===null);)Xw(n),n.blockedOn===null&&Cr.shift()}var Ai=sr.ReactCurrentBatchConfig,Oc=!0;function TI(t,e,n,r){var s=ce,i=Ai.transition;Ai.transition=null;try{ce=1,Ip(t,e,n,r)}finally{ce=s,Ai.transition=i}}function II(t,e,n,r){var s=ce,i=Ai.transition;Ai.transition=null;try{ce=4,Ip(t,e,n,r)}finally{ce=s,Ai.transition=i}}function Ip(t,e,n,r){if(Oc){var s=Zf(t,e,n,r);if(s===null)Gd(t,e,r,Dc,n),Jg(t,r);else if(CI(s,t,e,n,r))r.stopPropagation();else if(Jg(t,r),e&4&&-1<bI.indexOf(t)){for(;s!==null;){var i=rl(s);if(i!==null&&Kw(i),i=Zf(t,e,n,r),i===null&&Gd(t,e,r,Dc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gd(t,e,r,null,n)}}var Dc=null;function Zf(t,e,n,r){if(Dc=null,t=bp(r),t=Ts(t),t!==null)if(e=Zs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Uw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dc=t,null}function Jw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pI()){case Cp:return 1;case Ww:return 4;case Rc:case mI:return 16;case Vw:return 536870912;default:return 16}default:return 16}}var Lr=null,Np=null,ac=null;function Zw(){if(ac)return ac;var t,e=Np,n=e.length,r,s="value"in Lr?Lr.value:Lr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ac=s.slice(t,1<r?1-r:void 0)}function lc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dl(){return!0}function ev(){return!1}function Dt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Dl:ev,this.isPropagationStopped=ev,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),e}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kp=Dt(po),nl=Ie({},po,{view:0,detail:0}),NI=Dt(nl),jd,Fd,Lo,Ru=Ie({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lo&&(Lo&&t.type==="mousemove"?(jd=t.screenX-Lo.screenX,Fd=t.screenY-Lo.screenY):Fd=jd=0,Lo=t),jd)},movementY:function(t){return"movementY"in t?t.movementY:Fd}}),tv=Dt(Ru),kI=Ie({},Ru,{dataTransfer:0}),PI=Dt(kI),RI=Ie({},nl,{relatedTarget:0}),Ud=Dt(RI),AI=Ie({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),OI=Dt(AI),DI=Ie({},po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MI=Dt(DI),LI=Ie({},po,{data:0}),nv=Dt(LI),jI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $I(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UI[t])?!!e[t]:!1}function Pp(){return $I}var zI=Ie({},nl,{key:function(t){if(t.key){var e=jI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pp,charCode:function(t){return t.type==="keypress"?lc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BI=Dt(zI),WI=Ie({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rv=Dt(WI),VI=Ie({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pp}),HI=Dt(VI),GI=Ie({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),KI=Dt(GI),qI=Ie({},Ru,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QI=Dt(qI),YI=[9,13,27,32],Rp=Qn&&"CompositionEvent"in window,ea=null;Qn&&"documentMode"in document&&(ea=document.documentMode);var XI=Qn&&"TextEvent"in window&&!ea,e0=Qn&&(!Rp||ea&&8<ea&&11>=ea),sv=" ",iv=!1;function t0(t,e){switch(t){case"keyup":return YI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vi=!1;function JI(t,e){switch(t){case"compositionend":return n0(e);case"keypress":return e.which!==32?null:(iv=!0,sv);case"textInput":return t=e.data,t===sv&&iv?null:t;default:return null}}function ZI(t,e){if(vi)return t==="compositionend"||!Rp&&t0(t,e)?(t=Zw(),ac=Np=Lr=null,vi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return e0&&e.locale!=="ko"?null:e.data;default:return null}}var eN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ov(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eN[t.type]:e==="textarea"}function r0(t,e,n,r){Dw(r),e=Mc(e,"onChange"),0<e.length&&(n=new kp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ta=null,xa=null;function tN(t){p0(t,0)}function Au(t){var e=wi(t);if(Iw(e))return t}function nN(t,e){if(t==="change")return e}var s0=!1;if(Qn){var $d;if(Qn){var zd="oninput"in document;if(!zd){var av=document.createElement("div");av.setAttribute("oninput","return;"),zd=typeof av.oninput=="function"}$d=zd}else $d=!1;s0=$d&&(!document.documentMode||9<document.documentMode)}function lv(){ta&&(ta.detachEvent("onpropertychange",i0),xa=ta=null)}function i0(t){if(t.propertyName==="value"&&Au(xa)){var e=[];r0(e,xa,t,bp(t)),Fw(tN,e)}}function rN(t,e,n){t==="focusin"?(lv(),ta=e,xa=n,ta.attachEvent("onpropertychange",i0)):t==="focusout"&&lv()}function sN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(xa)}function iN(t,e){if(t==="click")return Au(e)}function oN(t,e){if(t==="input"||t==="change")return Au(e)}function aN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var un=typeof Object.is=="function"?Object.is:aN;function Ea(t,e){if(un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Mf.call(e,s)||!un(t[s],e[s]))return!1}return!0}function cv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uv(t,e){var n=cv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cv(n)}}function o0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?o0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function a0(){for(var t=window,e=Nc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nc(t.document)}return e}function Ap(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lN(t){var e=a0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&o0(n.ownerDocument.documentElement,n)){if(r!==null&&Ap(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=uv(n,i);var o=uv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cN=Qn&&"documentMode"in document&&11>=document.documentMode,yi=null,eh=null,na=null,th=!1;function dv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;th||yi==null||yi!==Nc(r)||(r=yi,"selectionStart"in r&&Ap(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),na&&Ea(na,r)||(na=r,r=Mc(eh,"onSelect"),0<r.length&&(e=new kp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yi)))}function Ml(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _i={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionend:Ml("Transition","TransitionEnd")},Bd={},l0={};Qn&&(l0=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function Ou(t){if(Bd[t])return Bd[t];if(!_i[t])return t;var e=_i[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in l0)return Bd[t]=e[n];return t}var c0=Ou("animationend"),u0=Ou("animationiteration"),d0=Ou("animationstart"),f0=Ou("transitionend"),h0=new Map,fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(t,e){h0.set(t,e),Js(e,[t])}for(var Wd=0;Wd<fv.length;Wd++){var Vd=fv[Wd],uN=Vd.toLowerCase(),dN=Vd[0].toUpperCase()+Vd.slice(1);ds(uN,"on"+dN)}ds(c0,"onAnimationEnd");ds(u0,"onAnimationIteration");ds(d0,"onAnimationStart");ds("dblclick","onDoubleClick");ds("focusin","onFocus");ds("focusout","onBlur");ds(f0,"onTransitionEnd");Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);Js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Js("onBeforeInput",["compositionend","keypress","textInput","paste"]);Js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function hv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uI(r,e,void 0,t),t.currentTarget=null}function p0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;hv(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;hv(s,a,c),i=l}}}if(Pc)throw t=Yf,Pc=!1,Yf=null,t}function _e(t,e){var n=e[oh];n===void 0&&(n=e[oh]=new Set);var r=t+"__bubble";n.has(r)||(m0(e,t,2,!1),n.add(r))}function Hd(t,e,n){var r=0;e&&(r|=4),m0(n,t,r,e)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function ba(t){if(!t[Ll]){t[Ll]=!0,Ew.forEach(function(n){n!=="selectionchange"&&(fN.has(n)||Hd(n,!1,t),Hd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ll]||(e[Ll]=!0,Hd("selectionchange",!1,e))}}function m0(t,e,n,r){switch(Jw(e)){case 1:var s=TI;break;case 4:s=II;break;default:s=Ip}n=s.bind(null,e,n,t),s=void 0,!Qf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ts(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Fw(function(){var c=i,d=bp(n),u=[];e:{var h=h0.get(t);if(h!==void 0){var p=kp,_=t;switch(t){case"keypress":if(lc(n)===0)break e;case"keydown":case"keyup":p=BI;break;case"focusin":_="focus",p=Ud;break;case"focusout":_="blur",p=Ud;break;case"beforeblur":case"afterblur":p=Ud;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=PI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=HI;break;case c0:case u0:case d0:p=OI;break;case f0:p=KI;break;case"scroll":p=NI;break;case"wheel":p=QI;break;case"copy":case"cut":case"paste":p=MI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rv}var g=(e&4)!==0,x=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=c,w;y!==null;){w=y;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,v!==null&&(E=va(y,v),E!=null&&g.push(Ca(y,E,w)))),x)break;y=y.return}0<g.length&&(h=new p(h,_,null,n,d),u.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Kf&&(_=n.relatedTarget||n.fromElement)&&(Ts(_)||_[Yn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=c,_=_?Ts(_):null,_!==null&&(x=Zs(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=c),p!==_)){if(g=tv,E="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=rv,E="onPointerLeave",v="onPointerEnter",y="pointer"),x=p==null?h:wi(p),w=_==null?h:wi(_),h=new g(E,y+"leave",p,n,d),h.target=x,h.relatedTarget=w,E=null,Ts(d)===c&&(g=new g(v,y+"enter",_,n,d),g.target=w,g.relatedTarget=x,E=g),x=E,p&&_)t:{for(g=p,v=_,y=0,w=g;w;w=ui(w))y++;for(w=0,E=v;E;E=ui(E))w++;for(;0<y-w;)g=ui(g),y--;for(;0<w-y;)v=ui(v),w--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=ui(g),v=ui(v)}g=null}else g=null;p!==null&&pv(u,h,p,g,!1),_!==null&&x!==null&&pv(u,x,_,g,!0)}}e:{if(h=c?wi(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=nN;else if(ov(h))if(s0)b=oN;else{b=sN;var C=rN}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=iN);if(b&&(b=b(t,c))){r0(u,b,n,d);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Bf(h,"number",h.value)}switch(C=c?wi(c):window,t){case"focusin":(ov(C)||C.contentEditable==="true")&&(yi=C,eh=c,na=null);break;case"focusout":na=eh=yi=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,dv(u,n,d);break;case"selectionchange":if(cN)break;case"keydown":case"keyup":dv(u,n,d)}var S;if(Rp)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else vi?t0(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(e0&&n.locale!=="ko"&&(vi||T!=="onCompositionStart"?T==="onCompositionEnd"&&vi&&(S=Zw()):(Lr=d,Np="value"in Lr?Lr.value:Lr.textContent,vi=!0)),C=Mc(c,T),0<C.length&&(T=new nv(T,t,null,n,d),u.push({event:T,listeners:C}),S?T.data=S:(S=n0(n),S!==null&&(T.data=S)))),(S=XI?JI(t,n):ZI(t,n))&&(c=Mc(c,"onBeforeInput"),0<c.length&&(d=new nv("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=S))}p0(u,e)})}function Ca(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=va(t,n),i!=null&&r.unshift(Ca(t,i,s)),i=va(t,e),i!=null&&r.push(Ca(t,i,s))),t=t.return}return r}function ui(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=va(n,i),l!=null&&o.unshift(Ca(n,l,a))):s||(l=va(n,i),l!=null&&o.push(Ca(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hN=/\r\n?/g,pN=/\u0000|\uFFFD/g;function mv(t){return(typeof t=="string"?t:""+t).replace(hN,`
`).replace(pN,"")}function jl(t,e,n){if(e=mv(e),mv(t)!==e&&n)throw Error(P(425))}function Lc(){}var nh=null,rh=null;function sh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ih=typeof setTimeout=="function"?setTimeout:void 0,mN=typeof clearTimeout=="function"?clearTimeout:void 0,gv=typeof Promise=="function"?Promise:void 0,gN=typeof queueMicrotask=="function"?queueMicrotask:typeof gv<"u"?function(t){return gv.resolve(null).then(t).catch(vN)}:ih;function vN(t){setTimeout(function(){throw t})}function Kd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),wa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wa(e)}function Wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mo=Math.random().toString(36).slice(2),xn="__reactFiber$"+mo,Sa="__reactProps$"+mo,Yn="__reactContainer$"+mo,oh="__reactEvents$"+mo,yN="__reactListeners$"+mo,_N="__reactHandles$"+mo;function Ts(t){var e=t[xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yn]||n[xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vv(t);t!==null;){if(n=t[xn])return n;t=vv(t)}return e}t=n,n=t.parentNode}return null}function rl(t){return t=t[xn]||t[Yn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Du(t){return t[Sa]||null}var ah=[],xi=-1;function fs(t){return{current:t}}function we(t){0>xi||(t.current=ah[xi],ah[xi]=null,xi--)}function ve(t,e){xi++,ah[xi]=t.current,t.current=e}var ts={},ot=fs(ts),bt=fs(!1),Fs=ts;function Ji(t,e){var n=t.type.contextTypes;if(!n)return ts;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ct(t){return t=t.childContextTypes,t!=null}function jc(){we(bt),we(ot)}function yv(t,e,n){if(ot.current!==ts)throw Error(P(168));ve(ot,e),ve(bt,n)}function g0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(P(108,rI(t)||"Unknown",s));return Ie({},n,r)}function Fc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ts,Fs=ot.current,ve(ot,t),ve(bt,bt.current),!0}function _v(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=g0(t,e,Fs),r.__reactInternalMemoizedMergedChildContext=t,we(bt),we(ot),ve(ot,t)):we(bt),ve(bt,n)}var Ln=null,Mu=!1,qd=!1;function v0(t){Ln===null?Ln=[t]:Ln.push(t)}function wN(t){Mu=!0,v0(t)}function hs(){if(!qd&&Ln!==null){qd=!0;var t=0,e=ce;try{var n=Ln;for(ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ln=null,Mu=!1}catch(s){throw Ln!==null&&(Ln=Ln.slice(t+1)),Bw(Cp,hs),s}finally{ce=e,qd=!1}}return null}var Ei=[],bi=0,Uc=null,$c=0,jt=[],Ft=0,Us=null,Fn=1,Un="";function Es(t,e){Ei[bi++]=$c,Ei[bi++]=Uc,Uc=t,$c=e}function y0(t,e,n){jt[Ft++]=Fn,jt[Ft++]=Un,jt[Ft++]=Us,Us=t;var r=Fn;t=Un;var s=32-an(r)-1;r&=~(1<<s),n+=1;var i=32-an(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Fn=1<<32-an(e)+s|n<<s|r,Un=i+t}else Fn=1<<i|n<<s|r,Un=t}function Op(t){t.return!==null&&(Es(t,1),y0(t,1,0))}function Dp(t){for(;t===Uc;)Uc=Ei[--bi],Ei[bi]=null,$c=Ei[--bi],Ei[bi]=null;for(;t===Us;)Us=jt[--Ft],jt[Ft]=null,Un=jt[--Ft],jt[Ft]=null,Fn=jt[--Ft],jt[Ft]=null}var kt=null,Nt=null,be=!1,rn=null;function _0(t,e){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kt=t,Nt=Wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kt=t,Nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Us!==null?{id:Fn,overflow:Un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kt=t,Nt=null,!0):!1;default:return!1}}function lh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ch(t){if(be){var e=Nt;if(e){var n=e;if(!wv(t,e)){if(lh(t))throw Error(P(418));e=Wr(n.nextSibling);var r=kt;e&&wv(t,e)?_0(r,n):(t.flags=t.flags&-4097|2,be=!1,kt=t)}}else{if(lh(t))throw Error(P(418));t.flags=t.flags&-4097|2,be=!1,kt=t}}}function xv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kt=t}function Fl(t){if(t!==kt)return!1;if(!be)return xv(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sh(t.type,t.memoizedProps)),e&&(e=Nt)){if(lh(t))throw w0(),Error(P(418));for(;e;)_0(t,e),e=Wr(e.nextSibling)}if(xv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nt=Wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nt=null}}else Nt=kt?Wr(t.stateNode.nextSibling):null;return!0}function w0(){for(var t=Nt;t;)t=Wr(t.nextSibling)}function Zi(){Nt=kt=null,be=!1}function Mp(t){rn===null?rn=[t]:rn.push(t)}var xN=sr.ReactCurrentBatchConfig;function jo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Ul(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ev(t){var e=t._init;return e(t._payload)}function x0(t){function e(v,y){if(t){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Kr(v,y),v.index=0,v.sibling=null,v}function i(v,y,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,w,E){return y===null||y.tag!==6?(y=tf(w,v.mode,E),y.return=v,y):(y=s(y,w),y.return=v,y)}function l(v,y,w,E){var b=w.type;return b===gi?d(v,y,w.props.children,E,w.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Er&&Ev(b)===y.type)?(E=s(y,w.props),E.ref=jo(v,y,w),E.return=v,E):(E=mc(w.type,w.key,w.props,null,v.mode,E),E.ref=jo(v,y,w),E.return=v,E)}function c(v,y,w,E){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=nf(w,v.mode,E),y.return=v,y):(y=s(y,w.children||[]),y.return=v,y)}function d(v,y,w,E,b){return y===null||y.tag!==7?(y=Ls(w,v.mode,E,b),y.return=v,y):(y=s(y,w),y.return=v,y)}function u(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=tf(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Nl:return w=mc(y.type,y.key,y.props,null,v.mode,w),w.ref=jo(v,null,y),w.return=v,w;case mi:return y=nf(y,v.mode,w),y.return=v,y;case Er:var E=y._init;return u(v,E(y._payload),w)}if(Ko(y)||Ao(y))return y=Ls(y,v.mode,w,null),y.return=v,y;Ul(v,y)}return null}function h(v,y,w,E){var b=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:a(v,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nl:return w.key===b?l(v,y,w,E):null;case mi:return w.key===b?c(v,y,w,E):null;case Er:return b=w._init,h(v,y,b(w._payload),E)}if(Ko(w)||Ao(w))return b!==null?null:d(v,y,w,E,null);Ul(v,w)}return null}function p(v,y,w,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(w)||null,a(y,v,""+E,b);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Nl:return v=v.get(E.key===null?w:E.key)||null,l(y,v,E,b);case mi:return v=v.get(E.key===null?w:E.key)||null,c(y,v,E,b);case Er:var C=E._init;return p(v,y,w,C(E._payload),b)}if(Ko(E)||Ao(E))return v=v.get(w)||null,d(y,v,E,b,null);Ul(y,E)}return null}function _(v,y,w,E){for(var b=null,C=null,S=y,T=y=0,A=null;S!==null&&T<w.length;T++){S.index>T?(A=S,S=null):A=S.sibling;var D=h(v,S,w[T],E);if(D===null){S===null&&(S=A);break}t&&S&&D.alternate===null&&e(v,S),y=i(D,y,T),C===null?b=D:C.sibling=D,C=D,S=A}if(T===w.length)return n(v,S),be&&Es(v,T),b;if(S===null){for(;T<w.length;T++)S=u(v,w[T],E),S!==null&&(y=i(S,y,T),C===null?b=S:C.sibling=S,C=S);return be&&Es(v,T),b}for(S=r(v,S);T<w.length;T++)A=p(S,v,T,w[T],E),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?T:A.key),y=i(A,y,T),C===null?b=A:C.sibling=A,C=A);return t&&S.forEach(function(z){return e(v,z)}),be&&Es(v,T),b}function g(v,y,w,E){var b=Ao(w);if(typeof b!="function")throw Error(P(150));if(w=b.call(w),w==null)throw Error(P(151));for(var C=b=null,S=y,T=y=0,A=null,D=w.next();S!==null&&!D.done;T++,D=w.next()){S.index>T?(A=S,S=null):A=S.sibling;var z=h(v,S,D.value,E);if(z===null){S===null&&(S=A);break}t&&S&&z.alternate===null&&e(v,S),y=i(z,y,T),C===null?b=z:C.sibling=z,C=z,S=A}if(D.done)return n(v,S),be&&Es(v,T),b;if(S===null){for(;!D.done;T++,D=w.next())D=u(v,D.value,E),D!==null&&(y=i(D,y,T),C===null?b=D:C.sibling=D,C=D);return be&&Es(v,T),b}for(S=r(v,S);!D.done;T++,D=w.next())D=p(S,v,T,D.value,E),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?T:D.key),y=i(D,y,T),C===null?b=D:C.sibling=D,C=D);return t&&S.forEach(function(j){return e(v,j)}),be&&Es(v,T),b}function x(v,y,w,E){if(typeof w=="object"&&w!==null&&w.type===gi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Nl:e:{for(var b=w.key,C=y;C!==null;){if(C.key===b){if(b=w.type,b===gi){if(C.tag===7){n(v,C.sibling),y=s(C,w.props.children),y.return=v,v=y;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Er&&Ev(b)===C.type){n(v,C.sibling),y=s(C,w.props),y.ref=jo(v,C,w),y.return=v,v=y;break e}n(v,C);break}else e(v,C);C=C.sibling}w.type===gi?(y=Ls(w.props.children,v.mode,E,w.key),y.return=v,v=y):(E=mc(w.type,w.key,w.props,null,v.mode,E),E.ref=jo(v,y,w),E.return=v,v=E)}return o(v);case mi:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=s(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=nf(w,v.mode,E),y.return=v,v=y}return o(v);case Er:return C=w._init,x(v,y,C(w._payload),E)}if(Ko(w))return _(v,y,w,E);if(Ao(w))return g(v,y,w,E);Ul(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,w),y.return=v,v=y):(n(v,y),y=tf(w,v.mode,E),y.return=v,v=y),o(v)):n(v,y)}return x}var eo=x0(!0),E0=x0(!1),zc=fs(null),Bc=null,Ci=null,Lp=null;function jp(){Lp=Ci=Bc=null}function Fp(t){var e=zc.current;we(zc),t._currentValue=e}function uh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oi(t,e){Bc=t,Lp=Ci=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wt=!0),t.firstContext=null)}function Vt(t){var e=t._currentValue;if(Lp!==t)if(t={context:t,memoizedValue:e,next:null},Ci===null){if(Bc===null)throw Error(P(308));Ci=t,Bc.dependencies={lanes:0,firstContext:t}}else Ci=Ci.next=t;return e}var Is=null;function Up(t){Is===null?Is=[t]:Is.push(t)}function b0(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Up(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xn(t,r)}function Xn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var br=!1;function $p(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function C0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Xn(t,n)}return s=r.interleaved,s===null?(e.next=e,Up(r)):(e.next=s.next,s.next=e),r.interleaved=e,Xn(t,n)}function cc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sp(t,n)}}function bv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wc(t,e,n,r){var s=t.updateQueue;br=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var u=s.baseState;o=0,d=c=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,g=a;switch(h=e,p=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){u=_.call(p,u,h);break e}u=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,h=typeof _=="function"?_.call(p,u,h):_,h==null)break e;u=Ie({},u,h);break e;case 2:br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=u):d=d.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);zs|=o,t.lanes=o,t.memoizedState=u}}function Cv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var sl={},Sn=fs(sl),Ta=fs(sl),Ia=fs(sl);function Ns(t){if(t===sl)throw Error(P(174));return t}function zp(t,e){switch(ve(Ia,e),ve(Ta,t),ve(Sn,sl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vf(e,t)}we(Sn),ve(Sn,e)}function to(){we(Sn),we(Ta),we(Ia)}function S0(t){Ns(Ia.current);var e=Ns(Sn.current),n=Vf(e,t.type);e!==n&&(ve(Ta,t),ve(Sn,n))}function Bp(t){Ta.current===t&&(we(Sn),we(Ta))}var Ce=fs(0);function Vc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qd=[];function Wp(){for(var t=0;t<Qd.length;t++)Qd[t]._workInProgressVersionPrimary=null;Qd.length=0}var uc=sr.ReactCurrentDispatcher,Yd=sr.ReactCurrentBatchConfig,$s=0,Te=null,je=null,Be=null,Hc=!1,ra=!1,Na=0,EN=0;function nt(){throw Error(P(321))}function Vp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!un(t[n],e[n]))return!1;return!0}function Hp(t,e,n,r,s,i){if($s=i,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uc.current=t===null||t.memoizedState===null?TN:IN,t=n(r,s),ra){i=0;do{if(ra=!1,Na=0,25<=i)throw Error(P(301));i+=1,Be=je=null,e.updateQueue=null,uc.current=NN,t=n(r,s)}while(ra)}if(uc.current=Gc,e=je!==null&&je.next!==null,$s=0,Be=je=Te=null,Hc=!1,e)throw Error(P(300));return t}function Gp(){var t=Na!==0;return Na=0,t}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Te.memoizedState=Be=t:Be=Be.next=t,Be}function Ht(){if(je===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=Be===null?Te.memoizedState:Be.next;if(e!==null)Be=e,je=t;else{if(t===null)throw Error(P(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Be===null?Te.memoizedState=Be=t:Be=Be.next=t}return Be}function ka(t,e){return typeof e=="function"?e(t):e}function Xd(t){var e=Ht(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if(($s&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=r):l=l.next=u,Te.lanes|=d,zs|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,un(r,e.memoizedState)||(wt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Te.lanes|=i,zs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jd(t){var e=Ht(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);un(i,e.memoizedState)||(wt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function T0(){}function I0(t,e){var n=Te,r=Ht(),s=e(),i=!un(r.memoizedState,s);if(i&&(r.memoizedState=s,wt=!0),r=r.queue,Kp(P0.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Pa(9,k0.bind(null,n,r,s,e),void 0,null),Ge===null)throw Error(P(349));$s&30||N0(n,e,s)}return s}function N0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function k0(t,e,n,r){e.value=n,e.getSnapshot=r,R0(e)&&A0(t)}function P0(t,e,n){return n(function(){R0(e)&&A0(t)})}function R0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!un(t,n)}catch{return!0}}function A0(t){var e=Xn(t,1);e!==null&&ln(e,t,1,-1)}function Sv(t){var e=vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:t},e.queue=t,t=t.dispatch=SN.bind(null,Te,t),[e.memoizedState,t]}function Pa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function O0(){return Ht().memoizedState}function dc(t,e,n,r){var s=vn();Te.flags|=t,s.memoizedState=Pa(1|e,n,void 0,r===void 0?null:r)}function Lu(t,e,n,r){var s=Ht();r=r===void 0?null:r;var i=void 0;if(je!==null){var o=je.memoizedState;if(i=o.destroy,r!==null&&Vp(r,o.deps)){s.memoizedState=Pa(e,n,i,r);return}}Te.flags|=t,s.memoizedState=Pa(1|e,n,i,r)}function Tv(t,e){return dc(8390656,8,t,e)}function Kp(t,e){return Lu(2048,8,t,e)}function D0(t,e){return Lu(4,2,t,e)}function M0(t,e){return Lu(4,4,t,e)}function L0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function j0(t,e,n){return n=n!=null?n.concat([t]):null,Lu(4,4,L0.bind(null,e,t),n)}function qp(){}function F0(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function U0(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $0(t,e,n){return $s&21?(un(n,e)||(n=Hw(),Te.lanes|=n,zs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=n)}function bN(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var r=Yd.transition;Yd.transition={};try{t(!1),e()}finally{ce=n,Yd.transition=r}}function z0(){return Ht().memoizedState}function CN(t,e,n){var r=Gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},B0(t))W0(e,n);else if(n=b0(t,e,n,r),n!==null){var s=ht();ln(n,t,r,s),V0(n,e,r)}}function SN(t,e,n){var r=Gr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(B0(t))W0(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,un(a,o)){var l=e.interleaved;l===null?(s.next=s,Up(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=b0(t,e,s,r),n!==null&&(s=ht(),ln(n,t,r,s),V0(n,e,r))}}function B0(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function W0(t,e){ra=Hc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function V0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sp(t,n)}}var Gc={readContext:Vt,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},TN={readContext:Vt,useCallback:function(t,e){return vn().memoizedState=[t,e===void 0?null:e],t},useContext:Vt,useEffect:Tv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dc(4194308,4,L0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dc(4194308,4,t,e)},useInsertionEffect:function(t,e){return dc(4,2,t,e)},useMemo:function(t,e){var n=vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=CN.bind(null,Te,t),[r.memoizedState,t]},useRef:function(t){var e=vn();return t={current:t},e.memoizedState=t},useState:Sv,useDebugValue:qp,useDeferredValue:function(t){return vn().memoizedState=t},useTransition:function(){var t=Sv(!1),e=t[0];return t=bN.bind(null,t[1]),vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Te,s=vn();if(be){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Ge===null)throw Error(P(349));$s&30||N0(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Tv(P0.bind(null,r,i,t),[t]),r.flags|=2048,Pa(9,k0.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=vn(),e=Ge.identifierPrefix;if(be){var n=Un,r=Fn;n=(r&~(1<<32-an(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Na++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IN={readContext:Vt,useCallback:F0,useContext:Vt,useEffect:Kp,useImperativeHandle:j0,useInsertionEffect:D0,useLayoutEffect:M0,useMemo:U0,useReducer:Xd,useRef:O0,useState:function(){return Xd(ka)},useDebugValue:qp,useDeferredValue:function(t){var e=Ht();return $0(e,je.memoizedState,t)},useTransition:function(){var t=Xd(ka)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:T0,useSyncExternalStore:I0,useId:z0,unstable_isNewReconciler:!1},NN={readContext:Vt,useCallback:F0,useContext:Vt,useEffect:Kp,useImperativeHandle:j0,useInsertionEffect:D0,useLayoutEffect:M0,useMemo:U0,useReducer:Jd,useRef:O0,useState:function(){return Jd(ka)},useDebugValue:qp,useDeferredValue:function(t){var e=Ht();return je===null?e.memoizedState=t:$0(e,je.memoizedState,t)},useTransition:function(){var t=Jd(ka)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:T0,useSyncExternalStore:I0,useId:z0,unstable_isNewReconciler:!1};function Jt(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ju={isMounted:function(t){return(t=t._reactInternals)?Zs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ht(),s=Gr(t),i=Hn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Vr(t,i,s),e!==null&&(ln(e,t,s,r),cc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ht(),s=Gr(t),i=Hn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Vr(t,i,s),e!==null&&(ln(e,t,s,r),cc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ht(),r=Gr(t),s=Hn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Vr(t,s,r),e!==null&&(ln(e,t,r,n),cc(e,t,r))}};function Iv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ea(n,r)||!Ea(s,i):!0}function H0(t,e,n){var r=!1,s=ts,i=e.contextType;return typeof i=="object"&&i!==null?i=Vt(i):(s=Ct(e)?Fs:ot.current,r=e.contextTypes,i=(r=r!=null)?Ji(t,s):ts),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ju,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Nv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ju.enqueueReplaceState(e,e.state,null)}function fh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},$p(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Vt(i):(i=Ct(e)?Fs:ot.current,s.context=Ji(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(dh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ju.enqueueReplaceState(s,s.state,null),Wc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function no(t,e){try{var n="",r=e;do n+=nI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Zd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kN=typeof WeakMap=="function"?WeakMap:Map;function G0(t,e,n){n=Hn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qc||(qc=!0,bh=r),hh(t,e)},n}function K0(t,e,n){n=Hn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){hh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hh(t,e),typeof r!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function kv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=WN.bind(null,t,e,n),e.then(t,t))}function Pv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hn(-1,1),e.tag=2,Vr(n,e,1))),n.lanes|=1),t)}var PN=sr.ReactCurrentOwner,wt=!1;function ct(t,e,n,r){e.child=t===null?E0(e,null,n,r):eo(e,t.child,n,r)}function Av(t,e,n,r,s){n=n.render;var i=e.ref;return Oi(e,s),r=Hp(t,e,n,r,i,s),n=Gp(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jn(t,e,s)):(be&&n&&Op(e),e.flags|=1,ct(t,e,r,s),e.child)}function Ov(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!nm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,q0(t,e,i,r,s)):(t=mc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ea,n(o,r)&&t.ref===e.ref)return Jn(t,e,s)}return e.flags|=1,t=Kr(i,r),t.ref=e.ref,t.return=e,e.child=t}function q0(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ea(i,r)&&t.ref===e.ref)if(wt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,Jn(t,e,s)}return ph(t,e,n,r,s)}function Q0(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(Ti,Tt),Tt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ve(Ti,Tt),Tt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ve(Ti,Tt),Tt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ve(Ti,Tt),Tt|=r;return ct(t,e,s,n),e.child}function Y0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ph(t,e,n,r,s){var i=Ct(n)?Fs:ot.current;return i=Ji(e,i),Oi(e,s),n=Hp(t,e,n,r,i,s),r=Gp(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jn(t,e,s)):(be&&r&&Op(e),e.flags|=1,ct(t,e,n,s),e.child)}function Dv(t,e,n,r,s){if(Ct(n)){var i=!0;Fc(e)}else i=!1;if(Oi(e,s),e.stateNode===null)fc(t,e),H0(e,n,r),fh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Vt(c):(c=Ct(n)?Fs:ot.current,c=Ji(e,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Nv(e,o,r,c),br=!1;var h=e.memoizedState;o.state=h,Wc(e,r,o,s),l=e.memoizedState,a!==r||h!==l||bt.current||br?(typeof d=="function"&&(dh(e,n,d,r),l=e.memoizedState),(a=br||Iv(e,n,a,r,h,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,C0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Jt(e.type,a),o.props=c,u=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vt(l):(l=Ct(n)?Fs:ot.current,l=Ji(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||h!==l)&&Nv(e,o,r,l),br=!1,h=e.memoizedState,o.state=h,Wc(e,r,o,s);var _=e.memoizedState;a!==u||h!==_||bt.current||br?(typeof p=="function"&&(dh(e,n,p,r),_=e.memoizedState),(c=br||Iv(e,n,c,r,h,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return mh(t,e,n,r,i,s)}function mh(t,e,n,r,s,i){Y0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&_v(e,n,!1),Jn(t,e,i);r=e.stateNode,PN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=eo(e,t.child,null,i),e.child=eo(e,null,a,i)):ct(t,e,a,i),e.memoizedState=r.state,s&&_v(e,n,!0),e.child}function X0(t){var e=t.stateNode;e.pendingContext?yv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yv(t,e.context,!1),zp(t,e.containerInfo)}function Mv(t,e,n,r,s){return Zi(),Mp(s),e.flags|=256,ct(t,e,n,r),e.child}var gh={dehydrated:null,treeContext:null,retryLane:0};function vh(t){return{baseLanes:t,cachePool:null,transitions:null}}function J0(t,e,n){var r=e.pendingProps,s=Ce.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ve(Ce,s&1),t===null)return ch(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$u(o,r,0,null),t=Ls(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=vh(n),e.memoizedState=gh,t):Qp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return RN(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Kr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Kr(a,i):(i=Ls(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?vh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=gh,r}return i=t.child,t=i.sibling,r=Kr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qp(t,e){return e=$u({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $l(t,e,n,r){return r!==null&&Mp(r),eo(e,t.child,null,n),t=Qp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RN(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Zd(Error(P(422))),$l(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=$u({mode:"visible",children:r.children},s,0,null),i=Ls(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&eo(e,t.child,null,o),e.child.memoizedState=vh(o),e.memoizedState=gh,i);if(!(e.mode&1))return $l(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=Zd(i,r,void 0),$l(t,e,o,r)}if(a=(o&t.childLanes)!==0,wt||a){if(r=Ge,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xn(t,s),ln(r,t,s,-1))}return tm(),r=Zd(Error(P(421))),$l(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=VN.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Nt=Wr(s.nextSibling),kt=e,be=!0,rn=null,t!==null&&(jt[Ft++]=Fn,jt[Ft++]=Un,jt[Ft++]=Us,Fn=t.id,Un=t.overflow,Us=e),e=Qp(e,r.children),e.flags|=4096,e)}function Lv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uh(t.return,e,n)}function ef(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Z0(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ct(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lv(t,n,e);else if(t.tag===19)Lv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ve(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Vc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ef(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Vc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ef(e,!0,n,null,i);break;case"together":ef(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Kr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AN(t,e,n){switch(e.tag){case 3:X0(e),Zi();break;case 5:S0(e);break;case 1:Ct(e.type)&&Fc(e);break;case 4:zp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ve(zc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ve(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?J0(t,e,n):(ve(Ce,Ce.current&1),t=Jn(t,e,n),t!==null?t.sibling:null);ve(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Z0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ve(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,Q0(t,e,n)}return Jn(t,e,n)}var ex,yh,tx,nx;ex=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yh=function(){};tx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ns(Sn.current);var i=null;switch(n){case"input":s=$f(t,s),r=$f(t,r),i=[];break;case"select":s=Ie({},s,{value:void 0}),r=Ie({},r,{value:void 0}),i=[];break;case"textarea":s=Wf(t,s),r=Wf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Lc)}Hf(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ma.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ma.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_e("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};nx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fo(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ON(t,e,n){var r=e.pendingProps;switch(Dp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(e),null;case 1:return Ct(e.type)&&jc(),rt(e),null;case 3:return r=e.stateNode,to(),we(bt),we(ot),Wp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rn!==null&&(Th(rn),rn=null))),yh(t,e),rt(e),null;case 5:Bp(e);var s=Ns(Ia.current);if(n=e.type,t!==null&&e.stateNode!=null)tx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return rt(e),null}if(t=Ns(Sn.current),Fl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[xn]=e,r[Sa]=i,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(s=0;s<Qo.length;s++)_e(Qo[s],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":Hg(r,i),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_e("invalid",r);break;case"textarea":Kg(r,i),_e("invalid",r)}Hf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&jl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&jl(r.textContent,a,t),s=["children",""+a]):ma.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":kl(r),Gg(r,i,!0);break;case"textarea":kl(r),qg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Lc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xn]=e,t[Sa]=r,ex(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gf(n,r),n){case"dialog":_e("cancel",t),_e("close",t),s=r;break;case"iframe":case"object":case"embed":_e("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qo.length;s++)_e(Qo[s],t);s=r;break;case"source":_e("error",t),s=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),s=r;break;case"details":_e("toggle",t),s=r;break;case"input":Hg(t,r),s=$f(t,r),_e("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ie({},r,{value:void 0}),_e("invalid",t);break;case"textarea":Kg(t,r),s=Wf(t,r),_e("invalid",t);break;default:s=r}Hf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Ow(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Rw(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ga(t,l):typeof l=="number"&&ga(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ma.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_e("scroll",t):l!=null&&_p(t,i,l,o))}switch(n){case"input":kl(t),Gg(t,r,!1);break;case"textarea":kl(t),qg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+es(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ki(t,!!r.multiple,i,!1):r.defaultValue!=null&&ki(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Lc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rt(e),null;case 6:if(t&&e.stateNode!=null)nx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=Ns(Ia.current),Ns(Sn.current),Fl(e)){if(r=e.stateNode,n=e.memoizedProps,r[xn]=e,(i=r.nodeValue!==n)&&(t=kt,t!==null))switch(t.tag){case 3:jl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=e,e.stateNode=r}return rt(e),null;case 13:if(we(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Nt!==null&&e.mode&1&&!(e.flags&128))w0(),Zi(),e.flags|=98560,i=!1;else if(i=Fl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[xn]=e}else Zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rt(e),i=!1}else rn!==null&&(Th(rn),rn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?$e===0&&($e=3):tm())),e.updateQueue!==null&&(e.flags|=4),rt(e),null);case 4:return to(),yh(t,e),t===null&&ba(e.stateNode.containerInfo),rt(e),null;case 10:return Fp(e.type._context),rt(e),null;case 17:return Ct(e.type)&&jc(),rt(e),null;case 19:if(we(Ce),i=e.memoizedState,i===null)return rt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Fo(i,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vc(t),o!==null){for(e.flags|=128,Fo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ve(Ce,Ce.current&1|2),e.child}t=t.sibling}i.tail!==null&&Oe()>ro&&(e.flags|=128,r=!0,Fo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Vc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!be)return rt(e),null}else 2*Oe()-i.renderingStartTime>ro&&n!==1073741824&&(e.flags|=128,r=!0,Fo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Oe(),e.sibling=null,n=Ce.current,ve(Ce,r?n&1|2:n&1),e):(rt(e),null);case 22:case 23:return em(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tt&1073741824&&(rt(e),e.subtreeFlags&6&&(e.flags|=8192)):rt(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function DN(t,e){switch(Dp(e),e.tag){case 1:return Ct(e.type)&&jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return to(),we(bt),we(ot),Wp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bp(e),null;case 13:if(we(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return we(Ce),null;case 4:return to(),null;case 10:return Fp(e.type._context),null;case 22:case 23:return em(),null;case 24:return null;default:return null}}var zl=!1,it=!1,MN=typeof WeakSet=="function"?WeakSet:Set,F=null;function Si(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function _h(t,e,n){try{n()}catch(r){ke(t,e,r)}}var jv=!1;function LN(t,e){if(nh=Oc,t=a0(),Ap(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,u=t,h=null;t:for(;;){for(var p;u!==n||s!==0&&u.nodeType!==3||(a=o+s),u!==i||r!==0&&u.nodeType!==3||(l=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(p=u.firstChild)!==null;)h=u,u=p;for(;;){if(u===t)break t;if(h===n&&++c===s&&(a=o),h===i&&++d===r&&(l=o),(p=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rh={focusedElem:t,selectionRange:n},Oc=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,x=_.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Jt(e.type,g),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(E){ke(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return _=jv,jv=!1,_}function sa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&_h(e,n,i)}s=s.next}while(s!==r)}}function Fu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rx(t){var e=t.alternate;e!==null&&(t.alternate=null,rx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xn],delete e[Sa],delete e[oh],delete e[yN],delete e[_N])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sx(t){return t.tag===5||t.tag===3||t.tag===4}function Fv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lc));else if(r!==4&&(t=t.child,t!==null))for(xh(t,e,n),t=t.sibling;t!==null;)xh(t,e,n),t=t.sibling}function Eh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Eh(t,e,n),t=t.sibling;t!==null;)Eh(t,e,n),t=t.sibling}var Ke=null,nn=!1;function gr(t,e,n){for(n=n.child;n!==null;)ix(t,e,n),n=n.sibling}function ix(t,e,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Pu,n)}catch{}switch(n.tag){case 5:it||Si(n,e);case 6:var r=Ke,s=nn;Ke=null,gr(t,e,n),Ke=r,nn=s,Ke!==null&&(nn?(t=Ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(nn?(t=Ke,n=n.stateNode,t.nodeType===8?Kd(t.parentNode,n):t.nodeType===1&&Kd(t,n),wa(t)):Kd(Ke,n.stateNode));break;case 4:r=Ke,s=nn,Ke=n.stateNode.containerInfo,nn=!0,gr(t,e,n),Ke=r,nn=s;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&_h(n,e,o),s=s.next}while(s!==r)}gr(t,e,n);break;case 1:if(!it&&(Si(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,e,a)}gr(t,e,n);break;case 21:gr(t,e,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,gr(t,e,n),it=r):gr(t,e,n);break;default:gr(t,e,n)}}function Uv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MN),e.forEach(function(r){var s=HN.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ke=a.stateNode,nn=!1;break e;case 3:Ke=a.stateNode.containerInfo,nn=!0;break e;case 4:Ke=a.stateNode.containerInfo,nn=!0;break e}a=a.return}if(Ke===null)throw Error(P(160));ix(i,o,s),Ke=null,nn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ke(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ox(e,t),e=e.sibling}function ox(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yt(e,t),mn(t),r&4){try{sa(3,t,t.return),Fu(3,t)}catch(g){ke(t,t.return,g)}try{sa(5,t,t.return)}catch(g){ke(t,t.return,g)}}break;case 1:Yt(e,t),mn(t),r&512&&n!==null&&Si(n,n.return);break;case 5:if(Yt(e,t),mn(t),r&512&&n!==null&&Si(n,n.return),t.flags&32){var s=t.stateNode;try{ga(s,"")}catch(g){ke(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Nw(s,i),Gf(a,o);var c=Gf(a,i);for(o=0;o<l.length;o+=2){var d=l[o],u=l[o+1];d==="style"?Ow(s,u):d==="dangerouslySetInnerHTML"?Rw(s,u):d==="children"?ga(s,u):_p(s,d,u,c)}switch(a){case"input":zf(s,i);break;case"textarea":kw(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ki(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ki(s,!!i.multiple,i.defaultValue,!0):ki(s,!!i.multiple,i.multiple?[]:"",!1))}s[Sa]=i}catch(g){ke(t,t.return,g)}}break;case 6:if(Yt(e,t),mn(t),r&4){if(t.stateNode===null)throw Error(P(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){ke(t,t.return,g)}}break;case 3:if(Yt(e,t),mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wa(e.containerInfo)}catch(g){ke(t,t.return,g)}break;case 4:Yt(e,t),mn(t);break;case 13:Yt(e,t),mn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Jp=Oe())),r&4&&Uv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(it=(c=it)||d,Yt(e,t),it=c):Yt(e,t),mn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(F=t,d=t.child;d!==null;){for(u=F=d;F!==null;){switch(h=F,p=h.child,h.tag){case 0:case 11:case 14:case 15:sa(4,h,h.return);break;case 1:Si(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){ke(r,n,g)}}break;case 5:Si(h,h.return);break;case 22:if(h.memoizedState!==null){zv(u);continue}}p!==null?(p.return=h,F=p):zv(u)}d=d.sibling}e:for(d=null,u=t;;){if(u.tag===5){if(d===null){d=u;try{s=u.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Aw("display",o))}catch(g){ke(t,t.return,g)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(g){ke(t,t.return,g)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Yt(e,t),mn(t),r&4&&Uv(t);break;case 21:break;default:Yt(e,t),mn(t)}}function mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sx(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ga(s,""),r.flags&=-33);var i=Fv(t);Eh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Fv(t);xh(t,a,o);break;default:throw Error(P(161))}}catch(l){ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jN(t,e,n){F=t,ax(t)}function ax(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||zl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||it;a=zl;var c=it;if(zl=o,(it=l)&&!c)for(F=s;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?Bv(s):l!==null?(l.return=o,F=l):Bv(s);for(;i!==null;)F=i,ax(i),i=i.sibling;F=s,zl=a,it=c}$v(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):$v(t)}}function $v(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:it||Fu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!it)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Jt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Cv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&wa(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}it||e.flags&512&&wh(e)}catch(h){ke(e,e.return,h)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function zv(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function Bv(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fu(4,e)}catch(l){ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ke(e,s,l)}}var i=e.return;try{wh(e)}catch(l){ke(e,i,l)}break;case 5:var o=e.return;try{wh(e)}catch(l){ke(e,o,l)}}}catch(l){ke(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var FN=Math.ceil,Kc=sr.ReactCurrentDispatcher,Yp=sr.ReactCurrentOwner,Wt=sr.ReactCurrentBatchConfig,ie=0,Ge=null,Le=null,Ye=0,Tt=0,Ti=fs(0),$e=0,Ra=null,zs=0,Uu=0,Xp=0,ia=null,_t=null,Jp=0,ro=1/0,Mn=null,qc=!1,bh=null,Hr=null,Bl=!1,jr=null,Qc=0,oa=0,Ch=null,hc=-1,pc=0;function ht(){return ie&6?Oe():hc!==-1?hc:hc=Oe()}function Gr(t){return t.mode&1?ie&2&&Ye!==0?Ye&-Ye:xN.transition!==null?(pc===0&&(pc=Hw()),pc):(t=ce,t!==0||(t=window.event,t=t===void 0?16:Jw(t.type)),t):1}function ln(t,e,n,r){if(50<oa)throw oa=0,Ch=null,Error(P(185));tl(t,n,r),(!(ie&2)||t!==Ge)&&(t===Ge&&(!(ie&2)&&(Uu|=n),$e===4&&Sr(t,Ye)),St(t,r),n===1&&ie===0&&!(e.mode&1)&&(ro=Oe()+500,Mu&&hs()))}function St(t,e){var n=t.callbackNode;xI(t,e);var r=Ac(t,t===Ge?Ye:0);if(r===0)n!==null&&Xg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Xg(n),e===1)t.tag===0?wN(Wv.bind(null,t)):v0(Wv.bind(null,t)),gN(function(){!(ie&6)&&hs()}),n=null;else{switch(Gw(r)){case 1:n=Cp;break;case 4:n=Ww;break;case 16:n=Rc;break;case 536870912:n=Vw;break;default:n=Rc}n=mx(n,lx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lx(t,e){if(hc=-1,pc=0,ie&6)throw Error(P(327));var n=t.callbackNode;if(Di()&&t.callbackNode!==n)return null;var r=Ac(t,t===Ge?Ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yc(t,r);else{e=r;var s=ie;ie|=2;var i=ux();(Ge!==t||Ye!==e)&&(Mn=null,ro=Oe()+500,Ms(t,e));do try{zN();break}catch(a){cx(t,a)}while(!0);jp(),Kc.current=i,ie=s,Le!==null?e=0:(Ge=null,Ye=0,e=$e)}if(e!==0){if(e===2&&(s=Xf(t),s!==0&&(r=s,e=Sh(t,s))),e===1)throw n=Ra,Ms(t,0),Sr(t,r),St(t,Oe()),n;if(e===6)Sr(t,r);else{if(s=t.current.alternate,!(r&30)&&!UN(s)&&(e=Yc(t,r),e===2&&(i=Xf(t),i!==0&&(r=i,e=Sh(t,i))),e===1))throw n=Ra,Ms(t,0),Sr(t,r),St(t,Oe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:bs(t,_t,Mn);break;case 3:if(Sr(t,r),(r&130023424)===r&&(e=Jp+500-Oe(),10<e)){if(Ac(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ht(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ih(bs.bind(null,t,_t,Mn),e);break}bs(t,_t,Mn);break;case 4:if(Sr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-an(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FN(r/1960))-r,10<r){t.timeoutHandle=ih(bs.bind(null,t,_t,Mn),r);break}bs(t,_t,Mn);break;case 5:bs(t,_t,Mn);break;default:throw Error(P(329))}}}return St(t,Oe()),t.callbackNode===n?lx.bind(null,t):null}function Sh(t,e){var n=ia;return t.current.memoizedState.isDehydrated&&(Ms(t,e).flags|=256),t=Yc(t,e),t!==2&&(e=_t,_t=n,e!==null&&Th(e)),t}function Th(t){_t===null?_t=t:_t.push.apply(_t,t)}function UN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!un(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sr(t,e){for(e&=~Xp,e&=~Uu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-an(e),r=1<<n;t[n]=-1,e&=~r}}function Wv(t){if(ie&6)throw Error(P(327));Di();var e=Ac(t,0);if(!(e&1))return St(t,Oe()),null;var n=Yc(t,e);if(t.tag!==0&&n===2){var r=Xf(t);r!==0&&(e=r,n=Sh(t,r))}if(n===1)throw n=Ra,Ms(t,0),Sr(t,e),St(t,Oe()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bs(t,_t,Mn),St(t,Oe()),null}function Zp(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(ro=Oe()+500,Mu&&hs())}}function Bs(t){jr!==null&&jr.tag===0&&!(ie&6)&&Di();var e=ie;ie|=1;var n=Wt.transition,r=ce;try{if(Wt.transition=null,ce=1,t)return t()}finally{ce=r,Wt.transition=n,ie=e,!(ie&6)&&hs()}}function em(){Tt=Ti.current,we(Ti)}function Ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mN(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Dp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jc();break;case 3:to(),we(bt),we(ot),Wp();break;case 5:Bp(r);break;case 4:to();break;case 13:we(Ce);break;case 19:we(Ce);break;case 10:Fp(r.type._context);break;case 22:case 23:em()}n=n.return}if(Ge=t,Le=t=Kr(t.current,null),Ye=Tt=e,$e=0,Ra=null,Xp=Uu=zs=0,_t=ia=null,Is!==null){for(e=0;e<Is.length;e++)if(n=Is[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Is=null}return t}function cx(t,e){do{var n=Le;try{if(jp(),uc.current=Gc,Hc){for(var r=Te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hc=!1}if($s=0,Be=je=Te=null,ra=!1,Na=0,Yp.current=null,n===null||n.return===null){$e=1,Ra=e,Le=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ye,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Pv(o);if(p!==null){p.flags&=-257,Rv(p,o,a,i,e),p.mode&1&&kv(i,c,e),e=p,l=c;var _=e.updateQueue;if(_===null){var g=new Set;g.add(l),e.updateQueue=g}else _.add(l);break e}else{if(!(e&1)){kv(i,c,e),tm();break e}l=Error(P(426))}}else if(be&&a.mode&1){var x=Pv(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Rv(x,o,a,i,e),Mp(no(l,a));break e}}i=l=no(l,a),$e!==4&&($e=2),ia===null?ia=[i]:ia.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=G0(i,l,e);bv(i,v);break e;case 1:a=l;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Hr===null||!Hr.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=K0(i,a,e);bv(i,E);break e}}i=i.return}while(i!==null)}fx(n)}catch(b){e=b,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function ux(){var t=Kc.current;return Kc.current=Gc,t===null?Gc:t}function tm(){($e===0||$e===3||$e===2)&&($e=4),Ge===null||!(zs&268435455)&&!(Uu&268435455)||Sr(Ge,Ye)}function Yc(t,e){var n=ie;ie|=2;var r=ux();(Ge!==t||Ye!==e)&&(Mn=null,Ms(t,e));do try{$N();break}catch(s){cx(t,s)}while(!0);if(jp(),ie=n,Kc.current=r,Le!==null)throw Error(P(261));return Ge=null,Ye=0,$e}function $N(){for(;Le!==null;)dx(Le)}function zN(){for(;Le!==null&&!fI();)dx(Le)}function dx(t){var e=px(t.alternate,t,Tt);t.memoizedProps=t.pendingProps,e===null?fx(t):Le=e,Yp.current=null}function fx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DN(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,Le=null;return}}else if(n=ON(n,e,Tt),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);$e===0&&($e=5)}function bs(t,e,n){var r=ce,s=Wt.transition;try{Wt.transition=null,ce=1,BN(t,e,n,r)}finally{Wt.transition=s,ce=r}return null}function BN(t,e,n,r){do Di();while(jr!==null);if(ie&6)throw Error(P(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(EI(t,i),t===Ge&&(Le=Ge=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bl||(Bl=!0,mx(Rc,function(){return Di(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Wt.transition,Wt.transition=null;var o=ce;ce=1;var a=ie;ie|=4,Yp.current=null,LN(t,n),ox(n,t),lN(rh),Oc=!!nh,rh=nh=null,t.current=n,jN(n),hI(),ie=a,ce=o,Wt.transition=i}else t.current=n;if(Bl&&(Bl=!1,jr=t,Qc=s),i=t.pendingLanes,i===0&&(Hr=null),gI(n.stateNode),St(t,Oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qc)throw qc=!1,t=bh,bh=null,t;return Qc&1&&t.tag!==0&&Di(),i=t.pendingLanes,i&1?t===Ch?oa++:(oa=0,Ch=t):oa=0,hs(),null}function Di(){if(jr!==null){var t=Gw(Qc),e=Wt.transition,n=ce;try{if(Wt.transition=null,ce=16>t?16:t,jr===null)var r=!1;else{if(t=jr,jr=null,Qc=0,ie&6)throw Error(P(331));var s=ie;for(ie|=4,F=t.current;F!==null;){var i=F,o=i.child;if(F.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(F=c;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:sa(8,d,i)}var u=d.child;if(u!==null)u.return=d,F=u;else for(;F!==null;){d=F;var h=d.sibling,p=d.return;if(rx(d),d===c){F=null;break}if(h!==null){h.return=p,F=h;break}F=p}}}var _=i.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}F=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,F=o;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:sa(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,F=v;break e}F=i.return}}var y=t.current;for(F=y;F!==null;){o=F;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,F=w;else e:for(o=y;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fu(9,a)}}catch(b){ke(a,a.return,b)}if(a===o){F=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,F=E;break e}F=a.return}}if(ie=s,hs(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Pu,t)}catch{}r=!0}return r}finally{ce=n,Wt.transition=e}}return!1}function Vv(t,e,n){e=no(n,e),e=G0(t,e,1),t=Vr(t,e,1),e=ht(),t!==null&&(tl(t,1,e),St(t,e))}function ke(t,e,n){if(t.tag===3)Vv(t,t,n);else for(;e!==null;){if(e.tag===3){Vv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hr===null||!Hr.has(r))){t=no(n,t),t=K0(e,t,1),e=Vr(e,t,1),t=ht(),e!==null&&(tl(e,1,t),St(e,t));break}}e=e.return}}function WN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ht(),t.pingedLanes|=t.suspendedLanes&n,Ge===t&&(Ye&n)===n&&($e===4||$e===3&&(Ye&130023424)===Ye&&500>Oe()-Jp?Ms(t,0):Xp|=n),St(t,e)}function hx(t,e){e===0&&(t.mode&1?(e=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):e=1);var n=ht();t=Xn(t,e),t!==null&&(tl(t,e,n),St(t,n))}function VN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hx(t,n)}function HN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),hx(t,n)}var px;px=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bt.current)wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wt=!1,AN(t,e,n);wt=!!(t.flags&131072)}else wt=!1,be&&e.flags&1048576&&y0(e,$c,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fc(t,e),t=e.pendingProps;var s=Ji(e,ot.current);Oi(e,n),s=Hp(null,e,r,t,s,n);var i=Gp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(r)?(i=!0,Fc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$p(e),s.updater=ju,e.stateNode=s,s._reactInternals=e,fh(e,r,t,n),e=mh(null,e,r,!0,i,n)):(e.tag=0,be&&i&&Op(e),ct(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=KN(r),t=Jt(r,t),s){case 0:e=ph(null,e,r,t,n);break e;case 1:e=Dv(null,e,r,t,n);break e;case 11:e=Av(null,e,r,t,n);break e;case 14:e=Ov(null,e,r,Jt(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),ph(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),Dv(t,e,r,s,n);case 3:e:{if(X0(e),t===null)throw Error(P(387));r=e.pendingProps,i=e.memoizedState,s=i.element,C0(t,e),Wc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=no(Error(P(423)),e),e=Mv(t,e,r,n,s);break e}else if(r!==s){s=no(Error(P(424)),e),e=Mv(t,e,r,n,s);break e}else for(Nt=Wr(e.stateNode.containerInfo.firstChild),kt=e,be=!0,rn=null,n=E0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zi(),r===s){e=Jn(t,e,n);break e}ct(t,e,r,n)}e=e.child}return e;case 5:return S0(e),t===null&&ch(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,sh(r,s)?o=null:i!==null&&sh(r,i)&&(e.flags|=32),Y0(t,e),ct(t,e,o,n),e.child;case 6:return t===null&&ch(e),null;case 13:return J0(t,e,n);case 4:return zp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=eo(e,null,r,n):ct(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),Av(t,e,r,s,n);case 7:return ct(t,e,e.pendingProps,n),e.child;case 8:return ct(t,e,e.pendingProps.children,n),e.child;case 12:return ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ve(zc,r._currentValue),r._currentValue=o,i!==null)if(un(i.value,o)){if(i.children===s.children&&!bt.current){e=Jn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Hn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),uh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),uh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ct(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Oi(e,n),s=Vt(s),r=r(s),e.flags|=1,ct(t,e,r,n),e.child;case 14:return r=e.type,s=Jt(r,e.pendingProps),s=Jt(r.type,s),Ov(t,e,r,s,n);case 15:return q0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jt(r,s),fc(t,e),e.tag=1,Ct(r)?(t=!0,Fc(e)):t=!1,Oi(e,n),H0(e,r,s),fh(e,r,s,n),mh(null,e,r,!0,t,n);case 19:return Z0(t,e,n);case 22:return Q0(t,e,n)}throw Error(P(156,e.tag))};function mx(t,e){return Bw(t,e)}function GN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,e,n,r){return new GN(t,e,n,r)}function nm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KN(t){if(typeof t=="function")return nm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xp)return 11;if(t===Ep)return 14}return 2}function Kr(t,e){var n=t.alternate;return n===null?(n=Ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")nm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gi:return Ls(n.children,s,i,e);case wp:o=8,s|=8;break;case Lf:return t=Ut(12,n,e,s|2),t.elementType=Lf,t.lanes=i,t;case jf:return t=Ut(13,n,e,s),t.elementType=jf,t.lanes=i,t;case Ff:return t=Ut(19,n,e,s),t.elementType=Ff,t.lanes=i,t;case Sw:return $u(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bw:o=10;break e;case Cw:o=9;break e;case xp:o=11;break e;case Ep:o=14;break e;case Er:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=Ut(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ls(t,e,n,r){return t=Ut(7,t,r,e),t.lanes=n,t}function $u(t,e,n,r){return t=Ut(22,t,r,e),t.elementType=Sw,t.lanes=n,t.stateNode={isHidden:!1},t}function tf(t,e,n){return t=Ut(6,t,null,e),t.lanes=n,t}function nf(t,e,n){return e=Ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qN(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ld(0),this.expirationTimes=Ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rm(t,e,n,r,s,i,o,a,l){return t=new qN(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ut(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$p(i),t}function QN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gx(t){if(!t)return ts;t=t._reactInternals;e:{if(Zs(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Ct(n))return g0(t,n,e)}return e}function vx(t,e,n,r,s,i,o,a,l){return t=rm(n,r,!0,t,s,i,o,a,l),t.context=gx(null),n=t.current,r=ht(),s=Gr(n),i=Hn(r,s),i.callback=e??null,Vr(n,i,s),t.current.lanes=s,tl(t,s,r),St(t,r),t}function zu(t,e,n,r){var s=e.current,i=ht(),o=Gr(s);return n=gx(n),e.context===null?e.context=n:e.pendingContext=n,e=Hn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vr(s,e,o),t!==null&&(ln(t,s,o,i),cc(t,s,o)),o}function Xc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sm(t,e){Hv(t,e),(t=t.alternate)&&Hv(t,e)}function YN(){return null}var yx=typeof reportError=="function"?reportError:function(t){console.error(t)};function im(t){this._internalRoot=t}Bu.prototype.render=im.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));zu(t,e,null,null)};Bu.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bs(function(){zu(null,t,null,null)}),e[Yn]=null}};function Bu(t){this._internalRoot=t}Bu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cr.length&&e!==0&&e<Cr[n].priority;n++);Cr.splice(n,0,t),n===0&&Xw(t)}};function om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Gv(){}function XN(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Xc(o);i.call(c)}}var o=vx(e,r,t,0,null,!1,!1,"",Gv);return t._reactRootContainer=o,t[Yn]=o.current,ba(t.nodeType===8?t.parentNode:t),Bs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Xc(l);a.call(c)}}var l=rm(t,0,!1,null,null,!1,!1,"",Gv);return t._reactRootContainer=l,t[Yn]=l.current,ba(t.nodeType===8?t.parentNode:t),Bs(function(){zu(e,l,n,r)}),l}function Vu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Xc(o);a.call(l)}}zu(e,o,t,s)}else o=XN(n,e,t,s,r);return Xc(o)}Kw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qo(e.pendingLanes);n!==0&&(Sp(e,n|1),St(e,Oe()),!(ie&6)&&(ro=Oe()+500,hs()))}break;case 13:Bs(function(){var r=Xn(t,1);if(r!==null){var s=ht();ln(r,t,1,s)}}),sm(t,1)}};Tp=function(t){if(t.tag===13){var e=Xn(t,134217728);if(e!==null){var n=ht();ln(e,t,134217728,n)}sm(t,134217728)}};qw=function(t){if(t.tag===13){var e=Gr(t),n=Xn(t,e);if(n!==null){var r=ht();ln(n,t,e,r)}sm(t,e)}};Qw=function(){return ce};Yw=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};qf=function(t,e,n){switch(e){case"input":if(zf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Du(r);if(!s)throw Error(P(90));Iw(r),zf(r,s)}}}break;case"textarea":kw(t,n);break;case"select":e=n.value,e!=null&&ki(t,!!n.multiple,e,!1)}};Lw=Zp;jw=Bs;var JN={usingClientEntryPoint:!1,Events:[rl,wi,Du,Dw,Mw,Zp]},Uo={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZN={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$w(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||YN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{Pu=Wl.inject(ZN),Cn=Wl}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JN;Ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!om(e))throw Error(P(200));return QN(t,e,null,n)};Ot.createRoot=function(t,e){if(!om(t))throw Error(P(299));var n=!1,r="",s=yx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rm(t,1,!1,null,null,n,!1,r,s),t[Yn]=e.current,ba(t.nodeType===8?t.parentNode:t),new im(e)};Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=$w(e),t=t===null?null:t.stateNode,t};Ot.flushSync=function(t){return Bs(t)};Ot.hydrate=function(t,e,n){if(!Wu(e))throw Error(P(200));return Vu(null,t,e,!0,n)};Ot.hydrateRoot=function(t,e,n){if(!om(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=yx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vx(e,null,t,1,n??null,s,!1,i,o),t[Yn]=e.current,ba(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Bu(e)};Ot.render=function(t,e,n){if(!Wu(e))throw Error(P(200));return Vu(null,t,e,!1,n)};Ot.unmountComponentAtNode=function(t){if(!Wu(t))throw Error(P(40));return t._reactRootContainer?(Bs(function(){Vu(null,null,t,!1,function(){t._reactRootContainer=null,t[Yn]=null})}),!0):!1};Ot.unstable_batchedUpdates=Zp;Ot.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wu(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Vu(t,e,n,!1,r)};Ot.version="18.3.1-next-f1338f8080-20240426";function _x(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_x)}catch(t){console.error(t)}}_x(),_w.exports=Ot;var il=_w.exports;const wx=ow(il);var xx,Kv=il;xx=Kv.createRoot,Kv.hydrateRoot;const e1=1,t1=1e6;let rf=0;function n1(){return rf=(rf+1)%Number.MAX_SAFE_INTEGER,rf.toString()}const sf=new Map,qv=t=>{if(sf.has(t))return;const e=setTimeout(()=>{sf.delete(t),aa({type:"REMOVE_TOAST",toastId:t})},t1);sf.set(t,e)},r1=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,e1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?qv(n):t.toasts.forEach(r=>{qv(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},gc=[];let vc={toasts:[]};function aa(t){vc=r1(vc,t),gc.forEach(e=>{e(vc)})}function s1({...t}){const e=n1(),n=s=>aa({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>aa({type:"DISMISS_TOAST",toastId:e});return aa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function am(){const[t,e]=m.useState(vc);return m.useEffect(()=>(gc.push(e),()=>{const n=gc.indexOf(e);n>-1&&gc.splice(n,1)}),[t]),{...t,toast:s1,dismiss:n=>aa({type:"DISMISS_TOAST",toastId:n})}}function se(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Qv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ex(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Qv(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Qv(t[s],null)}}}}function at(...t){return m.useCallback(Ex(...t),t)}function i1(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ei(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const c=u=>{var v;const{scope:h,children:p,..._}=u,g=((v=h==null?void 0:h[t])==null?void 0:v[l])||a,x=m.useMemo(()=>_,Object.values(_));return f.jsx(g.Provider,{value:x,children:p})};c.displayName=i+"Provider";function d(u,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[l])||a,_=m.useContext(p);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,o1(s,...e)]}function o1(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(i)[`__scope${c}`];return{...a,...u}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Aa(t){const e=l1(t),n=m.forwardRef((r,s)=>{const{children:i,...o}=r,a=m.Children.toArray(i),l=a.find(u1);if(l){const c=l.props.children,d=a.map(u=>u===l?m.Children.count(c)>1?m.Children.only(null):m.isValidElement(c)?c.props.children:null:u);return f.jsx(e,{...o,ref:s,children:m.isValidElement(c)?m.cloneElement(c,void 0,d):null})}return f.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var a1=Aa("Slot");function l1(t){const e=m.forwardRef((n,r)=>{const{children:s,...i}=n;if(m.isValidElement(s)){const o=f1(s),a=d1(i,s.props);return s.type!==m.Fragment&&(a.ref=r?Ex(r,o):o),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var bx=Symbol("radix.slottable");function c1(t){const e=({children:n})=>f.jsx(f.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=bx,e}function u1(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bx}function d1(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function f1(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Cx(t){const e=t+"CollectionProvider",[n,r]=ei(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:x,children:v}=g,y=O.useRef(null),w=O.useRef(new Map).current;return f.jsx(s,{scope:x,itemMap:w,collectionRef:y,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=Aa(a),c=O.forwardRef((g,x)=>{const{scope:v,children:y}=g,w=i(a,v),E=at(x,w.collectionRef);return f.jsx(l,{ref:E,children:y})});c.displayName=a;const d=t+"CollectionItemSlot",u="data-radix-collection-item",h=Aa(d),p=O.forwardRef((g,x)=>{const{scope:v,children:y,...w}=g,E=O.useRef(null),b=at(x,E),C=i(d,v);return O.useEffect(()=>(C.itemMap.set(E,{ref:E,...w}),()=>void C.itemMap.delete(E))),f.jsx(h,{[u]:"",ref:b,children:y})});p.displayName=d;function _(g){const x=i(t+"CollectionConsumer",g);return O.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(x.itemMap.values()).sort((C,S)=>w.indexOf(C.ref.current)-w.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},_,r]}var h1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],pe=h1.reduce((t,e)=>{const n=Aa(`Primitive.${e}`),r=m.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Sx(t,e){t&&il.flushSync(()=>t.dispatchEvent(e))}function At(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function p1(t,e=globalThis==null?void 0:globalThis.document){const n=At(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var m1="DismissableLayer",Ih="dismissableLayer.update",g1="dismissableLayer.pointerDownOutside",v1="dismissableLayer.focusOutside",Yv,Tx=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hu=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=m.useContext(Tx),[d,u]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),_=at(e,S=>u(S)),g=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(x),y=d?g.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,E=y>=v,b=_1(S=>{const T=S.target,A=[...c.branches].some(D=>D.contains(T));!E||A||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},h),C=w1(S=>{const T=S.target;[...c.branches].some(D=>D.contains(T))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},h);return p1(S=>{y===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},h),m.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Yv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Xv(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Yv)}},[d,h,n,c]),m.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Xv())},[d,c]),m.useEffect(()=>{const S=()=>p({});return document.addEventListener(Ih,S),()=>document.removeEventListener(Ih,S)},[]),f.jsx(pe.div,{...l,ref:_,style:{pointerEvents:w?E?"auto":"none":void 0,...t.style},onFocusCapture:se(t.onFocusCapture,C.onFocusCapture),onBlurCapture:se(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:se(t.onPointerDownCapture,b.onPointerDownCapture)})});Hu.displayName=m1;var y1="DismissableLayerBranch",Ix=m.forwardRef((t,e)=>{const n=m.useContext(Tx),r=m.useRef(null),s=at(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(pe.div,{...t,ref:s})});Ix.displayName=y1;function _1(t,e=globalThis==null?void 0:globalThis.document){const n=At(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Nx(g1,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function w1(t,e=globalThis==null?void 0:globalThis.document){const n=At(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&Nx(v1,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Xv(){const t=new CustomEvent(Ih);document.dispatchEvent(t)}function Nx(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Sx(s,i):s.dispatchEvent(i)}var x1=Hu,E1=Ix,ns=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},b1="Portal",lm=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);ns(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?wx.createPortal(f.jsx(pe.div,{...r,ref:e}),o):null});lm.displayName=b1;function C1(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var ti=t=>{const{present:e,children:n}=t,r=S1(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=at(r.ref,T1(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};ti.displayName="Presence";function S1(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=C1(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const c=Vl(r.current);i.current=a==="mounted"?c:"none"},[a]),ns(()=>{const c=r.current,d=s.current;if(d!==t){const h=i.current,p=Vl(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),ns(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,u=p=>{const g=Vl(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=p=>{p.target===e&&(i.current=Vl(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Vl(t){return(t==null?void 0:t.animationName)||"none"}function T1(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Gu({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=I1({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=At(n),l=m.useCallback(c=>{if(i){const u=typeof c=="function"?c(t):c;u!==t&&a(u)}else s(c)},[i,t,s,a]);return[o,l]}function I1({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=At(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var N1="VisuallyHidden",Ku=m.forwardRef((t,e)=>f.jsx(pe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ku.displayName=N1;var k1=Ku,cm="ToastProvider",[um,P1,R1]=Cx("Toast"),[kx,H3]=ei("Toast",[R1]),[A1,qu]=kx(cm),Px=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[c,d]=m.useState(0),u=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${cm}\`. Expected non-empty \`string\`.`),f.jsx(um.Provider,{scope:e,children:f.jsx(A1,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:o})})};Px.displayName=cm;var Rx="ToastViewport",O1=["F8"],Nh="toast.viewportPause",kh="toast.viewportResume",Ax=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=O1,label:s="Notifications ({hotkey})",...i}=t,o=qu(Rx,n),a=P1(n),l=m.useRef(null),c=m.useRef(null),d=m.useRef(null),u=m.useRef(null),h=at(e,u,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;m.useEffect(()=>{const x=v=>{var w;r.length!==0&&r.every(E=>v[E]||v.code===E)&&((w=u.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),m.useEffect(()=>{const x=l.current,v=u.current;if(_&&x&&v){const y=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Nh);v.dispatchEvent(C),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(kh);v.dispatchEvent(C),o.isClosePausedRef.current=!1}},E=C=>{!x.contains(C.relatedTarget)&&w()},b=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",y),x.addEventListener("focusout",E),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",b),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",E),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",b),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[_,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:x})=>{const y=a().map(w=>{const E=w.ref.current,b=[E,...G1(E)];return x==="forwards"?b:b.reverse()});return(x==="forwards"?y.reverse():y).flat()},[a]);return m.useEffect(()=>{const x=u.current;if(x){const v=y=>{var b,C,S;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const T=document.activeElement,A=y.shiftKey;if(y.target===x&&A){(b=c.current)==null||b.focus();return}const j=g({tabbingDirection:A?"backwards":"forwards"}),H=j.findIndex(M=>M===T);of(j.slice(H+1))?y.preventDefault():A?(C=c.current)==null||C.focus():(S=d.current)==null||S.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[a,g]),f.jsxs(E1,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&f.jsx(Ph,{ref:c,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});of(x)}}),f.jsx(um.Slot,{scope:n,children:f.jsx(pe.ol,{tabIndex:-1,...i,ref:h})}),_&&f.jsx(Ph,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});of(x)}})]})});Ax.displayName=Rx;var Ox="ToastFocusProxy",Ph=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=qu(Ox,n);return f.jsx(Ku,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Ph.displayName=Ox;var Qu="Toast",D1="toast.swipeStart",M1="toast.swipeMove",L1="toast.swipeCancel",j1="toast.swipeEnd",Dx=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=Gu({prop:r,defaultProp:s,onChange:i});return f.jsx(ti,{present:n||a,children:f.jsx($1,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:At(t.onPause),onResume:At(t.onResume),onSwipeStart:se(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(t.onSwipeMove,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:se(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(t.onSwipeEnd,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})})});Dx.displayName=Qu;var[F1,U1]=kx(Qu,{onClose(){}}),$1=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:p,..._}=t,g=qu(Qu,n),[x,v]=m.useState(null),y=at(e,M=>v(M)),w=m.useRef(null),E=m.useRef(null),b=s||g.duration,C=m.useRef(0),S=m.useRef(b),T=m.useRef(0),{onToastAdd:A,onToastRemove:D}=g,z=At(()=>{var Z;(x==null?void 0:x.contains(document.activeElement))&&((Z=g.viewport)==null||Z.focus()),o()}),j=m.useCallback(M=>{!M||M===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(z,M))},[z]);m.useEffect(()=>{const M=g.viewport;if(M){const Z=()=>{j(S.current),c==null||c()},U=()=>{const q=new Date().getTime()-C.current;S.current=S.current-q,window.clearTimeout(T.current),l==null||l()};return M.addEventListener(Nh,U),M.addEventListener(kh,Z),()=>{M.removeEventListener(Nh,U),M.removeEventListener(kh,Z)}}},[g.viewport,b,l,c,j]),m.useEffect(()=>{i&&!g.isClosePausedRef.current&&j(b)},[i,b,g.isClosePausedRef,j]),m.useEffect(()=>(A(),()=>D()),[A,D]);const H=m.useMemo(()=>x?zx(x):null,[x]);return g.viewport?f.jsxs(f.Fragment,{children:[H&&f.jsx(z1,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),f.jsx(F1,{scope:n,onClose:z,children:il.createPortal(f.jsx(um.ItemSlot,{scope:n,children:f.jsx(x1,{asChild:!0,onEscapeKeyDown:se(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||z(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,..._,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:se(t.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:se(t.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:se(t.onPointerMove,M=>{if(!w.current)return;const Z=M.clientX-w.current.x,U=M.clientY-w.current.y,q=!!E.current,N=["left","right"].includes(g.swipeDirection),k=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,L=N?k(0,Z):0,G=N?0:k(0,U),$=M.pointerType==="touch"?10:2,ee={x:L,y:G},re={originalEvent:M,delta:ee};q?(E.current=ee,Hl(M1,u,re,{discrete:!1})):Jv(ee,g.swipeDirection,$)?(E.current=ee,Hl(D1,d,re,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(Z)>$||Math.abs(U)>$)&&(w.current=null)}),onPointerUp:se(t.onPointerUp,M=>{const Z=E.current,U=M.target;if(U.hasPointerCapture(M.pointerId)&&U.releasePointerCapture(M.pointerId),E.current=null,w.current=null,Z){const q=M.currentTarget,N={originalEvent:M,delta:Z};Jv(Z,g.swipeDirection,g.swipeThreshold)?Hl(j1,p,N,{discrete:!0}):Hl(L1,h,N,{discrete:!0}),q.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),z1=t=>{const{__scopeToast:e,children:n,...r}=t,s=qu(Qu,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return V1(()=>o(!0)),m.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:f.jsx(lm,{asChild:!0,children:f.jsx(Ku,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},B1="ToastTitle",Mx=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(pe.div,{...r,ref:e})});Mx.displayName=B1;var W1="ToastDescription",Lx=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(pe.div,{...r,ref:e})});Lx.displayName=W1;var jx="ToastAction",Fx=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx($x,{altText:n,asChild:!0,children:f.jsx(dm,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${jx}\`. Expected non-empty \`string\`.`),null)});Fx.displayName=jx;var Ux="ToastClose",dm=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=U1(Ux,n);return f.jsx($x,{asChild:!0,children:f.jsx(pe.button,{type:"button",...r,ref:e,onClick:se(t.onClick,s.onClose)})})});dm.displayName=Ux;var $x=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function zx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),H1(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...zx(r))}}),e}function Hl(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Sx(s,i):s.dispatchEvent(i)}var Jv=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function V1(t=()=>{}){const e=At(t);ns(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function H1(t){return t.nodeType===t.ELEMENT_NODE}function G1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function of(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var K1=Px,Bx=Ax,Wx=Dx,Vx=Mx,Hx=Lx,Gx=Fx,Kx=dm;function qx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=qx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Qx(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=qx(t))&&(r&&(r+=" "),r+=e);return r}const Zv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ey=Qx,ol=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return ey(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],u=i==null?void 0:i[c];if(d===null)return null;const h=Zv(d)||Zv(u);return s[c][h]}),a=n&&Object.entries(n).reduce((c,d)=>{let[u,h]=d;return h===void 0||(c[u]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:h,...p}=d;return Object.entries(p).every(_=>{let[g,x]=_;return Array.isArray(x)?x.includes({...i,...a}[g]):{...i,...a}[g]===x})?[...c,u,h]:c},[]);return ey(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...Q1,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Yx("lucide",s),...a},[...o.map(([c,d])=>m.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(Y1,{ref:i,iconNode:e,className:Yx(`lucide-${q1(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Pn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Pn("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Pn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=Pn("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=Pn("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=Pn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=Pn("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=Pn("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=Pn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=Pn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fm="-",ok=t=>{const e=lk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(fm);return a[0]===""&&a.length!==1&&a.shift(),Jx(a,e)||ak(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Jx=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Jx(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(fm);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},ty=/^\[(.+)\]$/,ak=t=>{if(ty.test(t)){const e=ty.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},lk=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return uk(Object.entries(t.classGroups),n).forEach(([i,o])=>{Rh(o,r,i,e)}),r},Rh=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ny(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(ck(s)){Rh(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Rh(o,ny(e,i),n,r)})})},ny=(t,e)=>{let n=t;return e.split(fm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ck=t=>t.isThemeGetter,uk=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,dk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Zx="!",fk=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,u;for(let x=0;x<a.length;x++){let v=a[x];if(c===0){if(v===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(d,x)),d=x+i;continue}if(v==="/"){u=x;continue}}v==="["?c++:v==="]"&&c--}const h=l.length===0?a:a.substring(d),p=h.startsWith(Zx),_=p?h.substring(1):h,g=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:_,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},hk=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},pk=t=>({cache:dk(t.cacheSize),parseClassName:fk(t),...ok(t)}),mk=/\s+/,gk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(mk);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let _=!!p,g=r(_?h.substring(0,p):h);if(!g){if(!_){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}_=!1}const x=hk(d).join(":"),v=u?x+Zx:x,y=v+g;if(i.includes(y))continue;i.push(y);const w=s(g,_);for(let E=0;E<w.length;++E){const b=w[E];i.push(v+b)}a=c+(a.length>0?" "+a:a)}return a};function vk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eE(e))&&(r&&(r+=" "),r+=n);return r}const eE=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eE(t[r]))&&(n&&(n+=" "),n+=e);return n};function yk(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,u)=>u(d),t());return n=pk(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=gk(l,n);return s(l,d),d}return function(){return i(vk.apply(null,arguments))}}const ye=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tE=/^\[(?:([a-z-]+):)?(.+)\]$/i,_k=/^\d+\/\d+$/,wk=new Set(["px","full","screen"]),xk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ek=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ck=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,On=t=>Mi(t)||wk.has(t)||_k.test(t),vr=t=>go(t,"length",Ok),Mi=t=>!!t&&!Number.isNaN(Number(t)),af=t=>go(t,"number",Mi),$o=t=>!!t&&Number.isInteger(Number(t)),Tk=t=>t.endsWith("%")&&Mi(t.slice(0,-1)),Q=t=>tE.test(t),yr=t=>xk.test(t),Ik=new Set(["length","size","percentage"]),Nk=t=>go(t,Ik,nE),kk=t=>go(t,"position",nE),Pk=new Set(["image","url"]),Rk=t=>go(t,Pk,Mk),Ak=t=>go(t,"",Dk),zo=()=>!0,go=(t,e,n)=>{const r=tE.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Ok=t=>Ek.test(t)&&!bk.test(t),nE=()=>!1,Dk=t=>Ck.test(t),Mk=t=>Sk.test(t),Lk=()=>{const t=ye("colors"),e=ye("spacing"),n=ye("blur"),r=ye("brightness"),s=ye("borderColor"),i=ye("borderRadius"),o=ye("borderSpacing"),a=ye("borderWidth"),l=ye("contrast"),c=ye("grayscale"),d=ye("hueRotate"),u=ye("invert"),h=ye("gap"),p=ye("gradientColorStops"),_=ye("gradientColorStopPositions"),g=ye("inset"),x=ye("margin"),v=ye("opacity"),y=ye("padding"),w=ye("saturate"),E=ye("scale"),b=ye("sepia"),C=ye("skew"),S=ye("space"),T=ye("translate"),A=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",Q,e],j=()=>[Q,e],H=()=>["",On,vr],M=()=>["auto",Mi,Q],Z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",Q],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Mi,Q];return{cacheSize:500,separator:":",theme:{colors:[zo],spacing:[On,vr],blur:["none","",yr,Q],brightness:G(),borderColor:[t],borderRadius:["none","","full",yr,Q],borderSpacing:j(),borderWidth:H(),contrast:G(),grayscale:k(),hueRotate:G(),invert:k(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[Tk,vr],inset:z(),margin:z(),opacity:G(),padding:j(),saturate:G(),scale:G(),sepia:k(),skew:G(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",Q]}],container:["container"],columns:[{columns:[yr]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Z(),Q]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$o,Q]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Q]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",$o,Q]}],"grid-cols":[{"grid-cols":[zo]}],"col-start-end":[{col:["auto",{span:["full",$o,Q]},Q]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[zo]}],"row-start-end":[{row:["auto",{span:[$o,Q]},Q]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Q]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Q,e]}],"min-w":[{"min-w":[Q,e,"min","max","fit"]}],"max-w":[{"max-w":[Q,e,"none","full","min","max","fit","prose",{screen:[yr]},yr]}],h:[{h:[Q,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Q,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Q,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Q,e,"auto","min","max","fit"]}],"font-size":[{text:["base",yr,vr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",af]}],"font-family":[{font:[zo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Q]}],"line-clamp":[{"line-clamp":["none",Mi,af]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",On,Q]}],"list-image":[{"list-image":["none",Q]}],"list-style-type":[{list:["none","disc","decimal",Q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",On,vr]}],"underline-offset":[{"underline-offset":["auto",On,Q]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Z(),kk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Rk]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[On,Q]}],"outline-w":[{outline:[On,vr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[On,vr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",yr,Ak]}],"shadow-color":[{shadow:[zo]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",yr,Q]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[w]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Q]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Q]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[$o,Q]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Q]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Q]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Q]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[On,vr,af]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jk=yk(Lk);function ne(...t){return jk(Qx(t))}const Fk=K1,rE=m.forwardRef(({className:t,...e},n)=>f.jsx(Bx,{ref:n,className:ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));rE.displayName=Bx.displayName;const Uk=ol("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sE=m.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(Wx,{ref:r,className:ne(Uk({variant:e}),t),...n}));sE.displayName=Wx.displayName;const $k=m.forwardRef(({className:t,...e},n)=>f.jsx(Gx,{ref:n,className:ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));$k.displayName=Gx.displayName;const iE=m.forwardRef(({className:t,...e},n)=>f.jsx(Kx,{ref:n,className:ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(Xx,{className:"h-4 w-4"})}));iE.displayName=Kx.displayName;const oE=m.forwardRef(({className:t,...e},n)=>f.jsx(Vx,{ref:n,className:ne("text-sm font-semibold",t),...e}));oE.displayName=Vx.displayName;const aE=m.forwardRef(({className:t,...e},n)=>f.jsx(Hx,{ref:n,className:ne("text-sm opacity-90",t),...e}));aE.displayName=Hx.displayName;function zk(){const{toasts:t}=am();return f.jsxs(Fk,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(sE,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(oE,{children:n}),r&&f.jsx(aE,{children:r})]}),s,f.jsx(iE,{})]},e)}),f.jsx(rE,{})]})}var ry=["light","dark"],Bk="(prefers-color-scheme: dark)",Wk=m.createContext(void 0),Vk={setTheme:t=>{},themes:[]},Hk=()=>{var t;return(t=m.useContext(Wk))!=null?t:Vk};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,u=s?ry.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(_,g=!1,x=!0)=>{let v=o?o[_]:_,y=g?_+"|| ''":`'${v}'`,w="";return s&&x&&!g&&ry.includes(_)&&(w+=`d.style.colorScheme = '${_}';`),n==="class"?g||v?w+=`c.add(${y})`:w+="null":v&&(w+=`d[s](n,${y})`),w},p=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Bk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(i,!1,!1)+"}"}${u}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${u}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var Gk=t=>{switch(t){case"success":return Qk;case"info":return Xk;case"warning":return Yk;case"error":return Jk;default:return null}},Kk=Array(12).fill(0),qk=({visible:t,className:e})=>O.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},O.createElement("div",{className:"sonner-spinner"},Kk.map((n,r)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Qk=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Yk=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Xk=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Jk=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Zk=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eP=()=>{let[t,e]=O.useState(document.hidden);return O.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ah=1,tP=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Ah++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],O.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(rP(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:d})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:d})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Ah++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yt=new tP,nP=(t,e)=>{let n=(e==null?void 0:e.id)||Ah++;return yt.addToast({title:t,...e,id:n}),n},rP=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",sP=nP,iP=()=>yt.toasts,oP=()=>yt.getActiveToasts(),he=Object.assign(sP,{success:yt.success,info:yt.info,warning:yt.warning,error:yt.error,custom:yt.custom,message:yt.message,promise:yt.promise,dismiss:yt.dismiss,loading:yt.loading},{getHistory:iP,getToasts:oP});function aP(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}aP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Gl(t){return t.label!==void 0}var lP=3,cP="32px",uP="16px",sy=4e3,dP=356,fP=14,hP=20,pP=200;function Xt(...t){return t.filter(Boolean).join(" ")}function mP(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var gP=t=>{var e,n,r,s,i,o,a,l,c,d,u;let{invert:h,toast:p,unstyled:_,interacting:g,setHeights:x,visibleToasts:v,heights:y,index:w,toasts:E,expanded:b,removeToast:C,defaultRichColors:S,closeButton:T,style:A,cancelButtonStyle:D,actionButtonStyle:z,className:j="",descriptionClassName:H="",duration:M,position:Z,gap:U,loadingIcon:q,expandByDefault:N,classNames:k,icons:L,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:$}=t,[ee,re]=O.useState(null),[Me,et]=O.useState(null),[le,si]=O.useState(!1),[ur,_s]=O.useState(!1),[dr,ii]=O.useState(!1),[fr,bl]=O.useState(!1),[Td,Cl]=O.useState(!1),[Id,Po]=O.useState(0),[oi,Ag]=O.useState(0),Ro=O.useRef(p.duration||M||sy),Og=O.useRef(null),ws=O.useRef(null),_T=w===0,wT=w+1<=v,Mt=p.type,ai=p.dismissible!==!1,xT=p.className||"",ET=p.descriptionClassName||"",Sl=O.useMemo(()=>y.findIndex(V=>V.toastId===p.id)||0,[y,p.id]),bT=O.useMemo(()=>{var V;return(V=p.closeButton)!=null?V:T},[p.closeButton,T]),Dg=O.useMemo(()=>p.duration||M||sy,[p.duration,M]),Nd=O.useRef(0),li=O.useRef(0),Mg=O.useRef(0),ci=O.useRef(null),[CT,ST]=Z.split("-"),Lg=O.useMemo(()=>y.reduce((V,de,xe)=>xe>=Sl?V:V+de.height,0),[y,Sl]),jg=eP(),TT=p.invert||h,kd=Mt==="loading";li.current=O.useMemo(()=>Sl*U+Lg,[Sl,Lg]),O.useEffect(()=>{Ro.current=Dg},[Dg]),O.useEffect(()=>{si(!0)},[]),O.useEffect(()=>{let V=ws.current;if(V){let de=V.getBoundingClientRect().height;return Ag(de),x(xe=>[{toastId:p.id,height:de,position:p.position},...xe]),()=>x(xe=>xe.filter(Kt=>Kt.toastId!==p.id))}},[x,p.id]),O.useLayoutEffect(()=>{if(!le)return;let V=ws.current,de=V.style.height;V.style.height="auto";let xe=V.getBoundingClientRect().height;V.style.height=de,Ag(xe),x(Kt=>Kt.find(qt=>qt.toastId===p.id)?Kt.map(qt=>qt.toastId===p.id?{...qt,height:xe}:qt):[{toastId:p.id,height:xe,position:p.position},...Kt])},[le,p.title,p.description,x,p.id]);let hr=O.useCallback(()=>{_s(!0),Po(li.current),x(V=>V.filter(de=>de.toastId!==p.id)),setTimeout(()=>{C(p)},pP)},[p,C,x,li]);O.useEffect(()=>{if(p.promise&&Mt==="loading"||p.duration===1/0||p.type==="loading")return;let V;return b||g||$&&jg?(()=>{if(Mg.current<Nd.current){let de=new Date().getTime()-Nd.current;Ro.current=Ro.current-de}Mg.current=new Date().getTime()})():Ro.current!==1/0&&(Nd.current=new Date().getTime(),V=setTimeout(()=>{var de;(de=p.onAutoClose)==null||de.call(p,p),hr()},Ro.current)),()=>clearTimeout(V)},[b,g,p,Mt,$,jg,hr]),O.useEffect(()=>{p.delete&&hr()},[hr,p.delete]);function IT(){var V,de,xe;return L!=null&&L.loading?O.createElement("div",{className:Xt(k==null?void 0:k.loader,(V=p==null?void 0:p.classNames)==null?void 0:V.loader,"sonner-loader"),"data-visible":Mt==="loading"},L.loading):q?O.createElement("div",{className:Xt(k==null?void 0:k.loader,(de=p==null?void 0:p.classNames)==null?void 0:de.loader,"sonner-loader"),"data-visible":Mt==="loading"},q):O.createElement(qk,{className:Xt(k==null?void 0:k.loader,(xe=p==null?void 0:p.classNames)==null?void 0:xe.loader),visible:Mt==="loading"})}return O.createElement("li",{tabIndex:0,ref:ws,className:Xt(j,xT,k==null?void 0:k.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,k==null?void 0:k.default,k==null?void 0:k[Mt],(n=p==null?void 0:p.classNames)==null?void 0:n[Mt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:S,"data-styled":!(p.jsx||p.unstyled||_),"data-mounted":le,"data-promise":!!p.promise,"data-swiped":Td,"data-removed":ur,"data-visible":wT,"data-y-position":CT,"data-x-position":ST,"data-index":w,"data-front":_T,"data-swiping":dr,"data-dismissible":ai,"data-type":Mt,"data-invert":TT,"data-swipe-out":fr,"data-swipe-direction":Me,"data-expanded":!!(b||N&&le),style:{"--index":w,"--toasts-before":w,"--z-index":E.length-w,"--offset":`${ur?Id:li.current}px`,"--initial-height":N?"auto":`${oi}px`,...A,...p.style},onDragEnd:()=>{ii(!1),re(null),ci.current=null},onPointerDown:V=>{kd||!ai||(Og.current=new Date,Po(li.current),V.target.setPointerCapture(V.pointerId),V.target.tagName!=="BUTTON"&&(ii(!0),ci.current={x:V.clientX,y:V.clientY}))},onPointerUp:()=>{var V,de,xe,Kt;if(fr||!ai)return;ci.current=null;let qt=Number(((V=ws.current)==null?void 0:V.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),pr=Number(((de=ws.current)==null?void 0:de.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xs=new Date().getTime()-((xe=Og.current)==null?void 0:xe.getTime()),Qt=ee==="x"?qt:pr,mr=Math.abs(Qt)/xs;if(Math.abs(Qt)>=hP||mr>.11){Po(li.current),(Kt=p.onDismiss)==null||Kt.call(p,p),et(ee==="x"?qt>0?"right":"left":pr>0?"down":"up"),hr(),bl(!0),Cl(!1);return}ii(!1),re(null)},onPointerMove:V=>{var de,xe,Kt,qt;if(!ci.current||!ai||((de=window.getSelection())==null?void 0:de.toString().length)>0)return;let pr=V.clientY-ci.current.y,xs=V.clientX-ci.current.x,Qt=(xe=t.swipeDirections)!=null?xe:mP(Z);!ee&&(Math.abs(xs)>1||Math.abs(pr)>1)&&re(Math.abs(xs)>Math.abs(pr)?"x":"y");let mr={x:0,y:0};ee==="y"?(Qt.includes("top")||Qt.includes("bottom"))&&(Qt.includes("top")&&pr<0||Qt.includes("bottom")&&pr>0)&&(mr.y=pr):ee==="x"&&(Qt.includes("left")||Qt.includes("right"))&&(Qt.includes("left")&&xs<0||Qt.includes("right")&&xs>0)&&(mr.x=xs),(Math.abs(mr.x)>0||Math.abs(mr.y)>0)&&Cl(!0),(Kt=ws.current)==null||Kt.style.setProperty("--swipe-amount-x",`${mr.x}px`),(qt=ws.current)==null||qt.style.setProperty("--swipe-amount-y",`${mr.y}px`)}},bT&&!p.jsx?O.createElement("button",{"aria-label":G,"data-disabled":kd,"data-close-button":!0,onClick:kd||!ai?()=>{}:()=>{var V;hr(),(V=p.onDismiss)==null||V.call(p,p)},className:Xt(k==null?void 0:k.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=L==null?void 0:L.close)!=null?i:Zk):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:O.createElement(O.Fragment,null,Mt||p.icon||p.promise?O.createElement("div",{"data-icon":"",className:Xt(k==null?void 0:k.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||IT():null,p.type!=="loading"?p.icon||(L==null?void 0:L[Mt])||Gk(Mt):null):null,O.createElement("div",{"data-content":"",className:Xt(k==null?void 0:k.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},O.createElement("div",{"data-title":"",className:Xt(k==null?void 0:k.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?O.createElement("div",{"data-description":"",className:Xt(H,ET,k==null?void 0:k.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&Gl(p.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||D,onClick:V=>{var de,xe;Gl(p.cancel)&&ai&&((xe=(de=p.cancel).onClick)==null||xe.call(de,V),hr())},className:Xt(k==null?void 0:k.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&Gl(p.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||z,onClick:V=>{var de,xe;Gl(p.action)&&((xe=(de=p.action).onClick)==null||xe.call(de,V),!V.defaultPrevented&&hr())},className:Xt(k==null?void 0:k.actionButton,(u=p==null?void 0:p.classNames)==null?void 0:u.actionButton)},p.action.label):null))};function iy(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function vP(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?uP:cP;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var yP=m.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:u,duration:h,style:p,visibleToasts:_=lP,toastOptions:g,dir:x=iy(),gap:v=fP,loadingIcon:y,icons:w,containerAriaLabel:E="Notifications",pauseWhenPageIsHidden:b}=t,[C,S]=O.useState([]),T=O.useMemo(()=>Array.from(new Set([r].concat(C.filter($=>$.position).map($=>$.position)))),[C,r]),[A,D]=O.useState([]),[z,j]=O.useState(!1),[H,M]=O.useState(!1),[Z,U]=O.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=O.useRef(null),N=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=O.useRef(null),L=O.useRef(!1),G=O.useCallback($=>{S(ee=>{var re;return(re=ee.find(Me=>Me.id===$.id))!=null&&re.delete||yt.dismiss($.id),ee.filter(({id:Me})=>Me!==$.id)})},[]);return O.useEffect(()=>yt.subscribe($=>{if($.dismiss){S(ee=>ee.map(re=>re.id===$.id?{...re,delete:!0}:re));return}setTimeout(()=>{wx.flushSync(()=>{S(ee=>{let re=ee.findIndex(Me=>Me.id===$.id);return re!==-1?[...ee.slice(0,re),{...ee[re],...$},...ee.slice(re+1)]:[$,...ee]})})})}),[]),O.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:ee})=>{U(ee?"dark":"light")})}catch{$.addListener(({matches:re})=>{try{U(re?"dark":"light")}catch(Me){console.error(Me)}})}},[d]),O.useEffect(()=>{C.length<=1&&j(!1)},[C]),O.useEffect(()=>{let $=ee=>{var re,Me;s.every(et=>ee[et]||ee.code===et)&&(j(!0),(re=q.current)==null||re.focus()),ee.code==="Escape"&&(document.activeElement===q.current||(Me=q.current)!=null&&Me.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[s]),O.useEffect(()=>{if(q.current)return()=>{k.current&&(k.current.focus({preventScroll:!0}),k.current=null,L.current=!1)}},[q.current]),O.createElement("section",{ref:e,"aria-label":`${E} ${N}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map(($,ee)=>{var re;let[Me,et]=$.split("-");return C.length?O.createElement("ol",{key:$,dir:x==="auto"?iy():x,tabIndex:-1,ref:q,className:a,"data-sonner-toaster":!0,"data-theme":Z,"data-y-position":Me,"data-lifted":z&&C.length>1&&!i,"data-x-position":et,style:{"--front-toast-height":`${((re=A[0])==null?void 0:re.height)||0}px`,"--width":`${dP}px`,"--gap":`${v}px`,...p,...vP(l,c)},onBlur:le=>{L.current&&!le.currentTarget.contains(le.relatedTarget)&&(L.current=!1,k.current&&(k.current.focus({preventScroll:!0}),k.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||L.current||(L.current=!0,k.current=le.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{H||j(!1)},onDragEnd:()=>j(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},C.filter(le=>!le.position&&ee===0||le.position===$).map((le,si)=>{var ur,_s;return O.createElement(gP,{key:le.id,icons:w,index:si,toast:le,defaultRichColors:u,duration:(ur=g==null?void 0:g.duration)!=null?ur:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:_,closeButton:(_s=g==null?void 0:g.closeButton)!=null?_s:o,interacting:H,position:$,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:G,toasts:C.filter(dr=>dr.position==le.position),heights:A.filter(dr=>dr.position==le.position),setHeights:D,expandByDefault:i,gap:v,loadingIcon:y,expanded:z,pauseWhenPageIsHidden:b,swipeDirections:t.swipeDirections})})):null}))});const _P=({...t})=>{const{theme:e="system"}=Hk();return f.jsx(yP,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var wP=vw[" useId ".trim().toString()]||(()=>{}),xP=0;function la(t){const[e,n]=m.useState(wP());return ns(()=>{n(r=>r??String(xP++))},[t]),e?`radix-${e}`:""}const EP=["top","right","bottom","left"],rs=Math.min,It=Math.max,Jc=Math.round,Kl=Math.floor,Tn=t=>({x:t,y:t}),bP={left:"right",right:"left",bottom:"top",top:"bottom"},CP={start:"end",end:"start"};function Oh(t,e,n){return It(t,rs(e,n))}function Zn(t,e){return typeof t=="function"?t(e):t}function er(t){return t.split("-")[0]}function vo(t){return t.split("-")[1]}function hm(t){return t==="x"?"y":"x"}function pm(t){return t==="y"?"height":"width"}function ss(t){return["top","bottom"].includes(er(t))?"y":"x"}function mm(t){return hm(ss(t))}function SP(t,e,n){n===void 0&&(n=!1);const r=vo(t),s=mm(t),i=pm(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Zc(o)),[o,Zc(o)]}function TP(t){const e=Zc(t);return[Dh(t),e,Dh(e)]}function Dh(t){return t.replace(/start|end/g,e=>CP[e])}function IP(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function NP(t,e,n,r){const s=vo(t);let i=IP(er(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Dh)))),i}function Zc(t){return t.replace(/left|right|bottom|top/g,e=>bP[e])}function kP(t){return{top:0,right:0,bottom:0,left:0,...t}}function lE(t){return typeof t!="number"?kP(t):{top:t,right:t,bottom:t,left:t}}function eu(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function oy(t,e,n){let{reference:r,floating:s}=t;const i=ss(e),o=mm(e),a=pm(o),l=er(e),c=i==="y",d=r.x+r.width/2-s.width/2,u=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:u};break;case"left":p={x:r.x-s.width,y:u};break;default:p={x:r.x,y:r.y}}switch(vo(e)){case"start":p[o]-=h*(n&&c?-1:1);break;case"end":p[o]+=h*(n&&c?-1:1);break}return p}const PP=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:u}=oy(c,r,l),h=r,p={},_=0;for(let g=0;g<a.length;g++){const{name:x,fn:v}=a[g],{x:y,y:w,data:E,reset:b}=await v({x:d,y:u,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});d=y??d,u=w??u,p={...p,[x]:{...p[x],...E}},b&&_<=50&&(_++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(c=b.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):b.rects),{x:d,y:u}=oy(c,h,l)),g=-1)}return{x:d,y:u,placement:h,strategy:s,middlewareData:p}};async function Oa(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=Zn(e,t),_=lE(p),x=a[h?u==="floating"?"reference":"floating":u],v=eu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=u==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),E=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},b=eu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(v.top-b.top+_.top)/E.y,bottom:(b.bottom-v.bottom+_.bottom)/E.y,left:(v.left-b.left+_.left)/E.x,right:(b.right-v.right+_.right)/E.x}}const RP=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Zn(t,e)||{};if(c==null)return{};const u=lE(d),h={x:n,y:r},p=mm(s),_=pm(p),g=await o.getDimensions(c),x=p==="y",v=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",E=i.reference[_]+i.reference[p]-h[p]-i.floating[_],b=h[p]-i.reference[p],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=C?C[w]:0;(!S||!await(o.isElement==null?void 0:o.isElement(C)))&&(S=a.floating[w]||i.floating[_]);const T=E/2-b/2,A=S/2-g[_]/2-1,D=rs(u[v],A),z=rs(u[y],A),j=D,H=S-g[_]-z,M=S/2-g[_]/2+T,Z=Oh(j,M,H),U=!l.arrow&&vo(s)!=null&&M!==Z&&i.reference[_]/2-(M<j?D:z)-g[_]/2<0,q=U?M<j?M-j:M-H:0;return{[p]:h[p]+q,data:{[p]:Z,centerOffset:M-Z-q,...U&&{alignmentOffset:q}},reset:U}}}),AP=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:g=!0,...x}=Zn(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=er(s),y=ss(a),w=er(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),b=h||(w||!g?[Zc(a)]:TP(a)),C=_!=="none";!h&&C&&b.push(...NP(a,g,_,E));const S=[a,...b],T=await Oa(e,x),A=[];let D=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(T[v]),u){const M=SP(s,o,E);A.push(T[M[0]],T[M[1]])}if(D=[...D,{placement:s,overflows:A}],!A.every(M=>M<=0)){var z,j;const M=(((z=i.flip)==null?void 0:z.index)||0)+1,Z=S[M];if(Z)return{data:{index:M,overflows:D},reset:{placement:Z}};let U=(j=D.filter(q=>q.overflows[0]<=0).sort((q,N)=>q.overflows[1]-N.overflows[1])[0])==null?void 0:j.placement;if(!U)switch(p){case"bestFit":{var H;const q=(H=D.filter(N=>{if(C){const k=ss(N.placement);return k===y||k==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(k=>k>0).reduce((k,L)=>k+L,0)]).sort((N,k)=>N[1]-k[1])[0])==null?void 0:H[0];q&&(U=q);break}case"initialPlacement":U=a;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function ay(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ly(t){return EP.some(e=>t[e]>=0)}const OP=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Zn(t,e);switch(r){case"referenceHidden":{const i=await Oa(e,{...s,elementContext:"reference"}),o=ay(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ly(o)}}}case"escaped":{const i=await Oa(e,{...s,altBoundary:!0}),o=ay(i,n.floating);return{data:{escapedOffsets:o,escaped:ly(o)}}}default:return{}}}}};async function DP(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=er(n),a=vo(n),l=ss(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,u=Zn(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:_}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof _=="number"&&(p=a==="end"?_*-1:_),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}}const MP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await DP(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},LP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...l}=Zn(t,e),c={x:n,y:r},d=await Oa(e,l),u=ss(er(s)),h=hm(u);let p=c[h],_=c[u];if(i){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=p+d[x],w=p-d[v];p=Oh(y,p,w)}if(o){const x=u==="y"?"top":"left",v=u==="y"?"bottom":"right",y=_+d[x],w=_-d[v];_=Oh(y,_,w)}const g=a.fn({...e,[h]:p,[u]:_});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[u]:o}}}}}},jP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Zn(t,e),d={x:n,y:r},u=ss(s),h=hm(u);let p=d[h],_=d[u];const g=Zn(a,e),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const w=h==="y"?"height":"width",E=i.reference[h]-i.floating[w]+x.mainAxis,b=i.reference[h]+i.reference[w]-x.mainAxis;p<E?p=E:p>b&&(p=b)}if(c){var v,y;const w=h==="y"?"width":"height",E=["top","left"].includes(er(s)),b=i.reference[u]-i.floating[w]+(E&&((v=o.offset)==null?void 0:v[u])||0)+(E?0:x.crossAxis),C=i.reference[u]+i.reference[w]+(E?0:((y=o.offset)==null?void 0:y[u])||0)-(E?x.crossAxis:0);_<b?_=b:_>C&&(_=C)}return{[h]:p,[u]:_}}}},FP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Zn(t,e),d=await Oa(e,c),u=er(s),h=vo(s),p=ss(s)==="y",{width:_,height:g}=i.floating;let x,v;u==="top"||u==="bottom"?(x=u,v=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(v=u,x=h==="end"?"top":"bottom");const y=g-d.top-d.bottom,w=_-d.left-d.right,E=rs(g-d[x],y),b=rs(_-d[v],w),C=!e.middlewareData.shift;let S=E,T=b;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=y),C&&!h){const D=It(d.left,0),z=It(d.right,0),j=It(d.top,0),H=It(d.bottom,0);p?T=_-2*(D!==0||z!==0?D+z:It(d.left,d.right)):S=g-2*(j!==0||H!==0?j+H:It(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:S});const A=await o.getDimensions(a.floating);return _!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function Yu(){return typeof window<"u"}function yo(t){return cE(t)?(t.nodeName||"").toLowerCase():"#document"}function Pt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Rn(t){var e;return(e=(cE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cE(t){return Yu()?t instanceof Node||t instanceof Pt(t).Node:!1}function dn(t){return Yu()?t instanceof Element||t instanceof Pt(t).Element:!1}function kn(t){return Yu()?t instanceof HTMLElement||t instanceof Pt(t).HTMLElement:!1}function cy(t){return!Yu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pt(t).ShadowRoot}function al(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=fn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function UP(t){return["table","td","th"].includes(yo(t))}function Xu(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function gm(t){const e=vm(),n=dn(t)?fn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $P(t){let e=is(t);for(;kn(e)&&!so(e);){if(gm(e))return e;if(Xu(e))return null;e=is(e)}return null}function vm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function so(t){return["html","body","#document"].includes(yo(t))}function fn(t){return Pt(t).getComputedStyle(t)}function Ju(t){return dn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function is(t){if(yo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cy(t)&&t.host||Rn(t);return cy(e)?e.host:e}function uE(t){const e=is(t);return so(e)?t.ownerDocument?t.ownerDocument.body:t.body:kn(e)&&al(e)?e:uE(e)}function Da(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=uE(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Pt(s);if(i){const a=Mh(o);return e.concat(o,o.visualViewport||[],al(s)?s:[],a&&n?Da(a):[])}return e.concat(s,Da(s,[],n))}function Mh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dE(t){const e=fn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=kn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Jc(n)!==i||Jc(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function ym(t){return dn(t)?t:t.contextElement}function Li(t){const e=ym(t);if(!kn(e))return Tn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=dE(e);let o=(i?Jc(n.width):n.width)/r,a=(i?Jc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const zP=Tn(0);function fE(t){const e=Pt(t);return!vm()||!e.visualViewport?zP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function BP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Pt(t)?!1:e}function Ws(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ym(t);let o=Tn(1);e&&(r?dn(r)&&(o=Li(r)):o=Li(t));const a=BP(i,n,r)?fE(i):Tn(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,u=s.height/o.y;if(i){const h=Pt(i),p=r&&dn(r)?Pt(r):r;let _=h,g=Mh(_);for(;g&&r&&p!==_;){const x=Li(g),v=g.getBoundingClientRect(),y=fn(g),w=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*x.x,E=v.top+(g.clientTop+parseFloat(y.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,u*=x.y,l+=w,c+=E,_=Pt(g),g=Mh(_)}}return eu({width:d,height:u,x:l,y:c})}function _m(t,e){const n=Ju(t).scrollLeft;return e?e.left+n:Ws(Rn(t)).left+n}function hE(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:_m(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function WP(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Rn(r),a=e?Xu(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Tn(1);const d=Tn(0),u=kn(r);if((u||!u&&!i)&&((yo(r)!=="body"||al(o))&&(l=Ju(r)),kn(r))){const p=Ws(r);c=Li(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=o&&!u&&!i?hE(o,l,!0):Tn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function VP(t){return Array.from(t.getClientRects())}function HP(t){const e=Rn(t),n=Ju(t),r=t.ownerDocument.body,s=It(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=It(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_m(t);const a=-n.scrollTop;return fn(r).direction==="rtl"&&(o+=It(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function GP(t,e){const n=Pt(t),r=Rn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=vm();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function KP(t,e){const n=Ws(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=kn(t)?Li(t):Tn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function uy(t,e,n){let r;if(e==="viewport")r=GP(t,n);else if(e==="document")r=HP(Rn(t));else if(dn(e))r=KP(e,n);else{const s=fE(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return eu(r)}function pE(t,e){const n=is(t);return n===e||!dn(n)||so(n)?!1:fn(n).position==="fixed"||pE(n,e)}function qP(t,e){const n=e.get(t);if(n)return n;let r=Da(t,[],!1).filter(a=>dn(a)&&yo(a)!=="body"),s=null;const i=fn(t).position==="fixed";let o=i?is(t):t;for(;dn(o)&&!so(o);){const a=fn(o),l=gm(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||al(o)&&!l&&pE(t,o))?r=r.filter(d=>d!==o):s=a,o=is(o)}return e.set(t,r),r}function QP(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Xu(e)?[]:qP(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const u=uy(e,d,s);return c.top=It(u.top,c.top),c.right=rs(u.right,c.right),c.bottom=rs(u.bottom,c.bottom),c.left=It(u.left,c.left),c},uy(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function YP(t){const{width:e,height:n}=dE(t);return{width:e,height:n}}function XP(t,e,n){const r=kn(e),s=Rn(e),i=n==="fixed",o=Ws(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Tn(0);if(r||!r&&!i)if((yo(e)!=="body"||al(s))&&(a=Ju(e)),r){const h=Ws(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&(l.x=_m(s));const c=s&&!r&&!i?hE(s,a):Tn(0),d=o.left+a.scrollLeft-l.x-c.x,u=o.top+a.scrollTop-l.y-c.y;return{x:d,y:u,width:o.width,height:o.height}}function lf(t){return fn(t).position==="static"}function dy(t,e){if(!kn(t)||fn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Rn(t)===n&&(n=n.ownerDocument.body),n}function mE(t,e){const n=Pt(t);if(Xu(t))return n;if(!kn(t)){let s=is(t);for(;s&&!so(s);){if(dn(s)&&!lf(s))return s;s=is(s)}return n}let r=dy(t,e);for(;r&&UP(r)&&lf(r);)r=dy(r,e);return r&&so(r)&&lf(r)&&!gm(r)?n:r||$P(t)||n}const JP=async function(t){const e=this.getOffsetParent||mE,n=this.getDimensions,r=await n(t.floating);return{reference:XP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ZP(t){return fn(t).direction==="rtl"}const eR={convertOffsetParentRelativeRectToViewportRelativeRect:WP,getDocumentElement:Rn,getClippingRect:QP,getOffsetParent:mE,getElementRects:JP,getClientRects:VP,getDimensions:YP,getScale:Li,isElement:dn,isRTL:ZP};function gE(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function tR(t,e){let n=null,r;const s=Rn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(a||e(),!h||!p)return;const _=Kl(u),g=Kl(s.clientWidth-(d+h)),x=Kl(s.clientHeight-(u+p)),v=Kl(d),w={rootMargin:-_+"px "+-g+"px "+-x+"px "+-v+"px",threshold:It(0,rs(1,l))||1};let E=!0;function b(C){const S=C[0].intersectionRatio;if(S!==l){if(!E)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!gE(c,t.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(b,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(b,w)}n.observe(t)}return o(!0),i}function nR(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ym(t),d=s||i?[...c?Da(c):[],...Da(e)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const u=c&&a?tR(c,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let _,g=l?Ws(t):null;l&&x();function x(){const v=Ws(t);g&&!gE(g,v)&&n(),g=v,_=requestAnimationFrame(x)}return n(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),u==null||u(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(_)}}const rR=MP,sR=LP,iR=AP,oR=FP,aR=OP,fy=RP,lR=jP,cR=(t,e,n)=>{const r=new Map,s={platform:eR,...n},i={...s.platform,_c:r};return PP(t,e,{...s,platform:i})};var yc=typeof document<"u"?m.useLayoutEffect:m.useEffect;function tu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!tu(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!tu(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function vE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hy(t,e){const n=vE(t);return Math.round(e*n)/n}function cf(t){const e=m.useRef(t);return yc(()=>{e.current=t}),e}function uR(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,u]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(r);tu(h,r)||p(r);const[_,g]=m.useState(null),[x,v]=m.useState(null),y=m.useCallback(N=>{N!==C.current&&(C.current=N,g(N))},[]),w=m.useCallback(N=>{N!==S.current&&(S.current=N,v(N))},[]),E=i||_,b=o||x,C=m.useRef(null),S=m.useRef(null),T=m.useRef(d),A=l!=null,D=cf(l),z=cf(s),j=cf(c),H=m.useCallback(()=>{if(!C.current||!S.current)return;const N={placement:e,strategy:n,middleware:h};z.current&&(N.platform=z.current),cR(C.current,S.current,N).then(k=>{const L={...k,isPositioned:j.current!==!1};M.current&&!tu(T.current,L)&&(T.current=L,il.flushSync(()=>{u(L)}))})},[h,e,n,z,j]);yc(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,u(N=>({...N,isPositioned:!1})))},[c]);const M=m.useRef(!1);yc(()=>(M.current=!0,()=>{M.current=!1}),[]),yc(()=>{if(E&&(C.current=E),b&&(S.current=b),E&&b){if(D.current)return D.current(E,b,H);H()}},[E,b,H,D,A]);const Z=m.useMemo(()=>({reference:C,floating:S,setReference:y,setFloating:w}),[y,w]),U=m.useMemo(()=>({reference:E,floating:b}),[E,b]),q=m.useMemo(()=>{const N={position:n,left:0,top:0};if(!U.floating)return N;const k=hy(U.floating,d.x),L=hy(U.floating,d.y);return a?{...N,transform:"translate("+k+"px, "+L+"px)",...vE(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:k,top:L}},[n,a,U.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:H,refs:Z,elements:U,floatingStyles:q}),[d,H,Z,U,q])}const dR=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fy({element:r.current,padding:s}).fn(n):{}:r?fy({element:r,padding:s}).fn(n):{}}}},fR=(t,e)=>({...rR(t),options:[t,e]}),hR=(t,e)=>({...sR(t),options:[t,e]}),pR=(t,e)=>({...lR(t),options:[t,e]}),mR=(t,e)=>({...iR(t),options:[t,e]}),gR=(t,e)=>({...oR(t),options:[t,e]}),vR=(t,e)=>({...aR(t),options:[t,e]}),yR=(t,e)=>({...dR(t),options:[t,e]});var _R="Arrow",yE=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(pe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});yE.displayName=_R;var wR=yE;function xR(t){const[e,n]=m.useState(void 0);return ns(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var _E="Popper",[wE,xE]=ei(_E),[G3,EE]=wE(_E),bE="PopperAnchor",CE=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=EE(bE,n),o=m.useRef(null),a=at(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(pe.div,{...s,ref:a})});CE.displayName=bE;var wm="PopperContent",[ER,bR]=wE(wm),SE=m.forwardRef((t,e)=>{var le,si,ur,_s,dr,ii;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:_,...g}=t,x=EE(wm,n),[v,y]=m.useState(null),w=at(e,fr=>y(fr)),[E,b]=m.useState(null),C=xR(E),S=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,A=r+(i!=="center"?"-"+i:""),D=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},z=Array.isArray(c)?c:[c],j=z.length>0,H={padding:D,boundary:z.filter(SR),altBoundary:j},{refs:M,floatingStyles:Z,placement:U,isPositioned:q,middlewareData:N}=uR({strategy:"fixed",placement:A,whileElementsMounted:(...fr)=>nR(...fr,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[fR({mainAxis:s+T,alignmentAxis:o}),l&&hR({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?pR():void 0,...H}),l&&mR({...H}),gR({...H,apply:({elements:fr,rects:bl,availableWidth:Td,availableHeight:Cl})=>{const{width:Id,height:Po}=bl.reference,oi=fr.floating.style;oi.setProperty("--radix-popper-available-width",`${Td}px`),oi.setProperty("--radix-popper-available-height",`${Cl}px`),oi.setProperty("--radix-popper-anchor-width",`${Id}px`),oi.setProperty("--radix-popper-anchor-height",`${Po}px`)}}),E&&yR({element:E,padding:a}),TR({arrowWidth:S,arrowHeight:T}),h&&vR({strategy:"referenceHidden",...H})]}),[k,L]=NE(U),G=At(_);ns(()=>{q&&(G==null||G())},[q,G]);const $=(le=N.arrow)==null?void 0:le.x,ee=(si=N.arrow)==null?void 0:si.y,re=((ur=N.arrow)==null?void 0:ur.centerOffset)!==0,[Me,et]=m.useState();return ns(()=>{v&&et(window.getComputedStyle(v).zIndex)},[v]),f.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:q?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(_s=N.transformOrigin)==null?void 0:_s.x,(dr=N.transformOrigin)==null?void 0:dr.y].join(" "),...((ii=N.hide)==null?void 0:ii.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(ER,{scope:n,placedSide:k,onArrowChange:b,arrowX:$,arrowY:ee,shouldHideArrow:re,children:f.jsx(pe.div,{"data-side":k,"data-align":L,...g,ref:w,style:{...g.style,animation:q?void 0:"none"}})})})});SE.displayName=wm;var TE="PopperArrow",CR={top:"bottom",right:"left",bottom:"top",left:"right"},IE=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=bR(TE,r),o=CR[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(wR,{...s,ref:n,style:{...s.style,display:"block"}})})});IE.displayName=TE;function SR(t){return t!==null}var TR=t=>({name:"transformOrigin",options:t,fn(e){var x,v,y;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=NE(n),u={start:"0%",center:"50%",end:"100%"}[d],h=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let _="",g="";return c==="bottom"?(_=o?u:`${h}px`,g=`${-l}px`):c==="top"?(_=o?u:`${h}px`,g=`${r.floating.height+l}px`):c==="right"?(_=`${-l}px`,g=o?u:`${p}px`):c==="left"&&(_=`${r.floating.width+l}px`,g=o?u:`${p}px`),{data:{x:_,y:g}}}});function NE(t){const[e,n="center"]=t.split("-");return[e,n]}var IR=CE,NR=SE,kR=IE,[Zu,K3]=ei("Tooltip",[xE]),xm=xE(),kE="TooltipProvider",PR=700,py="tooltip.open",[RR,PE]=Zu(kE),RE=t=>{const{__scopeTooltip:e,delayDuration:n=PR,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),f.jsx(RR,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};RE.displayName=kE;var AE="Tooltip",[q3,ed]=Zu(AE),Lh="TooltipTrigger",AR=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ed(Lh,n),i=PE(Lh,n),o=xm(n),a=m.useRef(null),l=at(e,a,s.onTriggerChange),c=m.useRef(!1),d=m.useRef(!1),u=m.useCallback(()=>c.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),f.jsx(IR,{asChild:!0,...o,children:f.jsx(pe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:se(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:se(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:se(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:se(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:se(t.onBlur,s.onClose),onClick:se(t.onClick,s.onClose)})})});AR.displayName=Lh;var OR="TooltipPortal",[Q3,DR]=Zu(OR,{forceMount:void 0}),io="TooltipContent",OE=m.forwardRef((t,e)=>{const n=DR(io,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=ed(io,t.__scopeTooltip);return f.jsx(ti,{present:r||o.open,children:o.disableHoverableContent?f.jsx(DE,{side:s,...i,ref:e}):f.jsx(MR,{side:s,...i,ref:e})})}),MR=m.forwardRef((t,e)=>{const n=ed(io,t.__scopeTooltip),r=PE(io,t.__scopeTooltip),s=m.useRef(null),i=at(e,s),[o,a]=m.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:u}=r,h=m.useCallback(()=>{a(null),u(!1)},[u]),p=m.useCallback((_,g)=>{const x=_.currentTarget,v={x:_.clientX,y:_.clientY},y=$R(v,x.getBoundingClientRect()),w=zR(v,y),E=BR(g.getBoundingClientRect()),b=VR([...w,...E]);a(b),u(!0)},[u]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(l&&d){const _=x=>p(x,d),g=x=>p(x,l);return l.addEventListener("pointerleave",_),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",_),d.removeEventListener("pointerleave",g)}}},[l,d,p,h]),m.useEffect(()=>{if(o){const _=g=>{const x=g.target,v={x:g.clientX,y:g.clientY},y=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),w=!WR(v,o);y?h():w&&(h(),c())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,d,o,c,h]),f.jsx(DE,{...t,ref:i})}),[LR,jR]=Zu(AE,{isInside:!1}),FR=c1("TooltipContent"),DE=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=ed(io,n),c=xm(n),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(py,d),()=>document.removeEventListener(py,d)),[d]),m.useEffect(()=>{if(l.trigger){const u=h=>{const p=h.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,d]),f.jsx(Hu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:f.jsxs(NR,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(FR,{children:r}),f.jsx(LR,{scope:n,isInside:!0,children:f.jsx(k1,{id:l.contentId,role:"tooltip",children:s||r})})]})})});OE.displayName=io;var ME="TooltipArrow",UR=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=xm(n);return jR(ME,n).isInside?null:f.jsx(kR,{...s,...r,ref:e})});UR.displayName=ME;function $R(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function zR(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function BR(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function WR(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(s=!s)}return s}function VR(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),HR(e)}function HR(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var GR=RE,LE=OE;const KR=GR,qR=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>f.jsx(LE,{ref:r,sideOffset:e,className:ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));qR.displayName=LE.displayName;var td=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nd=typeof window>"u"||"Deno"in globalThis;function Zt(){}function QR(t,e){return typeof t=="function"?t(e):t}function YR(t){return typeof t=="number"&&t>=0&&t!==1/0}function XR(t,e){return Math.max(t+(e||0)-Date.now(),0)}function my(t,e){return typeof t=="function"?t(e):t}function JR(t,e){return typeof t=="function"?t(e):t}function gy(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Em(o,e.options))return!1}else if(!La(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function vy(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ma(e.options.mutationKey)!==Ma(i))return!1}else if(!La(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Em(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ma)(t)}function Ma(t){return JSON.stringify(t,(e,n)=>jh(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function La(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>La(t[n],e[n])):!1}function jE(t,e){if(t===e)return t;const n=yy(t)&&yy(e);if(n||jh(t)&&jh(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:i[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=jE(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function yy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jh(t){if(!_y(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_y(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _y(t){return Object.prototype.toString.call(t)==="[object Object]"}function ZR(t){return new Promise(e=>{setTimeout(e,t)})}function eA(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?jE(t,e):e}function tA(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function nA(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var bm=Symbol();function FE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===bm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ps,Rr,Bi,J_,rA=(J_=class extends td{constructor(){super();oe(this,Ps);oe(this,Rr);oe(this,Bi);K(this,Bi,e=>{if(!nd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){I(this,Rr)||this.setEventListener(I(this,Bi))}onUnsubscribe(){var e;this.hasListeners()||((e=I(this,Rr))==null||e.call(this),K(this,Rr,void 0))}setEventListener(e){var n;K(this,Bi,e),(n=I(this,Rr))==null||n.call(this),K(this,Rr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){I(this,Ps)!==e&&(K(this,Ps,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof I(this,Ps)=="boolean"?I(this,Ps):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ps=new WeakMap,Rr=new WeakMap,Bi=new WeakMap,J_),UE=new rA,Wi,Ar,Vi,Z_,sA=(Z_=class extends td{constructor(){super();oe(this,Wi,!0);oe(this,Ar);oe(this,Vi);K(this,Vi,e=>{if(!nd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){I(this,Ar)||this.setEventListener(I(this,Vi))}onUnsubscribe(){var e;this.hasListeners()||((e=I(this,Ar))==null||e.call(this),K(this,Ar,void 0))}setEventListener(e){var n;K(this,Vi,e),(n=I(this,Ar))==null||n.call(this),K(this,Ar,e(this.setOnline.bind(this)))}setOnline(e){I(this,Wi)!==e&&(K(this,Wi,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return I(this,Wi)}},Wi=new WeakMap,Ar=new WeakMap,Vi=new WeakMap,Z_),nu=new sA;function iA(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function oA(t){return Math.min(1e3*2**t,3e4)}function $E(t){return(t??"online")==="online"?nu.isOnline():!0}var zE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function uf(t){return t instanceof zE}function BE(t){let e=!1,n=0,r=!1,s;const i=iA(),o=g=>{var x;r||(h(new zE(g)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>UE.isFocused()&&(t.networkMode==="always"||nu.isOnline())&&t.canRun(),d=()=>$E(t.networkMode)&&t.canRun(),u=g=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var x;s=v=>{(r||c())&&g(v)},(x=t.onPause)==null||x.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),_=()=>{if(r)return;let g;const x=n===0?t.initialPromise:void 0;try{g=x??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(u).catch(v=>{var C;if(r)return;const y=t.retry??(nd?0:3),w=t.retryDelay??oA,E=typeof w=="function"?w(n,v):w,b=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(e||!b){h(v);return}n++,(C=t.onFail)==null||C.call(t,n,v),ZR(E).then(()=>c()?void 0:p()).then(()=>{e?h(v):_()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?_():p().then(_),i)}}var aA=t=>setTimeout(t,0);function lA(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=aA;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ut=lA(),Rs,ew,WE=(ew=class{constructor(){oe(this,Rs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YR(this.gcTime)&&K(this,Rs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(nd?1/0:5*60*1e3))}clearGcTimeout(){I(this,Rs)&&(clearTimeout(I(this,Rs)),K(this,Rs,void 0))}},Rs=new WeakMap,ew),Hi,Gi,Lt,As,st,Ja,Os,en,Dn,tw,cA=(tw=class extends WE{constructor(e){super();oe(this,en);oe(this,Hi);oe(this,Gi);oe(this,Lt);oe(this,As);oe(this,st);oe(this,Ja);oe(this,Os);K(this,Os,!1),K(this,Ja,e.defaultOptions),this.setOptions(e.options),this.observers=[],K(this,As,e.client),K(this,Lt,I(this,As).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,K(this,Hi,dA(this.options)),this.state=e.state??I(this,Hi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=I(this,st))==null?void 0:e.promise}setOptions(e){this.options={...I(this,Ja),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,Lt).remove(this)}setData(e,n){const r=eA(this.state.data,e,this.options);return tt(this,en,Dn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){tt(this,en,Dn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=I(this,st))==null?void 0:r.promise;return(s=I(this,st))==null||s.cancel(e),n?n.then(Zt).catch(Zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,Hi))}isActive(){return this.observers.some(e=>JR(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!XR(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=I(this,st))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=I(this,st))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),I(this,Lt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(I(this,st)&&(I(this,Os)?I(this,st).cancel({revert:!0}):I(this,st).cancelRetry()),this.scheduleGc()),I(this,Lt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tt(this,en,Dn).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(I(this,st))return I(this,st).continueRetry(),I(this,st).promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,s=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(K(this,Os,!0),r.signal)})},i=()=>{const u=FE(this.options,n),h={client:I(this,As),queryKey:this.queryKey,meta:this.meta};return s(h),K(this,Os,!1),this.options.persister?this.options.persister(u,h,this):u(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:I(this,As),state:this.state,fetchFn:i};s(o),(l=this.options.behavior)==null||l.onFetch(o,this),K(this,Gi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&tt(this,en,Dn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=u=>{var h,p,_,g;uf(u)&&u.silent||tt(this,en,Dn).call(this,{type:"error",error:u}),uf(u)||((p=(h=I(this,Lt).config).onError)==null||p.call(h,u,this),(g=(_=I(this,Lt).config).onSettled)==null||g.call(_,this.state.data,u,this)),this.scheduleGc()};return K(this,st,BE({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var h,p,_,g;if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(x){a(x);return}(p=(h=I(this,Lt).config).onSuccess)==null||p.call(h,u,this),(g=(_=I(this,Lt).config).onSettled)==null||g.call(_,u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,h)=>{tt(this,en,Dn).call(this,{type:"failed",failureCount:u,error:h})},onPause:()=>{tt(this,en,Dn).call(this,{type:"pause"})},onContinue:()=>{tt(this,en,Dn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),I(this,st).start()}},Hi=new WeakMap,Gi=new WeakMap,Lt=new WeakMap,As=new WeakMap,st=new WeakMap,Ja=new WeakMap,Os=new WeakMap,en=new WeakSet,Dn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...uA(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return uf(s)&&s.revert&&I(this,Gi)?{...I(this,Gi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ut.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),I(this,Lt).notify({query:this,type:"updated",action:e})})},tw);function uA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$E(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var yn,nw,fA=(nw=class extends td{constructor(e={}){super();oe(this,yn);this.config=e,K(this,yn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Em(s,n);let o=this.get(i);return o||(o=new cA({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){I(this,yn).has(e.queryHash)||(I(this,yn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=I(this,yn).get(e.queryHash);n&&(e.destroy(),n===e&&I(this,yn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ut.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return I(this,yn).get(e)}getAll(){return[...I(this,yn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>gy(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>gy(e,r)):n}notify(e){ut.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ut.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ut.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yn=new WeakMap,nw),_n,lt,Ds,wn,wr,rw,hA=(rw=class extends WE{constructor(e){super();oe(this,wn);oe(this,_n);oe(this,lt);oe(this,Ds);this.mutationId=e.mutationId,K(this,lt,e.mutationCache),K(this,_n,[]),this.state=e.state||pA(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){I(this,_n).includes(e)||(I(this,_n).push(e),this.clearGcTimeout(),I(this,lt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){K(this,_n,I(this,_n).filter(n=>n!==e)),this.scheduleGc(),I(this,lt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){I(this,_n).length||(this.state.status==="pending"?this.scheduleGc():I(this,lt).remove(this))}continue(){var e;return((e=I(this,Ds))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,c,d,u,h,p,_,g,x,v,y,w,E,b,C,S,T;const n=()=>{tt(this,wn,wr).call(this,{type:"continue"})};K(this,Ds,BE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,D)=>{tt(this,wn,wr).call(this,{type:"failed",failureCount:A,error:D})},onPause:()=>{tt(this,wn,wr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,lt).canRun(this)}));const r=this.state.status==="pending",s=!I(this,Ds).canStart();try{if(r)n();else{tt(this,wn,wr).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=I(this,lt).config).onMutate)==null?void 0:o.call(i,e,this));const D=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));D!==this.state.context&&tt(this,wn,wr).call(this,{type:"pending",context:D,variables:e,isPaused:s})}const A=await I(this,Ds).start();return await((d=(c=I(this,lt).config).onSuccess)==null?void 0:d.call(c,A,e,this.state.context,this)),await((h=(u=this.options).onSuccess)==null?void 0:h.call(u,A,e,this.state.context)),await((_=(p=I(this,lt).config).onSettled)==null?void 0:_.call(p,A,null,this.state.variables,this.state.context,this)),await((x=(g=this.options).onSettled)==null?void 0:x.call(g,A,null,e,this.state.context)),tt(this,wn,wr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((y=(v=I(this,lt).config).onError)==null?void 0:y.call(v,A,e,this.state.context,this)),await((E=(w=this.options).onError)==null?void 0:E.call(w,A,e,this.state.context)),await((C=(b=I(this,lt).config).onSettled)==null?void 0:C.call(b,void 0,A,this.state.variables,this.state.context,this)),await((T=(S=this.options).onSettled)==null?void 0:T.call(S,void 0,A,e,this.state.context)),A}finally{tt(this,wn,wr).call(this,{type:"error",error:A})}}finally{I(this,lt).runNext(this)}}},_n=new WeakMap,lt=new WeakMap,Ds=new WeakMap,wn=new WeakSet,wr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ut.batch(()=>{I(this,_n).forEach(r=>{r.onMutationUpdate(e)}),I(this,lt).notify({mutation:this,type:"updated",action:e})})},rw);function pA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var jn,tn,Za,sw,mA=(sw=class extends td{constructor(e={}){super();oe(this,jn);oe(this,tn);oe(this,Za);this.config=e,K(this,jn,new Set),K(this,tn,new Map),K(this,Za,0)}build(e,n,r){const s=new hA({mutationCache:this,mutationId:++Tl(this,Za)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){I(this,jn).add(e);const n=ql(e);if(typeof n=="string"){const r=I(this,tn).get(n);r?r.push(e):I(this,tn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(I(this,jn).delete(e)){const n=ql(e);if(typeof n=="string"){const r=I(this,tn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&I(this,tn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=ql(e);if(typeof n=="string"){const r=I(this,tn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=ql(e);if(typeof n=="string"){const s=(r=I(this,tn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ut.batch(()=>{I(this,jn).forEach(e=>{this.notify({type:"removed",mutation:e})}),I(this,jn).clear(),I(this,tn).clear()})}getAll(){return Array.from(I(this,jn))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>vy(n,r))}findAll(e={}){return this.getAll().filter(n=>vy(e,n))}notify(e){ut.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ut.batch(()=>Promise.all(e.map(n=>n.continue().catch(Zt))))}},jn=new WeakMap,tn=new WeakMap,Za=new WeakMap,sw);function ql(t){var e;return(e=t.options.scope)==null?void 0:e.id}function wy(t){return{onFetch:(e,n)=>{var d,u,h,p,_;const r=e.options,s=(h=(u=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:h.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=FE(e.options,e.fetchOptions),y=async(w,E,b)=>{if(g)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const C={client:e.client,queryKey:e.queryKey,pageParam:E,direction:b?"backward":"forward",meta:e.options.meta};x(C);const S=await v(C),{maxPages:T}=e.options,A=b?nA:tA;return{pages:A(w.pages,S,T),pageParams:A(w.pageParams,E,T)}};if(s&&i.length){const w=s==="backward",E=w?gA:xy,b={pages:i,pageParams:o},C=E(r,b);a=await y(b,C,w)}else{const w=t??i.length;do{const E=l===0?o[0]??r.initialPageParam:xy(r,a);if(l>0&&E==null)break;a=await y(a,E),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var g,x;return(x=(g=e.options).persister)==null?void 0:x.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function xy(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function gA(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ne,Or,Dr,Ki,qi,Mr,Qi,Yi,iw,vA=(iw=class{constructor(t={}){oe(this,Ne);oe(this,Or);oe(this,Dr);oe(this,Ki);oe(this,qi);oe(this,Mr);oe(this,Qi);oe(this,Yi);K(this,Ne,t.queryCache||new fA),K(this,Or,t.mutationCache||new mA),K(this,Dr,t.defaultOptions||{}),K(this,Ki,new Map),K(this,qi,new Map),K(this,Mr,0)}mount(){Tl(this,Mr)._++,I(this,Mr)===1&&(K(this,Qi,UE.subscribe(async t=>{t&&(await this.resumePausedMutations(),I(this,Ne).onFocus())})),K(this,Yi,nu.subscribe(async t=>{t&&(await this.resumePausedMutations(),I(this,Ne).onOnline())})))}unmount(){var t,e;Tl(this,Mr)._--,I(this,Mr)===0&&((t=I(this,Qi))==null||t.call(this),K(this,Qi,void 0),(e=I(this,Yi))==null||e.call(this),K(this,Yi,void 0))}isFetching(t){return I(this,Ne).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return I(this,Or).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=I(this,Ne).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=I(this,Ne).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(my(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return I(this,Ne).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=I(this,Ne).get(r.queryHash),i=s==null?void 0:s.state.data,o=QR(e,i);if(o!==void 0)return I(this,Ne).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ut.batch(()=>I(this,Ne).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=I(this,Ne).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=I(this,Ne);ut.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=I(this,Ne);return ut.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ut.batch(()=>I(this,Ne).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Zt).catch(Zt)}invalidateQueries(t,e={}){return ut.batch(()=>(I(this,Ne).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ut.batch(()=>I(this,Ne).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Zt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Zt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=I(this,Ne).build(this,e);return n.isStaleByTime(my(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zt).catch(Zt)}fetchInfiniteQuery(t){return t.behavior=wy(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zt).catch(Zt)}ensureInfiniteQueryData(t){return t.behavior=wy(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return nu.isOnline()?I(this,Or).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,Ne)}getMutationCache(){return I(this,Or)}getDefaultOptions(){return I(this,Dr)}setDefaultOptions(t){K(this,Dr,t)}setQueryDefaults(t,e){I(this,Ki).set(Ma(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...I(this,Ki).values()],n={};return e.forEach(r=>{La(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){I(this,qi).set(Ma(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...I(this,qi).values()],n={};return e.forEach(r=>{La(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...I(this,Dr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Em(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===bm&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...I(this,Dr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){I(this,Ne).clear(),I(this,Or).clear()}},Ne=new WeakMap,Or=new WeakMap,Dr=new WeakMap,Ki=new WeakMap,qi=new WeakMap,Mr=new WeakMap,Qi=new WeakMap,Yi=new WeakMap,iw),yA=m.createContext(void 0),_A=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(yA.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ja(){return ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ja.apply(this,arguments)}var Fr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fr||(Fr={}));const Ey="popstate";function wA(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Fh("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ru(s)}return EA(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xA(){return Math.random().toString(36).substr(2,8)}function by(t,e){return{usr:t.state,key:t.key,idx:e}}function Fh(t,e,n,r){return n===void 0&&(n=null),ja({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_o(e):e,{state:n,key:e&&e.key||r||xA()})}function ru(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _o(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function EA(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Fr.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ja({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function u(){a=Fr.Pop;let x=d(),v=x==null?null:x-c;c=x,l&&l({action:a,location:g.location,delta:v})}function h(x,v){a=Fr.Push;let y=Fh(g.location,x,v);c=d()+1;let w=by(y,c),E=g.createHref(y);try{o.pushState(w,"",E)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(E)}i&&l&&l({action:a,location:g.location,delta:1})}function p(x,v){a=Fr.Replace;let y=Fh(g.location,x,v);c=d();let w=by(y,c),E=g.createHref(y);o.replaceState(w,"",E),i&&l&&l({action:a,location:g.location,delta:0})}function _(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:ru(x);return y=y.replace(/ $/,"%20"),De(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Ey,u),l=x,()=>{s.removeEventListener(Ey,u),l=null}},createHref(x){return e(s,x)},createURL:_,encodeLocation(x){let v=_(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(x){return o.go(x)}};return g}var Cy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cy||(Cy={}));function bA(t,e,n){return n===void 0&&(n="/"),CA(t,e,n)}function CA(t,e,n,r){let s=typeof e=="string"?_o(e):e,i=Cm(s.pathname||"/",n);if(i==null)return null;let o=HE(t);SA(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=jA(i);a=DA(o[l],c)}return a}function HE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(De(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=qr([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(De(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),HE(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:AA(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of GE(i.path))s(i,o,l)}),e}function GE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=GE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:OA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TA=/^:[\w-]+$/,IA=3,NA=2,kA=1,PA=10,RA=-2,Sy=t=>t==="*";function AA(t,e){let n=t.split("/"),r=n.length;return n.some(Sy)&&(r+=RA),e&&(r+=NA),n.filter(s=>!Sy(s)).reduce((s,i)=>s+(TA.test(i)?IA:i===""?kA:PA),r)}function OA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function DA(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",u=MA({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!u)return null;Object.assign(s,u.params),o.push({params:s,pathname:qr([i,u.pathname]),pathnameBase:zA(qr([i,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(i=qr([i,u.pathnameBase]))}return o}function MA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=LA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,u)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=a[u]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const _=a[u];return p&&!_?c[h]=void 0:c[h]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function LA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),VE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function jA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return VE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Cm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?_o(t):t;return{pathname:n?n.startsWith("/")?n:UA(n,e):e,search:BA(r),hash:WA(s)}}function UA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function df(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $A(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sm(t,e){let n=$A(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Tm(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=_o(t):(s=ja({},t),De(!s.pathname||!s.pathname.includes("?"),df("?","pathname","search",s)),De(!s.pathname||!s.pathname.includes("#"),df("#","pathname","hash",s)),De(!s.search||!s.search.includes("#"),df("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let u=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),u-=1;s.pathname=h.join("/")}a=u>=0?e[u]:"/"}let l=FA(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const qr=t=>t.join("/").replace(/\/\/+/g,"/"),zA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const KE=["post","put","patch","delete"];new Set(KE);const HA=["get",...KE];new Set(HA);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fa(){return Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fa.apply(this,arguments)}const Im=m.createContext(null),GA=m.createContext(null),ps=m.createContext(null),rd=m.createContext(null),ms=m.createContext({outlet:null,matches:[],isDataRoute:!1}),qE=m.createContext(null);function KA(t,e){let{relative:n}=e===void 0?{}:e;wo()||De(!1);let{basename:r,navigator:s}=m.useContext(ps),{hash:i,pathname:o,search:a}=YE(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:qr([r,o])),s.createHref({pathname:l,search:a,hash:i})}function wo(){return m.useContext(rd)!=null}function gs(){return wo()||De(!1),m.useContext(rd).location}function QE(t){m.useContext(ps).static||m.useLayoutEffect(t)}function ir(){let{isDataRoute:t}=m.useContext(ms);return t?oO():qA()}function qA(){wo()||De(!1);let t=m.useContext(Im),{basename:e,future:n,navigator:r}=m.useContext(ps),{matches:s}=m.useContext(ms),{pathname:i}=gs(),o=JSON.stringify(Sm(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return QE(()=>{a.current=!0}),m.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let u=Tm(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:qr([e,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[e,r,o,i,t])}function YE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext(ps),{matches:s}=m.useContext(ms),{pathname:i}=gs(),o=JSON.stringify(Sm(s,r.v7_relativeSplatPath));return m.useMemo(()=>Tm(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function QA(t,e){return YA(t,e)}function YA(t,e,n,r){wo()||De(!1);let{navigator:s,static:i}=m.useContext(ps),{matches:o}=m.useContext(ms),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=gs(),u;if(e){var h;let v=typeof e=="string"?_o(e):e;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||De(!1),u=v}else u=d;let p=u.pathname||"/",_=p;if(c!=="/"){let v=c.replace(/^\//,"").split("/");_="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=bA(t,{pathname:_}),x=tO(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:qr([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:qr([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return e&&x?m.createElement(rd.Provider,{value:{location:Fa({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Fr.Pop}},x):x}function XA(){let t=iO(),e=VA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const JA=m.createElement(XA,null);class ZA extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(ms.Provider,{value:this.props.routeContext},m.createElement(qE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eO(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(Im);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(ms.Provider,{value:e},r)}function tO(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);d>=0||De(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let u=o[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:h,errors:p}=n,_=u.route.loader&&h[u.route.id]===void 0&&(!p||p[u.route.id]===void 0);if(u.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,u,h)=>{let p,_=!1,g=null,x=null;n&&(p=a&&u.route.id?a[u.route.id]:void 0,g=u.route.errorElement||JA,l&&(c<0&&h===0?(aO("route-fallback"),_=!0,x=null):c===h&&(_=!0,x=u.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),y=()=>{let w;return p?w=g:_?w=x:u.route.Component?w=m.createElement(u.route.Component,null):u.route.element?w=u.route.element:w=d,m.createElement(eO,{match:u,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:w})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?m.createElement(ZA,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var XE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(XE||{}),JE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(JE||{});function nO(t){let e=m.useContext(Im);return e||De(!1),e}function rO(t){let e=m.useContext(GA);return e||De(!1),e}function sO(t){let e=m.useContext(ms);return e||De(!1),e}function ZE(t){let e=sO(),n=e.matches[e.matches.length-1];return n.route.id||De(!1),n.route.id}function iO(){var t;let e=m.useContext(qE),n=rO(),r=ZE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function oO(){let{router:t}=nO(XE.UseNavigateStable),e=ZE(JE.UseNavigateStable),n=m.useRef(!1);return QE(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Fa({fromRouteId:e},i)))},[t,e])}const Ty={};function aO(t,e,n){Ty[t]||(Ty[t]=!0)}function lO(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Iy(t){let{to:e,replace:n,state:r,relative:s}=t;wo()||De(!1);let{future:i,static:o}=m.useContext(ps),{matches:a}=m.useContext(ms),{pathname:l}=gs(),c=ir(),d=Tm(e,Sm(a,i.v7_relativeSplatPath),l,s==="path"),u=JSON.stringify(d);return m.useEffect(()=>c(JSON.parse(u),{replace:n,state:r,relative:s}),[c,u,s,n,r]),null}function gn(t){De(!1)}function cO(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Fr.Pop,navigator:i,static:o=!1,future:a}=t;wo()&&De(!1);let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Fa({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=_o(r));let{pathname:d="/",search:u="",hash:h="",state:p=null,key:_="default"}=r,g=m.useMemo(()=>{let x=Cm(d,l);return x==null?null:{location:{pathname:x,search:u,hash:h,state:p,key:_},navigationType:s}},[l,d,u,h,p,_,s]);return g==null?null:m.createElement(ps.Provider,{value:c},m.createElement(rd.Provider,{children:n,value:g}))}function uO(t){let{children:e,location:n}=t;return QA(Uh(e),n)}new Promise(()=>{});function Uh(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,Uh(r.props.children,i));return}r.type!==gn&&De(!1),!r.props.index||!r.props.children||De(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Uh(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$h.apply(this,arguments)}function dO(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function fO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hO(t,e){return t.button===0&&(!e||e==="_self")&&!fO(t)}const pO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mO="6";try{window.__reactRouterVersion=mO}catch{}const gO="startTransition",Ny=vw[gO];function vO(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=wA({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=m.useCallback(u=>{c&&Ny?Ny(()=>l(u)):l(u)},[l,c]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>lO(r),[r]),m.createElement(cO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const yO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_O=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$n=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:u}=e,h=dO(e,pO),{basename:p}=m.useContext(ps),_,g=!1;if(typeof c=="string"&&_O.test(c)&&(_=c,yO))try{let w=new URL(window.location.href),E=c.startsWith("//")?new URL(w.protocol+c):new URL(c),b=Cm(E.pathname,p);E.origin===w.origin&&b!=null?c=b+E.search+E.hash:g=!0}catch{}let x=KA(c,{relative:s}),v=wO(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:u});function y(w){r&&r(w),w.defaultPrevented||v(w)}return m.createElement("a",$h({},h,{href:_||x,onClick:g||i?r:y,ref:n,target:l}))});var ky;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ky||(ky={}));var Py;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Py||(Py={}));function wO(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=ir(),c=gs(),d=YE(t,{relative:o});return m.useCallback(u=>{if(hO(u,n)){u.preventDefault();let h=r!==void 0?r:ru(c)===ru(d);l(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R=function(t,e){if(!t)throw xo(e)},xo=function(t){return new Error("Firebase Database ("+eb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},xO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Nm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,u=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(h=64)),r.push(n[d],n[u],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const u=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||u==null)throw new EO;const h=i<<2|a>>4;if(r.push(h),c!==64){const p=a<<4&240|c>>2;if(r.push(p),u!==64){const _=c<<6&192|u;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nb=function(t){const e=tb(t);return Nm.encodeByteArray(e,!0)},su=function(t){return nb(t).replace(/\./g,"")},iu=function(t){try{return Nm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t){return rb(void 0,t)}function rb(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!CO(n)||(t[n]=rb(t[n],e[n]));return t}function CO(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=()=>SO().__FIREBASE_DEFAULTS__,IO=()=>{if(typeof process>"u"||typeof Ry>"u")return;const t=Ry.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iu(t[1]);return e&&JSON.parse(e)},km=()=>{try{return TO()||IO()||NO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sb=t=>{var e,n;return(n=(e=km())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kO=t=>{const e=sb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ib=()=>{var t;return(t=km())===null||t===void 0?void 0:t.config},ob=t=>{var e;return(e=km())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[su(JSON.stringify(n)),su(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function RO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ab(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OO(){const t=mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DO(){return eb.NODE_ADMIN===!0}function MO(){try{return typeof indexedDB=="object"}catch{return!1}}function LO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="FirebaseError";class vs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jO,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cl.prototype.create)}}class cl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?FO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new vs(s,a,r)}}function FO(t,e){return t.replace(UO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const UO=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t){return JSON.parse(t)}function Ue(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Ua(iu(i[0])||""),n=Ua(iu(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},$O=function(t){const e=lb(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},zO=function(t){const e=lb(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function oo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ou(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function au(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Ay(i)&&Ay(o)){if(!au(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Ay(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Xo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let u=0;u<16;u++)r[u]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let u=0;u<16;u++)r[u]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let u=16;u<80;u++){const h=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let u=0;u<80;u++){u<40?u<20?(c=a^i&(o^a),d=1518500249):(c=i^o^a,d=1859775393):u<60?(c=i&o|a&(i|o),d=2400959708):(c=i^o^a,d=3395469782);const h=(s<<5|s>>>27)+c+l+d+r[u]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function WO(t,e){const n=new VO(t,e);return n.subscribe.bind(n)}class VO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=ff),s.error===void 0&&(s.error=ff),s.complete===void 0&&(s.complete=ff);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ff(){}function sd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,R(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},id=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ll;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QO(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qO(t){return t===Cs?void 0:t}function QO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const XO={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},JO=fe.INFO,ZO={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},eD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=ZO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=JO,this._logHandler=eD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const tD=(t,e)=>e.some(n=>t instanceof n);let Oy,Dy;function nD(){return Oy||(Oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rD(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cb=new WeakMap,Bh=new WeakMap,ub=new WeakMap,hf=new WeakMap,Am=new WeakMap;function sD(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Qr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cb.set(n,t)}).catch(()=>{}),Am.set(e,t),e}function iD(t){if(Bh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Bh.set(t,e)}let Wh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ub.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oD(t){Wh=t(Wh)}function aD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pf(this),e,...n);return ub.set(r,e.sort?e.sort():[e]),Qr(r)}:rD().includes(t)?function(...e){return t.apply(pf(this),e),Qr(cb.get(this))}:function(...e){return Qr(t.apply(pf(this),e))}}function lD(t){return typeof t=="function"?aD(t):(t instanceof IDBTransaction&&iD(t),tD(t,nD())?new Proxy(t,Wh):t)}function Qr(t){if(t instanceof IDBRequest)return sD(t);if(hf.has(t))return hf.get(t);const e=lD(t);return e!==t&&(hf.set(t,e),Am.set(e,t)),e}const pf=t=>Am.get(t);function cD(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Qr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Qr(o.result),l.oldVersion,l.newVersion,Qr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const uD=["get","getKey","getAll","getAllKeys","count"],dD=["put","add","delete","clear"],mf=new Map;function My(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mf.get(e))return mf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=dD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||uD.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return mf.set(e,i),i}oD(t=>({...t,get:(e,n,r)=>My(e,n)||t.get(e,n,r),has:(e,n)=>!!My(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vh="@firebase/app",Ly="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new Rm("@firebase/app"),pD="@firebase/app-compat",mD="@firebase/analytics-compat",gD="@firebase/analytics",vD="@firebase/app-check-compat",yD="@firebase/app-check",_D="@firebase/auth",wD="@firebase/auth-compat",xD="@firebase/database",ED="@firebase/data-connect",bD="@firebase/database-compat",CD="@firebase/functions",SD="@firebase/functions-compat",TD="@firebase/installations",ID="@firebase/installations-compat",ND="@firebase/messaging",kD="@firebase/messaging-compat",PD="@firebase/performance",RD="@firebase/performance-compat",AD="@firebase/remote-config",OD="@firebase/remote-config-compat",DD="@firebase/storage",MD="@firebase/storage-compat",LD="@firebase/firestore",jD="@firebase/vertexai-preview",FD="@firebase/firestore-compat",UD="firebase",$D="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="[DEFAULT]",zD={[Vh]:"fire-core",[pD]:"fire-core-compat",[gD]:"fire-analytics",[mD]:"fire-analytics-compat",[yD]:"fire-app-check",[vD]:"fire-app-check-compat",[_D]:"fire-auth",[wD]:"fire-auth-compat",[xD]:"fire-rtdb",[ED]:"fire-data-connect",[bD]:"fire-rtdb-compat",[CD]:"fire-fn",[SD]:"fire-fn-compat",[TD]:"fire-iid",[ID]:"fire-iid-compat",[ND]:"fire-fcm",[kD]:"fire-fcm-compat",[PD]:"fire-perf",[RD]:"fire-perf-compat",[AD]:"fire-rc",[OD]:"fire-rc-compat",[DD]:"fire-gcs",[MD]:"fire-gcs-compat",[LD]:"fire-fst",[FD]:"fire-fst-compat",[jD]:"fire-vertex","fire-js":"fire-js",[UD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=new Map,BD=new Map,Gh=new Map;function jy(t,e){try{t.container.addComponent(e)}catch(n){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ao(t){const e=t.name;if(Gh.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;Gh.set(e,t);for(const n of lu.values())jy(n,t);for(const n of BD.values())jy(n,t);return!0}function Om(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new cl("app","Firebase",WD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=$D;function db(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hh,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Yr.create("bad-app-name",{appName:String(s)});if(n||(n=ib()),!n)throw Yr.create("no-options");const i=lu.get(s);if(i){if(au(n,i.options)&&au(r,i.config))return i;throw Yr.create("duplicate-app",{appName:s})}const o=new YO(s);for(const l of Gh.values())o.addComponent(l);const a=new VD(n,r,o);return lu.set(s,a),a}function fb(t=Hh){const e=lu.get(t);if(!e&&t===Hh&&ib())return db();if(!e)throw Yr.create("no-app",{appName:t});return e}function Xr(t,e,n){var r;let s=(r=zD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(a.join(" "));return}ao(new Vs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="firebase-heartbeat-database",GD=1,$a="firebase-heartbeat-store";let gf=null;function hb(){return gf||(gf=cD(HD,GD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($a)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yr.create("idb-open",{originalErrorMessage:t.message})})),gf}async function KD(t){try{const n=(await hb()).transaction($a),r=await n.objectStore($a).get(pb(t));return await n.done,r}catch(e){if(e instanceof vs)tr.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tr.warn(n.message)}}}async function Fy(t,e){try{const r=(await hb()).transaction($a,"readwrite");await r.objectStore($a).put(e,pb(t)),await r.done}catch(n){if(n instanceof vs)tr.warn(n.message);else{const r=Yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tr.warn(r.message)}}}function pb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=1024,QD=30*24*60*60*1e3;class YD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Uy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=QD}),this._storage.overwrite(this._heartbeatsCache))}catch(r){tr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Uy(),{heartbeatsToSend:r,unsentEntries:s}=XD(this._heartbeatsCache.heartbeats),i=su(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return tr.warn(n),""}}}function Uy(){return new Date().toISOString().substring(0,10)}function XD(t,e=qD){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),$y(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),$y(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MO()?LO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $y(t){return su(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){ao(new Vs("platform-logger",e=>new fD(e),"PRIVATE")),ao(new Vs("heartbeat",e=>new YD(e),"PRIVATE")),Xr(Vh,Ly,t),Xr(Vh,Ly,"esm2017"),Xr("fire-js","")}ZD("");var En=function(){return En=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},En.apply(this,arguments)};function ul(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function eM(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tM=mb,gb=new cl("auth","Firebase",mb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Rm("@firebase/auth");function nM(t,...e){cu.logLevel<=fe.WARN&&cu.warn(`Auth (${bo}): ${t}`,...e)}function _c(t,...e){cu.logLevel<=fe.ERROR&&cu.error(`Auth (${bo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,...e){throw Dm(t,...e)}function In(t,...e){return Dm(t,...e)}function vb(t,e,n){const r=Object.assign(Object.assign({},tM()),{[e]:n});return new cl("auth","Firebase",r).create(e,{appName:t.name})}function Gn(t){return vb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gb.create(t,...e)}function W(t,e,...n){if(!t)throw Dm(e,...n)}function zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _c(e),new Error(e)}function nr(t,e){t||zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rM(){return zy()==="http:"||zy()==="https:"}function zy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rM()||AO()||"connection"in navigator)?navigator.onLine:!0}function iM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,nr(n>e,"Short delay should be less than long delay!"),this.isMobile=Pm()||ab()}get(){return sM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t,e){nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=new dl(3e4,6e4);function or(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ar(t,e,n,r,s={}){return _b(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Eo(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return RO()||(c.referrerPolicy="no-referrer"),yb.fetch()(wb(t,t.config.apiHost,n,a),c)})}async function _b(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},oM),e);try{const s=new cM(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ql(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ql(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ql(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ql(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw vb(t,d,c);hn(t,d)}}catch(s){if(s instanceof vs)throw s;hn(t,"network-request-failed",{message:String(s)})}}async function fl(t,e,n,r,s={}){const i=await ar(t,e,n,r,s);return"mfaPendingCredential"in i&&hn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function wb(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Mm(t.config,s):`${t.config.apiScheme}://${s}`}function lM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(In(this.auth,"network-request-failed")),aM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ql(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=In(t,e,r);return s.customData._tokenResponse=n,s}function By(t){return t!==void 0&&t.enterprise!==void 0}class uM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function dM(t,e){return ar(t,"GET","/v2/recaptchaConfig",or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(t,e){return ar(t,"POST","/v1/accounts:delete",e)}async function xb(t,e){return ar(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hM(t,e=!1){const n=Ze(t),r=await n.getIdToken(e),s=Lm(r);W(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ca(vf(s.auth_time)),issuedAtTime:ca(vf(s.iat)),expirationTime:ca(vf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function vf(t){return Number(t)*1e3}function Lm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _c("JWT malformed, contained fewer than 3 sections"),null;try{const s=iu(n);return s?JSON.parse(s):(_c("Failed to decode base64 JWT payload"),null)}catch(s){return _c("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Wy(t){const e=Lm(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vs&&pM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ca(this.lastLoginAt),this.creationTime=ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await za(t,xb(n,{idToken:r}));W(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Eb(i.providerUserInfo):[],a=vM(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new qh(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,u)}async function gM(t){const e=Ze(t);await uu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Eb(t){return t.map(e=>{var{providerId:n}=e,r=ul(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(t,e){const n=await _b(t,{},async()=>{const r=Eo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=wb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",yb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _M(t,e){return ar(t,"POST","/v2/accounts:revokeToken",or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");const n=Wy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await yM(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ji;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(W(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(W(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ji,this.toJSON())}_performRefresh(){return zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=ul(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new qh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await za(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hM(this,e)}reload(){return gM(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(Gn(this.auth));const e=await this.getIdToken();return await za(this,fM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const u=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:E,isAnonymous:b,providerData:C,stsTokenManager:S}=n;W(w&&S,e,"internal-error");const T=ji.fromJSON(this.name,S);W(typeof w=="string",e,"internal-error"),_r(u,e.name),_r(h,e.name),W(typeof E=="boolean",e,"internal-error"),W(typeof b=="boolean",e,"internal-error"),_r(p,e.name),_r(_,e.name),_r(g,e.name),_r(x,e.name),_r(v,e.name),_r(y,e.name);const A=new Bn({uid:w,auth:e,email:h,emailVerified:E,displayName:u,isAnonymous:b,photoURL:_,phoneNumber:p,tenantId:g,stsTokenManager:T,createdAt:v,lastLoginAt:y});return C&&Array.isArray(C)&&(A.providerData=C.map(D=>Object.assign({},D))),x&&(A._redirectEventId=x),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new ji;s.updateFromServerResponse(n);const i=new Bn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await uu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];W(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Eb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ji;a.updateFromIdToken(r);const l=new Bn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new qh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=new Map;function Wn(t){nr(t instanceof Function,"Expected a class definition");let e=Vy.get(t);return e?(nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bb.type="NONE";const Hy=bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t,e,n){return`firebase:${t}:${e}:${n}`}class Fi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=wc(this.userKey,s.apiKey,i),this.fullPersistenceKey=wc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fi(Wn(Hy),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Wn(Hy);const o=wc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const u=Bn._fromJSON(e,d);c!==i&&(a=u),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Fi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Fi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ib(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kb(e))return"Blackberry";if(Pb(e))return"Webos";if(Sb(e))return"Safari";if((e.includes("chrome/")||Tb(e))&&!e.includes("edge/"))return"Chrome";if(Nb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Cb(t=mt()){return/firefox\//i.test(t)}function Sb(t=mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tb(t=mt()){return/crios\//i.test(t)}function Ib(t=mt()){return/iemobile/i.test(t)}function Nb(t=mt()){return/android/i.test(t)}function kb(t=mt()){return/blackberry/i.test(t)}function Pb(t=mt()){return/webos/i.test(t)}function jm(t=mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wM(t=mt()){var e;return jm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xM(){return OO()&&document.documentMode===10}function Rb(t=mt()){return jm(t)||Nb(t)||Pb(t)||kb(t)||/windows phone/i.test(t)||Ib(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t,e=[]){let n;switch(t){case"Browser":n=Gy(mt());break;case"Worker":n=`${Gy(mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e={}){return ar(t,"GET","/v2/passwordPolicy",or(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=6;class SM{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:CM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ky(this),this.idTokenSubscription=new Ky(this),this.beforeStateQueue=new EM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Fi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xb(this,{idToken:e}),r=await Bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(Gn(this));const n=e?Ze(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(Gn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(Gn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bM(this),n=new SM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _M(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wn(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await Fi.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&nM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ys(t){return Ze(t)}class Ky{constructor(e){this.auth=e,this.observer=null,this.addObserver=WO(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IM(t){od=t}function Ob(t){return od.loadJS(t)}function NM(){return od.recaptchaEnterpriseScript}function kM(){return od.gapiScript}function PM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const RM="recaptcha-enterprise",AM="NO_RECAPTCHA";class OM{constructor(e){this.type=RM,this.auth=ys(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{dM(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new uM(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;By(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(AM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&By(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=NM();l.length!==0&&(l+=a),Ob(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function qy(t,e,n,r=!1){const s=new OM(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function du(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await qy(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await qy(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(t,e){const n=Om(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(au(i,e??{}))return s;hn(s,"already-initialized")}return n.initialize({options:e})}function MM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LM(t,e,n){const r=ys(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Db(e),{host:o,port:a}=jM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),FM()}function Db(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jM(t){const e=Db(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Qy(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Qy(o)}}}function Qy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,n){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}}async function UM(t,e){return ar(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,e){return fl(t,"POST","/v1/accounts:signInWithPassword",or(t,e))}async function zM(t,e){return ar(t,"POST","/v1/accounts:sendOobCode",or(t,e))}async function BM(t,e){return zM(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WM(t,e){return fl(t,"POST","/v1/accounts:signInWithEmailLink",or(t,e))}async function VM(t,e){return fl(t,"POST","/v1/accounts:signInWithEmailLink",or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Fm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ba(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ba(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return du(e,n,"signInWithPassword",$M);case"emailLink":return WM(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return du(e,r,"signUpPassword",UM);case"emailLink":return VM(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ui(t,e){return fl(t,"POST","/v1/accounts:signInWithIdp",or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="http://localhost";class Hs extends Fm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=ul(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Hs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ui(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ui(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ui(e,n)}buildRequest(){const e={requestUri:HM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KM(t){const e=Yo(Xo(t)).link,n=e?Yo(Xo(e)).deep_link_id:null,r=Yo(Xo(t)).deep_link_id;return(r?Yo(Xo(r)).link:null)||r||n||e||t}class Um{constructor(e){var n,r,s,i,o,a;const l=Yo(Xo(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,u=GM((s=l.mode)!==null&&s!==void 0?s:null);W(c&&d&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=KM(e);try{return new Um(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return Ba._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Um.parseLink(n);return W(r,"argument-error"),Ba._fromEmailAndCode(e,r.code,r.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends Mb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends hl{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends hl{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends hl{constructor(){super("twitter.com")}static credential(e,n){return Hs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e){return fl(t,"POST","/v1/accounts:signUp",or(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Bn._fromIdTokenResponse(e,r,s),o=Yy(r);return new Gs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Yy(r);return new Gs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Yy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends vs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new fu(e,n,r,s)}}function Lb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?fu._fromErrorAndOperation(t,i,e,r):i})}async function QM(t,e,n=!1){const r=await za(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YM(t,e,n=!1){const{auth:r}=t;if(bn(r.app))return Promise.reject(Gn(r));const s="reauthenticate";try{const i=await za(t,Lb(r,s,e,t),n);W(i.idToken,r,"internal-error");const o=Lm(i.idToken);W(o,r,"internal-error");const{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),Gs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&hn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t,e,n=!1){if(bn(t.app))return Promise.reject(Gn(t));const r="signIn",s=await Lb(t,r,e),i=await Gs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function XM(t,e){return jb(ys(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(t){const e=ys(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JM(t,e,n){const r=ys(t);await du(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",BM)}async function ZM(t,e,n){if(bn(t.app))return Promise.reject(Gn(t));const r=ys(t),o=await du(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qM).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Fb(t),l}),a=await Gs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function eL(t,e,n){return bn(t.app)?Promise.reject(Gn(t)):XM(Ze(t),Co.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Fb(t),r})}function tL(t,e,n,r){return Ze(t).onIdTokenChanged(e,n,r)}function nL(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function rL(t,e,n,r){return Ze(t).onAuthStateChanged(e,n,r)}function sL(t){return Ze(t).signOut()}const hu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hu,"1"),this.storage.removeItem(hu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=1e3,oL=10;class $b extends Ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);xM()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,oL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$b.type="LOCAL";const aL=$b;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb extends Ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zb.type="SESSION";const Bb=zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ad(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await lL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=$m("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(u){const h=u;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return window}function uL(t){Nn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(){return typeof Nn().WorkerGlobalScope<"u"&&typeof Nn().importScripts=="function"}async function dL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hL(){return Wb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="firebaseLocalStorageDb",pL=1,pu="firebaseLocalStorage",Hb="fbase_key";class pl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(t,e){return t.transaction([pu],e?"readwrite":"readonly").objectStore(pu)}function mL(){const t=indexedDB.deleteDatabase(Vb);return new pl(t).toPromise()}function Qh(){const t=indexedDB.open(Vb,pL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pu,{keyPath:Hb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pu)?e(r):(r.close(),await mL(),e(await Qh()))})})}async function Xy(t,e,n){const r=ld(t,!0).put({[Hb]:e,value:n});return new pl(r).toPromise()}async function gL(t,e){const n=ld(t,!1).get(e),r=await new pl(n).toPromise();return r===void 0?null:r.value}function Jy(t,e){const n=ld(t,!0).delete(e);return new pl(n).toPromise()}const vL=800,yL=3;class Gb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(hL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dL(),!this.activeServiceWorker)return;this.sender=new cL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qh();return await Xy(e,hu,"1"),await Jy(e,hu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ld(s,!1).getAll();return new pl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gb.type="LOCAL";const _L=Gb;new dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t,e){return e?Wn(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends Fm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ui(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ui(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xL(t){return jb(t.auth,new zm(t),t.bypassAuthState)}function EL(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),YM(n,new zm(t),t.bypassAuthState)}async function bL(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),QM(n,new zm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xL;case"linkViaPopup":case"linkViaRedirect":return bL;case"reauthViaPopup":case"reauthViaRedirect":return EL;default:hn(this.auth,"internal-error")}}resolve(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new dl(2e3,1e4);class Ii extends Kb{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ii.currentPopupAction&&Ii.currentPopupAction.cancel(),Ii.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const e=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ii.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CL.get())};e()}}Ii.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="pendingRedirect",xc=new Map;class TL extends Kb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xc.get(this.auth._key());if(!e){try{const r=await IL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xc.set(this.auth._key(),e)}return this.bypassAuthState||xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IL(t,e){const n=PL(e),r=kL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function NL(t,e){xc.set(t._key(),e)}function kL(t){return Wn(t._redirectPersistence)}function PL(t){return wc(SL,t.config.apiKey,t.name)}async function RL(t,e,n=!1){if(bn(t.app))return Promise.reject(Gn(t));const r=ys(t),s=wL(r,e),o=await new TL(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=10*60*1e3;class OL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qb(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(In(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zy(e))}saveEventToCache(e){this.cachedEventUids.add(Zy(e)),this.lastProcessedEventTime=Date.now()}}function Zy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e={}){return ar(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jL=/^https?/;async function FL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ML(t);for(const n of e)try{if(UL(n))return}catch{}hn(t,"unauthorized-domain")}function UL(t){const e=Kh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!jL.test(n))return!1;if(LL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=new dl(3e4,6e4);function e_(){const t=Nn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zL(t){return new Promise((e,n)=>{var r,s,i;function o(){e_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e_(),n(In(t,"network-request-failed"))},timeout:$L.get()})}if(!((s=(r=Nn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Nn().gapi)===null||i===void 0)&&i.load)o();else{const a=PM("iframefcb");return Nn()[a]=()=>{gapi.load?o():n(In(t,"network-request-failed"))},Ob(`${kM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ec=null,e})}let Ec=null;function BL(t){return Ec=Ec||zL(t),Ec}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=new dl(5e3,15e3),VL="__/auth/iframe",HL="emulator/auth/iframe",GL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qL(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mm(e,HL):`https://${t.config.authDomain}/${VL}`,r={apiKey:e.apiKey,appName:t.name,v:bo},s=KL.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Eo(r).slice(1)}`}async function QL(t){const e=await BL(t),n=Nn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:qL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GL,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=In(t,"network-request-failed"),a=Nn().setTimeout(()=>{i(o)},WL.get());function l(){Nn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XL=500,JL=600,ZL="_blank",ej="http://localhost";class t_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tj(t,e,n,r=XL,s=JL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},YL),{width:r.toString(),height:s.toString(),top:i,left:o}),c=mt().toLowerCase();n&&(a=Tb(c)?ZL:n),Cb(c)&&(e=e||ej,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[p,_])=>`${h}${p}=${_},`,"");if(wM(c)&&a!=="_self")return nj(e||"",a),new t_(null);const u=window.open(e||"",a,d);W(u,t,"popup-blocked");try{u.focus()}catch{}return new t_(u)}function nj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="__/auth/handler",sj="emulator/auth/handler",ij=encodeURIComponent("fac");async function n_(t,e,n,r,s,i){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bo,eventId:s};if(e instanceof Mb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",zh(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,u]of Object.entries({}))o[d]=u}if(e instanceof hl){const d=e.getScopes().filter(u=>u!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${ij}=${encodeURIComponent(l)}`:"";return`${oj(t)}?${Eo(a).slice(1)}${c}`}function oj({config:t}){return t.emulator?Mm(t,sj):`https://${t.authDomain}/${rj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="webStorageSupport";class aj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bb,this._completeRedirectFn=RL,this._overrideRedirectResult=NL}async _openPopup(e,n,r,s){var i;nr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await n_(e,n,r,Kh(),s);return tj(e,o,$m())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await n_(e,n,r,Kh(),s);return uL(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(nr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QL(e),r=new OL(e);return n.register("authEvent",s=>(W(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yf,{type:yf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[yf];o!==void 0&&n(!!o),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rb()||Sb()||jm()}}const lj=aj;var r_="@firebase/auth",s_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dj(t){ao(new Vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ab(t)},c=new TM(r,s,i,l);return MM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ao(new Vs("auth-internal",e=>{const n=ys(e.getProvider("auth").getImmediate());return(r=>new cj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(r_,s_,uj(t)),Xr(r_,s_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=5*60,hj=ob("authIdTokenMaxAge")||fj;let i_=null;const pj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hj)return;const s=n==null?void 0:n.token;i_!==s&&(i_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mj(t=fb()){const e=Om(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DM(t,{popupRedirectResolver:lj,persistence:[_L,aL,Bb]}),r=ob("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=pj(i.toString());nL(n,o,()=>o(n.currentUser)),tL(n,a=>o(a))}}const s=sb("auth");return s&&LM(n,`http://${s}`),n}function gj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}IM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=In("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",gj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dj("Browser");var o_={};const a_="@firebase/database",l_="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qb="";function vj(t){Qb=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ue(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ua(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return An(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new yj(e)}}catch{}return new _j},ks=Yb("localStorage"),wj=Yb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Rm("@firebase/database"),xj=function(){let t=1;return function(){return t++}}(),Xb=function(t){const e=GO(t),n=new BO;n.update(e);const r=n.digest();return Nm.encodeByteArray(r)},ml=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ml.apply(null,r):typeof r=="object"?e+=Ue(r):e+=r,e+=" "}return e};let ua=null,c_=!0;const Ej=function(t,e){R(!0,"Can't turn on custom loggers persistently."),$i.logLevel=fe.VERBOSE,ua=$i.log.bind($i)},qe=function(...t){if(c_===!0&&(c_=!1,ua===null&&wj.get("logging_enabled")===!0&&Ej()),ua){const e=ml.apply(null,t);ua(e)}},gl=function(t){return function(...e){qe(t,...e)}},Yh=function(...t){const e="FIREBASE INTERNAL ERROR: "+ml(...t);$i.error(e)},rr=function(...t){const e=`FIREBASE FATAL ERROR: ${ml(...t)}`;throw $i.error(e),new Error(e)},pt=function(...t){const e="FIREBASE WARNING: "+ml(...t);$i.warn(e)},bj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Bm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Cj=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ks="[MIN_NAME]",os="[MAX_NAME]",ni=function(t,e){if(t===e)return 0;if(t===Ks||e===os)return-1;if(e===Ks||t===os)return 1;{const n=u_(t),r=u_(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Sj=function(t,e){return t===e?0:t<e?-1:1},Bo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ue(e))},Wm=function(t){if(typeof t!="object"||t===null)return Ue(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ue(e[r]),n+=":",n+=Wm(t[e[r]]);return n+="}",n},Jb=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Je(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Zb=function(t){R(!Bm(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const d=c.join("");let u="";for(l=0;l<64;l+=8){let h=parseInt(d.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),u=u+h}return u.toLowerCase()},Tj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ij=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Nj(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const kj=new RegExp("^-?(0*)\\d{1,10}$"),Pj=-2147483648,Rj=2147483647,u_=function(t){if(kj.test(t)){const e=Number(t);if(e>=Pj&&e<=Rj)return e}return null},So=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw pt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Aj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},da=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){pt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(qe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pt(e)}}class bc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}bc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="5",eC="v",tC="s",nC="r",rC="f",sC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,iC="ls",oC="p",Xh="ac",aC="websocket",lC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ks.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ks.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Mj(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function uC(t,e,n){R(typeof e=="string","typeof type must == string"),R(typeof n=="object","typeof params must == object");let r;if(e===aC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===lC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Mj(t)&&(n.ns=t.namespace);const s=[];return Je(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(){this.counters_={}}incrementCounter(e,n=1){An(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return bO(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f={},wf={};function Hm(t){const e=t.toString();return _f[e]||(_f[e]=new Lj),_f[e]}function jj(t,e){const n=t.toString();return wf[n]||(wf[n]=e()),wf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&So(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="start",Uj="close",$j="pLPCommand",zj="pRTLPCB",dC="id",fC="pw",hC="ser",Bj="cb",Wj="seg",Vj="ts",Hj="d",Gj="dframe",pC=1870,mC=30,Kj=pC-mC,qj=25e3,Qj=3e4;class Ni{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gl(e),this.stats_=Hm(n),this.urlFn=l=>(this.appCheckToken&&(l[Xh]=this.appCheckToken),uC(n,lC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Fj(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Qj)),Cj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Gm((...i)=>{const[o,a,l,c,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===d_)this.id=a,this.password=l;else if(o===Uj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[d_]="t",r[hC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Bj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[eC]=Vm,this.transportSessionId&&(r[tC]=this.transportSessionId),this.lastSessionId&&(r[iC]=this.lastSessionId),this.applicationId&&(r[oC]=this.applicationId),this.appCheckToken&&(r[Xh]=this.appCheckToken),typeof location<"u"&&location.hostname&&sC.test(location.hostname)&&(r[nC]=rC);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ni.forceAllow_=!0}static forceDisallow(){Ni.forceDisallow_=!0}static isAvailable(){return Ni.forceAllow_?!0:!Ni.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Tj()&&!Ij()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ue(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=nb(n),s=Jb(r,Kj);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Gj]="t",r[dC]=e,r[fC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ue(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Gm{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xj(),window[$j+this.uniqueCallbackIdentifier]=e,window[zj+this.uniqueCallbackIdentifier]=n,this.myIFrame=Gm.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){qe("frame writing exception"),a.stack&&qe(a.stack),qe(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[dC]=this.myID,e[fC]=this.myPW,e[hC]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+mC+r.length<=pC;){const o=this.pendingSegs.shift();r=r+"&"+Wj+s+"="+o.seg+"&"+Vj+s+"="+o.ts+"&"+Hj+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(qj)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{qe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=16384,Xj=45e3;let mu=null;typeof MozWebSocket<"u"?mu=MozWebSocket:typeof WebSocket<"u"&&(mu=WebSocket);class sn{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gl(this.connId),this.stats_=Hm(n),this.connURL=sn.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[eC]=Vm,typeof location<"u"&&location.hostname&&sC.test(location.hostname)&&(o[nC]=rC),n&&(o[tC]=n),r&&(o[iC]=r),s&&(o[Xh]=s),i&&(o[oC]=i),uC(e,aC,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ks.set("previous_websocket_failure",!0);try{let r;DO(),this.mySock=new mu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&mu!==null&&!sn.forceDisallow_}static previouslyFailed(){return ks.isInMemoryStorage||ks.get("previous_websocket_failure")===!0}markConnectionHealthy(){ks.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ua(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(R(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ue(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Jb(n,Yj);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Xj))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ni,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=sn&&sn.isAvailable();let r=n&&!sn.previouslyFailed();if(e.webSocketOnly&&(n||pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[sn];else{const s=this.transports_=[];for(const i of Wa.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Wa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=6e4,Zj=5e3,e2=10*1024,t2=100*1024,xf="t",f_="d",n2="s",h_="r",r2="e",p_="o",m_="a",g_="n",v_="p",s2="h";class i2{constructor(e,n,r,s,i,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gl("c:"+this.id+":"),this.transportManager_=new Wa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=da(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>t2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>e2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(xf in e){const n=e[xf];n===m_?this.upgradeIfSecondaryHealthy_():n===h_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===p_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Bo("t",e),r=Bo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:v_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:m_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:g_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Bo("t",e),r=Bo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Bo(xf,e);if(f_ in e){const r=e[f_];if(n===s2){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===g_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===n2?this.onConnectionShutdown_(r):n===h_?this.onReset_(r):n===r2?Yh("Server Error: "+r):n===p_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vm!==r&&pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),da(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Jj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):da(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Zj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:v_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ks.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.allowedEvents_=e,this.listeners_={},R(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){R(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends vC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Pm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gu}getInitialEvent(e){return R(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=32,__=768;class ue{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ae(){return new ue("")}function Y(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function as(t){return t.pieces_.length-t.pieceNum_}function ge(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ue(t.pieces_,e)}function Km(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function o2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Va(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function yC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ue(e,0)}function Pe(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new ue(n,0)}function X(t){return t.pieceNum_>=t.pieces_.length}function dt(t,e){const n=Y(t),r=Y(e);if(n===null)return e;if(n===r)return dt(ge(t),ge(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function a2(t,e){const n=Va(t,0),r=Va(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=ni(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function qm(t,e){if(as(t)!==as(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function $t(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(as(t)>as(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class l2{constructor(e,n){this.errorPrefix_=n,this.parts_=Va(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=id(this.parts_[r]);_C(this)}}function c2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=id(e),_C(t)}function u2(t){const e=t.parts_.pop();t.byteLength_-=id(e),t.parts_.length>0&&(t.byteLength_-=1)}function _C(t){if(t.byteLength_>__)throw new Error(t.errorPrefix_+"has a key path longer than "+__+" bytes ("+t.byteLength_+").");if(t.parts_.length>y_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+y_+") or object contains a cycle "+Ss(t))}function Ss(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends vC{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Qm}getInitialEvent(e){return R(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=1e3,d2=60*5*1e3,w_=30*1e3,f2=1.3,h2=3e4,p2="server_kill",x_=3;class Kn extends gC{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Kn.nextPersistentConnectionId_++,this.log_=gl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wo,this.maxReconnectDelay_=d2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Ue(i)),R(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new ll,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),R(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),R(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Kn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&An(e,"w")){const r=oo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||zO(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=w_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=$O(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),R(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ue(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Yh("Unrecognized action received from server: "+Ue(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){R(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>h2&&(this.reconnectDelay_=Wo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*f2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Kn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(u){R(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(u)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[u,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?qe("getToken() completed but was canceled"):(qe("getToken() completed. Creating connection."),this.authToken_=u&&u.accessToken,this.appCheckToken_=h&&h.token,a=new i2(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{pt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(p2)},i))}catch(u){this.log_("Failed to get token: "+u),o||(this.repoInfo_.nodeAdmin&&pt(u),l())}}}interrupt(e){qe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zh(this.interruptReasons_)&&(this.reconnectDelay_=Wo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Wm(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new ue(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){qe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=x_&&(this.reconnectDelay_=w_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){qe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=x_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Qb.replace(/\./g,"-")]=1,Pm()?e["framework.cordova"]=1:ab()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gu.getInstance().currentlyOnline();return zh(this.interruptReasons_)&&e}}Kn.nextPersistentConnectionId_=0;Kn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new J(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new J(Ks,e),s=new J(Ks,n);return this.compare(r,s)!==0}minPost(){return J.MIN}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl;class wC extends cd{static get __EMPTY_NODE(){return Yl}static set __EMPTY_NODE(e){Yl=e}compare(e,n){return ni(e.name,n.name)}isDefinedOn(e){throw xo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return J.MIN}maxPost(){return new J(os,Yl)}makePost(e,n){return R(typeof e=="string","KeyIndex indexValue must always be a string."),new J(e,Yl)}toString(){return".key"}}const js=new wC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class We{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??We.RED,this.left=s??xt.EMPTY_NODE,this.right=i??xt.EMPTY_NODE}copy(e,n,r,s,i){return new We(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return xt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class m2{copy(e,n,r,s,i){return this}insert(e,n,r){return new We(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xt{constructor(e,n=xt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(e){return new xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,We.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Xl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Xl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Xl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Xl(this.root_,null,this.comparator_,!0,e)}}xt.EMPTY_NODE=new m2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t,e){return ni(t.name,e.name)}function Ym(t,e){return ni(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh;function v2(t){Jh=t}const xC=function(t){return typeof t=="number"?"number:"+Zb(t):"string:"+t},EC=function(t){if(t.isLeafNode()){const e=t.val();R(typeof e=="string"||typeof e=="number"||typeof e=="object"&&An(e,".sv"),"Priority must be a string or number.")}else R(t===Jh||t.isEmpty(),"priority of unexpected type.");R(t===Jh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E_;class ze{constructor(e,n=ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,R(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),EC(this.priorityNode_)}static set __childrenNodeConstructor(e){E_=e}static get __childrenNodeConstructor(){return E_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ze(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ze.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return X(e)?this:Y(e)===".priority"?this.priorityNode_:ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Y(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(R(r!==".priority"||as(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(ge(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+xC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Zb(this.value_):e+=this.value_,this.lazyHash_=Xb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ze.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ze.__childrenNodeConstructor?-1:(R(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=ze.VALUE_TYPE_ORDER.indexOf(n),i=ze.VALUE_TYPE_ORDER.indexOf(r);return R(s>=0,"Unknown leaf type: "+n),R(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bC,CC;function y2(t){bC=t}function _2(t){CC=t}class w2 extends cd{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?ni(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return J.MIN}maxPost(){return new J(os,new ze("[PRIORITY-POST]",CC))}makePost(e,n){const r=bC(e);return new J(n,new ze("[PRIORITY-POST]",r))}toString(){return".priority"}}const Se=new w2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=Math.log(2);class E2{constructor(e){const n=i=>parseInt(Math.log(i)/x2,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vu=function(t,e,n,r){t.sort(e);const s=function(l,c){const d=c-l;let u,h;if(d===0)return null;if(d===1)return u=t[l],h=n?n(u):u,new We(h,u.node,We.BLACK,null,null);{const p=parseInt(d/2,10)+l,_=s(l,p),g=s(p+1,c);return u=t[p],h=n?n(u):u,new We(h,u.node,We.BLACK,_,g)}},i=function(l){let c=null,d=null,u=t.length;const h=function(_,g){const x=u-_,v=u;u-=_;const y=s(x+1,v),w=t[x],E=n?n(w):w;p(new We(E,w.node,g,null,y))},p=function(_){c?(c.left=_,c=_):(d=_,c=_)};for(let _=0;_<l.count;++_){const g=l.nextBitIsOne(),x=Math.pow(2,l.count-(_+1));g?h(x,We.BLACK):(h(x,We.BLACK),h(x,We.RED))}return d},o=new E2(t.length),a=i(o);return new xt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef;const di={};class Vn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return R(di&&Se,"ChildrenNode.ts has not been loaded"),Ef=Ef||new Vn({".priority":di},{".priority":Se}),Ef}get(e){const n=oo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xt?n:null}hasIndex(e){return An(this.indexSet_,e.toString())}addIndex(e,n){R(e!==js,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(J.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=vu(r,e.getCompare()):a=di;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new Vn(d,c)}addToIndexes(e,n){const r=ou(this.indexes_,(s,i)=>{const o=oo(this.indexSet_,i);if(R(o,"Missing index implementation for "+i),s===di)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(J.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),vu(a,o.getCompare())}else return di;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new J(e.name,a))),l.insert(e,e.node)}});return new Vn(r,this.indexSet_)}removeFromIndexes(e,n){const r=ou(this.indexes_,s=>{if(s===di)return s;{const i=n.get(e.name);return i?s.remove(new J(e.name,i)):s}});return new Vn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo;class B{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&EC(this.priorityNode_),this.children_.isEmpty()&&R(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vo||(Vo=new B(new xt(Ym),null,Vn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vo}updatePriority(e){return this.children_.isEmpty()?this:new B(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Vo:n}}getChild(e){const n=Y(e);return n===null?this:this.getImmediateChild(n).getChild(ge(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(R(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new J(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Vo:this.priorityNode_;return new B(s,o,i)}}updateChild(e,n){const r=Y(e);if(r===null)return n;{R(Y(e)!==".priority"||as(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ge(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Se,(o,a)=>{n[o]=a.val(e),r++,i&&B.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+xC(this.getPriority().val())+":"),this.forEachChild(Se,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Xb(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new J(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new J(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new J(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,J.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,J.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vl?-1:0}withIndex(e){if(e===js||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new B(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===js||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Se),s=n.getIterator(Se);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===js?null:this.indexMap_.get(e.toString())}}B.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class b2 extends B{constructor(){super(new xt(Ym),B.EMPTY_NODE,Vn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return B.EMPTY_NODE}isEmpty(){return!1}}const vl=new b2;Object.defineProperties(J,{MIN:{value:new J(Ks,B.EMPTY_NODE)},MAX:{value:new J(os,vl)}});wC.__EMPTY_NODE=B.EMPTY_NODE;ze.__childrenNodeConstructor=B;v2(vl);_2(vl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=!0;function Fe(t,e=null){if(t===null)return B.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),R(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ze(n,Fe(e))}if(!(t instanceof Array)&&C2){const n=[];let r=!1;if(Je(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Fe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new J(o,l)))}}),n.length===0)return B.EMPTY_NODE;const i=vu(n,g2,o=>o.name,Ym);if(r){const o=vu(n,Se.getCompare());return new B(i,Fe(e),new Vn({".priority":o},{".priority":Se}))}else return new B(i,Fe(e),Vn.Default)}else{let n=B.EMPTY_NODE;return Je(t,(r,s)=>{if(An(t,r)&&r.substring(0,1)!=="."){const i=Fe(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Fe(e))}}y2(Fe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends cd{constructor(e){super(),this.indexPath_=e,R(!X(e)&&Y(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?ni(e.name,n.name):i}makePost(e,n){const r=Fe(e),s=B.EMPTY_NODE.updateChild(this.indexPath_,r);return new J(n,s)}maxPost(){const e=B.EMPTY_NODE.updateChild(this.indexPath_,vl);return new J(os,e)}toString(){return Va(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2 extends cd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ni(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return J.MIN}maxPost(){return J.MAX}makePost(e,n){const r=Fe(e);return new J(n,r)}toString(){return".value"}}const SC=new S2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){return{type:"value",snapshotNode:t}}function lo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ha(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ga(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function T2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){R(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(r.getChild(s))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Ha(n,a)):R(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(lo(n,r)):o.trackChildChange(Ga(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Se,(s,i)=>{n.hasChild(s)||r.trackChildChange(Ha(s,i))}),n.isLeafNode()||n.forEachChild(Se,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(Ga(s,i,o))}else r.trackChildChange(lo(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?B.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.indexedFilter_=new Jm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ka.getStartPost_(e),this.endPost_=Ka.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new J(n,r))||(r=B.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=B.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(B.EMPTY_NODE);const i=this;return n.forEachChild(Se,(o,a)=>{i.matches(new J(o,a))||(s=s.updateImmediateChild(o,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ka(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new J(n,r))||(r=B.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=B.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const a=i.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(B.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const a=i.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const u=this.index_.getCompare();o=(h,p)=>u(p,h)}else o=this.index_.getCompare();const a=e;R(a.numChildren()===this.limit_,"");const l=new J(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const u=a.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const p=h==null?1:o(h,l);if(d&&!r.isEmpty()&&p>=0)return i!=null&&i.trackChildChange(Ga(n,r,u)),a.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(Ha(n,u));const g=a.updateImmediateChild(n,B.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(i!=null&&i.trackChildChange(lo(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?e:d&&o(c,l)>=0?(i!=null&&(i.trackChildChange(Ha(c.name,c.node)),i.trackChildChange(lo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,B.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Se}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return R(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return R(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ks}hasEnd(){return this.endSet_}getIndexEndValue(){return R(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return R(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:os}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return R(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Se}copy(){const e=new Zm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function N2(t){return t.loadsAllData()?new Jm(t.getIndex()):t.hasLimit()?new I2(t):new Ka(t)}function k2(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function P2(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function R2(t,e){const n=t.copy();return n.index_=e,n}function b_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Se?n="$priority":t.index_===SC?n="$value":t.index_===js?n="$key":(R(t.index_ instanceof Xm,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ue(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ue(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ue(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ue(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ue(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function C_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Se&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends gC{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=gl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(R(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=yu.getListenId_(e,r),a={};this.listens_[o]=a;const l=b_(e._queryParams);this.restRequest_(i+".json",l,(c,d)=>{let u=d;if(c===404&&(u=null,c=null),c===null&&this.onDataUpdate_(i,u,!1,r),oo(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const r=yu.getListenId_(e,n);delete this.listens_[r]}get(e){const n=b_(e._queryParams),r=e._path.toString(),s=new ll;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Eo(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ua(a.responseText)}catch{pt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&pt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(){return{value:null,children:new Map}}function IC(t,e,n){if(X(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Y(e);t.children.has(r)||t.children.set(r,_u());const s=t.children.get(r);e=ge(e),IC(s,e,n)}}function Zh(t,e,n){t.value!==null?n(e,t.value):O2(t,(r,s)=>{const i=new ue(e.toString()+"/"+r);Zh(s,i,n)})}function O2(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Je(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=10*1e3,M2=30*1e3,L2=5*60*1e3;class j2{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new D2(e);const r=S_+(M2-S_)*Math.random();da(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Je(e,(s,i)=>{i>0&&An(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),da(this.reportStats_.bind(this),Math.floor(Math.random()*2*L2))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(on||(on={}));function eg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ng(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=on.ACK_USER_WRITE,this.source=eg()}operationForChild(e){if(X(this.path)){if(this.affectedTree.value!=null)return R(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ue(e));return new wu(ae(),n,this.revert)}}else return R(Y(this.path)===e,"operationForChild called for unrelated child."),new wu(ge(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.source=e,this.path=n,this.type=on.LISTEN_COMPLETE}operationForChild(e){return X(this.path)?new qa(this.source,ae()):new qa(this.source,ge(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=on.OVERWRITE}operationForChild(e){return X(this.path)?new qs(this.source,ae(),this.snap.getImmediateChild(e)):new qs(this.source,ge(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=on.MERGE}operationForChild(e){if(X(this.path)){const n=this.children.subtree(new ue(e));return n.isEmpty()?null:n.value?new qs(this.source,ae(),n.value):new co(this.source,ae(),n)}else return R(Y(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new co(this.source,ge(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(X(e))return this.isFullyInitialized()&&!this.filtered_;const n=Y(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function U2(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(T2(o.childName,o.snapshotNode))}),Ho(t,s,"child_removed",e,r,n),Ho(t,s,"child_added",e,r,n),Ho(t,s,"child_moved",i,r,n),Ho(t,s,"child_changed",e,r,n),Ho(t,s,"value",e,r,n),s}function Ho(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>z2(t,a,l)),o.forEach(a=>{const l=$2(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function $2(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function z2(t,e,n){if(e.childName==null||n.childName==null)throw xo("Should only compare child_ events.");const r=new J(e.childName,e.snapshotNode),s=new J(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t,e){return{eventCache:t,serverCache:e}}function fa(t,e,n,r){return ud(new ls(e,n,r),t.serverCache)}function NC(t,e,n,r){return ud(t.eventCache,new ls(e,n,r))}function xu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Qs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf;const B2=()=>(bf||(bf=new xt(Sj)),bf);class me{constructor(e,n=B2()){this.value=e,this.children=n}static fromObject(e){let n=new me(null);return Je(e,(r,s)=>{n=n.set(new ue(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ae(),value:this.value};if(X(e))return null;{const r=Y(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(ge(e),n);return i!=null?{path:Pe(new ue(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(X(e))return this;{const n=Y(e),r=this.children.get(n);return r!==null?r.subtree(ge(e)):new me(null)}}set(e,n){if(X(e))return new me(n,this.children);{const r=Y(e),i=(this.children.get(r)||new me(null)).set(ge(e),n),o=this.children.insert(r,i);return new me(this.value,o)}}remove(e){if(X(e))return this.children.isEmpty()?new me(null):new me(null,this.children);{const n=Y(e),r=this.children.get(n);if(r){const s=r.remove(ge(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new me(null):new me(this.value,i)}else return this}}get(e){if(X(e))return this.value;{const n=Y(e),r=this.children.get(n);return r?r.get(ge(e)):null}}setTree(e,n){if(X(e))return n;{const r=Y(e),i=(this.children.get(r)||new me(null)).setTree(ge(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new me(this.value,o)}}fold(e){return this.fold_(ae(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Pe(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ae(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(X(e))return null;{const i=Y(e),o=this.children.get(i);return o?o.findOnPath_(ge(e),Pe(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ae(),n)}foreachOnPath_(e,n,r){if(X(e))return this;{this.value&&r(n,this.value);const s=Y(e),i=this.children.get(s);return i?i.foreachOnPath_(ge(e),Pe(n,s),r):new me(null)}}foreach(e){this.foreach_(ae(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Pe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.writeTree_=e}static empty(){return new cn(new me(null))}}function ha(t,e,n){if(X(e))return new cn(new me(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=dt(s,e);return i=i.updateChild(o,n),new cn(t.writeTree_.set(s,i))}else{const s=new me(n),i=t.writeTree_.setTree(e,s);return new cn(i)}}}function ep(t,e,n){let r=t;return Je(n,(s,i)=>{r=ha(r,Pe(e,s),i)}),r}function T_(t,e){if(X(e))return cn.empty();{const n=t.writeTree_.setTree(e,new me(null));return new cn(n)}}function tp(t,e){return ri(t,e)!=null}function ri(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(dt(n.path,e)):null}function I_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Se,(r,s)=>{e.push(new J(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new J(r,s.value))}),e}function Jr(t,e){if(X(e))return t;{const n=ri(t,e);return n!=null?new cn(new me(n)):new cn(t.writeTree_.subtree(e))}}function np(t){return t.writeTree_.isEmpty()}function uo(t,e){return kC(ae(),t.writeTree_,e)}function kC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(R(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=kC(Pe(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Pe(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e){return OC(e,t)}function W2(t,e,n,r,s){R(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ha(t.visibleWrites,e,n)),t.lastWriteId=r}function V2(t,e,n,r){R(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=ep(t.visibleWrites,e,n),t.lastWriteId=r}function H2(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function G2(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);R(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&K2(a,r.path)?s=!1:$t(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return q2(t),!0;if(r.snap)t.visibleWrites=T_(t.visibleWrites,r.path);else{const a=r.children;Je(a,l=>{t.visibleWrites=T_(t.visibleWrites,Pe(r.path,l))})}return!0}else return!1}function K2(t,e){if(t.snap)return $t(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&$t(Pe(t.path,n),e))return!0;return!1}function q2(t){t.visibleWrites=PC(t.allWrites,Q2,ae()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Q2(t){return t.visible}function PC(t,e,n){let r=cn.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)$t(n,o)?(a=dt(n,o),r=ha(r,a,i.snap)):$t(o,n)&&(a=dt(o,n),r=ha(r,ae(),i.snap.getChild(a)));else if(i.children){if($t(n,o))a=dt(n,o),r=ep(r,a,i.children);else if($t(o,n))if(a=dt(o,n),X(a))r=ep(r,ae(),i.children);else{const l=oo(i.children,Y(a));if(l){const c=l.getChild(ge(a));r=ha(r,ae(),c)}}}else throw xo("WriteRecord should have .snap or .children")}}return r}function RC(t,e,n,r,s){if(!r&&!s){const i=ri(t.visibleWrites,e);if(i!=null)return i;{const o=Jr(t.visibleWrites,e);if(np(o))return n;if(n==null&&!tp(o,ae()))return null;{const a=n||B.EMPTY_NODE;return uo(o,a)}}}else{const i=Jr(t.visibleWrites,e);if(!s&&np(i))return n;if(!s&&n==null&&!tp(i,ae()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&($t(c.path,e)||$t(e,c.path))},a=PC(t.allWrites,o,e),l=n||B.EMPTY_NODE;return uo(a,l)}}}function Y2(t,e,n){let r=B.EMPTY_NODE;const s=ri(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Se,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Jr(t.visibleWrites,e);return n.forEachChild(Se,(o,a)=>{const l=uo(Jr(i,new ue(o)),a);r=r.updateImmediateChild(o,l)}),I_(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Jr(t.visibleWrites,e);return I_(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function X2(t,e,n,r,s){R(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Pe(e,n);if(tp(t.visibleWrites,i))return null;{const o=Jr(t.visibleWrites,i);return np(o)?s.getChild(n):uo(o,s.getChild(n))}}function J2(t,e,n,r){const s=Pe(e,n),i=ri(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Jr(t.visibleWrites,s);return uo(o,r.getNode().getImmediateChild(n))}else return null}function Z2(t,e){return ri(t.visibleWrites,e)}function eF(t,e,n,r,s,i,o){let a;const l=Jr(t.visibleWrites,e),c=ri(l,ae());if(c!=null)a=c;else if(n!=null)a=uo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],u=o.getCompare(),h=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=h.getNext();for(;p&&d.length<s;)u(p,r)!==0&&d.push(p),p=h.getNext();return d}else return[]}function tF(){return{visibleWrites:cn.empty(),allWrites:[],lastWriteId:-1}}function Eu(t,e,n,r){return RC(t.writeTree,t.treePath,e,n,r)}function rg(t,e){return Y2(t.writeTree,t.treePath,e)}function N_(t,e,n,r){return X2(t.writeTree,t.treePath,e,n,r)}function bu(t,e){return Z2(t.writeTree,Pe(t.treePath,e))}function nF(t,e,n,r,s,i){return eF(t.writeTree,t.treePath,e,n,r,s,i)}function sg(t,e,n){return J2(t.writeTree,t.treePath,e,n)}function AC(t,e){return OC(Pe(t.treePath,e),t.writeTree)}function OC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;R(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),R(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Ga(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Ha(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,lo(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Ga(r,e.snapshotNode,s.oldSnap));else throw xo("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const DC=new sF;class ig{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ls(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Qs(this.viewCache_),i=nF(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t){return{filter:t}}function oF(t,e){R(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),R(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function aF(t,e,n,r,s){const i=new rF;let o,a;if(n.type===on.OVERWRITE){const c=n;c.source.fromUser?o=rp(t,e,c.path,c.snap,r,s,i):(R(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!X(c.path),o=Cu(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===on.MERGE){const c=n;c.source.fromUser?o=cF(t,e,c.path,c.children,r,s,i):(R(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=sp(t,e,c.path,c.children,r,s,a,i))}else if(n.type===on.ACK_USER_WRITE){const c=n;c.revert?o=fF(t,e,c.path,r,s,i):o=uF(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===on.LISTEN_COMPLETE)o=dF(t,e,n.path,r,i);else throw xo("Unknown operation type: "+n.type);const l=i.getChanges();return lF(e,o,l),{viewCache:o,changes:l}}function lF(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=xu(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(TC(xu(e)))}}function MC(t,e,n,r,s,i){const o=e.eventCache;if(bu(r,n)!=null)return e;{let a,l;if(X(n))if(R(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Qs(e),d=c instanceof B?c:B.EMPTY_NODE,u=rg(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const c=Eu(r,Qs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=Y(n);if(c===".priority"){R(as(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const u=N_(r,n,d,l);u!=null?a=t.filter.updatePriority(d,u):a=o.getNode()}else{const d=ge(n);let u;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=N_(r,n,o.getNode(),l);h!=null?u=o.getNode().getImmediateChild(c).updateChild(d,h):u=o.getNode().getImmediateChild(c)}else u=sg(r,c,e.serverCache);u!=null?a=t.filter.updateChild(o.getNode(),c,u,d,s,i):a=o.getNode()}}return fa(e,a,o.isFullyInitialized()||X(n),t.filter.filtersNodes())}}function Cu(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(X(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),p,null)}else{const p=Y(n);if(!l.isCompleteForPath(n)&&as(n)>1)return e;const _=ge(n),x=l.getNode().getImmediateChild(p).updateChild(_,r);p===".priority"?c=d.updatePriority(l.getNode(),x):c=d.updateChild(l.getNode(),p,x,_,DC,null)}const u=NC(e,c,l.isFullyInitialized()||X(n),d.filtersNodes()),h=new ig(s,u,i);return MC(t,u,n,s,h,a)}function rp(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const d=new ig(s,e,i);if(X(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=fa(e,c,!0,t.filter.filtersNodes());else{const u=Y(n);if(u===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=fa(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=ge(n),p=a.getNode().getImmediateChild(u);let _;if(X(h))_=r;else{const g=d.getCompleteChild(u);g!=null?Km(h)===".priority"&&g.getChild(yC(h)).isEmpty()?_=g:_=g.updateChild(h,r):_=B.EMPTY_NODE}if(p.equals(_))l=e;else{const g=t.filter.updateChild(a.getNode(),u,_,h,d,o);l=fa(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function k_(t,e){return t.eventCache.isCompleteForChild(e)}function cF(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const d=Pe(n,l);k_(e,Y(d))&&(a=rp(t,a,d,c,s,i,o))}),r.foreach((l,c)=>{const d=Pe(n,l);k_(e,Y(d))||(a=rp(t,a,d,c,s,i,o))}),a}function P_(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function sp(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;X(n)?c=r:c=new me(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((u,h)=>{if(d.hasChild(u)){const p=e.serverCache.getNode().getImmediateChild(u),_=P_(t,p,h);l=Cu(t,l,new ue(u),_,s,i,o,a)}}),c.children.inorderTraversal((u,h)=>{const p=!e.serverCache.isCompleteForChild(u)&&h.value===null;if(!d.hasChild(u)&&!p){const _=e.serverCache.getNode().getImmediateChild(u),g=P_(t,_,h);l=Cu(t,l,new ue(u),g,s,i,o,a)}}),l}function uF(t,e,n,r,s,i,o){if(bu(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(X(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Cu(t,e,n,l.getNode().getChild(n),s,i,a,o);if(X(n)){let c=new me(null);return l.getNode().forEachChild(js,(d,u)=>{c=c.set(new ue(d),u)}),sp(t,e,n,c,s,i,a,o)}else return e}else{let c=new me(null);return r.foreach((d,u)=>{const h=Pe(n,d);l.isCompleteForPath(h)&&(c=c.set(d,l.getNode().getChild(h)))}),sp(t,e,n,c,s,i,a,o)}}function dF(t,e,n,r,s){const i=e.serverCache,o=NC(e,i.getNode(),i.isFullyInitialized()||X(n),i.isFiltered());return MC(t,o,n,r,DC,s)}function fF(t,e,n,r,s,i){let o;if(bu(r,n)!=null)return e;{const a=new ig(r,e,s),l=e.eventCache.getNode();let c;if(X(n)||Y(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Eu(r,Qs(e));else{const u=e.serverCache.getNode();R(u instanceof B,"serverChildren would be complete if leaf node"),d=rg(r,u)}d=d,c=t.filter.updateFullNode(l,d,i)}else{const d=Y(n);let u=sg(r,d,e.serverCache);u==null&&e.serverCache.isCompleteForChild(d)&&(u=l.getImmediateChild(d)),u!=null?c=t.filter.updateChild(l,d,u,ge(n),a,i):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,B.EMPTY_NODE,ge(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Eu(r,Qs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||bu(r,ae())!=null,fa(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new Jm(r.getIndex()),i=N2(r);this.processor_=iF(i);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(B.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(B.EMPTY_NODE,a.getNode(),null),d=new ls(l,o.isFullyInitialized(),s.filtersNodes()),u=new ls(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=ud(u,d),this.eventGenerator_=new F2(this.query_)}get query(){return this.query_}}function pF(t){return t.viewCache_.serverCache.getNode()}function mF(t){return xu(t.viewCache_)}function gF(t,e){const n=Qs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!X(e)&&!n.getImmediateChild(Y(e)).isEmpty())?n.getChild(e):null}function R_(t){return t.eventRegistrations_.length===0}function vF(t,e){t.eventRegistrations_.push(e)}function A_(t,e,n){const r=[];if(n){R(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function O_(t,e,n,r){e.type===on.MERGE&&e.source.queryId!==null&&(R(Qs(t.viewCache_),"We should always have a full cache before handling merges"),R(xu(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=aF(t.processor_,s,e,n,r);return oF(t.processor_,i.viewCache),R(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,LC(t,i.changes,i.viewCache.eventCache.getNode(),null)}function yF(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Se,(i,o)=>{r.push(lo(i,o))}),n.isFullyInitialized()&&r.push(TC(n.getNode())),LC(t,r,n.getNode(),e)}function LC(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return U2(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su;class jC{constructor(){this.views=new Map}}function _F(t){R(!Su,"__referenceConstructor has already been defined"),Su=t}function wF(){return R(Su,"Reference.ts has not been loaded"),Su}function xF(t){return t.views.size===0}function og(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return R(i!=null,"SyncTree gave us an op for an invalid query."),O_(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(O_(o,e,n,r));return i}}function FC(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let a=Eu(n,s?r:null),l=!1;a?l=!0:r instanceof B?(a=rg(n,r),l=!1):(a=B.EMPTY_NODE,l=!1);const c=ud(new ls(a,l,!1),new ls(r,s,!1));return new hF(e,c)}return o}function EF(t,e,n,r,s,i){const o=FC(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),vF(o,n),yF(o,n)}function bF(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const a=cs(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(A_(c,n,r)),R_(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(A_(l,n,r)),R_(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||i.push(l.query)))}return a&&!cs(t)&&i.push(new(wF())(e._repo,e._path)),{removed:i,events:o}}function UC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Zr(t,e){let n=null;for(const r of t.views.values())n=n||gF(r,e);return n}function $C(t,e){if(e._queryParams.loadsAllData())return fd(t);{const r=e._queryIdentifier;return t.views.get(r)}}function zC(t,e){return $C(t,e)!=null}function cs(t){return fd(t)!=null}function fd(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;function CF(t){R(!Tu,"__referenceConstructor has already been defined"),Tu=t}function SF(){return R(Tu,"Reference.ts has not been loaded"),Tu}let TF=1;class D_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new me(null),this.pendingWriteTree_=tF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function BC(t,e,n,r,s){return W2(t.pendingWriteTree_,e,n,r,s),s?To(t,new qs(eg(),e,n)):[]}function IF(t,e,n,r){V2(t.pendingWriteTree_,e,n,r);const s=me.fromObject(n);return To(t,new co(eg(),e,s))}function Ur(t,e,n=!1){const r=H2(t.pendingWriteTree_,e);if(G2(t.pendingWriteTree_,e)){let i=new me(null);return r.snap!=null?i=i.set(ae(),!0):Je(r.children,o=>{i=i.set(new ue(o),!0)}),To(t,new wu(r.path,i,n))}else return[]}function yl(t,e,n){return To(t,new qs(tg(),e,n))}function NF(t,e,n){const r=me.fromObject(n);return To(t,new co(tg(),e,r))}function kF(t,e){return To(t,new qa(tg(),e))}function PF(t,e,n){const r=lg(t,n);if(r){const s=cg(r),i=s.path,o=s.queryId,a=dt(i,e),l=new qa(ng(o),a);return ug(t,i,l)}else return[]}function Iu(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let a=[];if(o&&(e._queryIdentifier==="default"||zC(o,e))){const l=bF(o,e,n,r);xF(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const c=l.removed;if(a=l.events,!s){const d=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,u=t.syncPointTree_.findOnPath(i,(h,p)=>cs(p));if(d&&!u){const h=t.syncPointTree_.subtree(i);if(!h.isEmpty()){const p=OF(h);for(let _=0;_<p.length;++_){const g=p[_],x=g.query,v=GC(t,g);t.listenProvider_.startListening(pa(x),Qa(t,x),v.hashFn,v.onComplete)}}}!u&&c.length>0&&!r&&(d?t.listenProvider_.stopListening(pa(e),null):c.forEach(h=>{const p=t.queryToTagMap.get(hd(h));t.listenProvider_.stopListening(pa(h),p)}))}DF(t,c)}return a}function WC(t,e,n,r){const s=lg(t,r);if(s!=null){const i=cg(s),o=i.path,a=i.queryId,l=dt(o,e),c=new qs(ng(a),l,n);return ug(t,o,c)}else return[]}function RF(t,e,n,r){const s=lg(t,r);if(s){const i=cg(s),o=i.path,a=i.queryId,l=dt(o,e),c=me.fromObject(n),d=new co(ng(a),l,c);return ug(t,o,d)}else return[]}function ip(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,p)=>{const _=dt(h,s);i=i||Zr(p,_),o=o||cs(p)});let a=t.syncPointTree_.get(s);a?(o=o||cs(a),i=i||Zr(a,ae())):(a=new jC,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;i!=null?l=!0:(l=!1,i=B.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((p,_)=>{const g=Zr(_,ae());g&&(i=i.updateImmediateChild(p,g))}));const c=zC(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=hd(e);R(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const p=MF();t.queryToTagMap.set(h,p),t.tagToQueryMap.set(p,h)}const d=dd(t.pendingWriteTree_,s);let u=EF(a,e,n,d,i,l);if(!c&&!o&&!r){const h=$C(a,e);u=u.concat(LF(t,e,h))}return u}function ag(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=dt(o,e),c=Zr(a,l);if(c)return c});return RC(s,e,i,n,!0)}function AF(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,d)=>{const u=dt(c,n);r=r||Zr(d,u)});let s=t.syncPointTree_.get(n);s?r=r||Zr(s,ae()):(s=new jC,t.syncPointTree_=t.syncPointTree_.set(n,s));const i=r!=null,o=i?new ls(r,!0,!1):null,a=dd(t.pendingWriteTree_,e._path),l=FC(s,e,a,i?o.getNode():B.EMPTY_NODE,i);return mF(l)}function To(t,e){return VC(e,t.syncPointTree_,null,dd(t.pendingWriteTree_,ae()))}function VC(t,e,n,r){if(X(t.path))return HC(t,e,n,r);{const s=e.get(ae());n==null&&s!=null&&(n=Zr(s,ae()));let i=[];const o=Y(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=AC(r,o);i=i.concat(VC(a,l,c,d))}return s&&(i=i.concat(og(s,t,r,n))),i}}function HC(t,e,n,r){const s=e.get(ae());n==null&&s!=null&&(n=Zr(s,ae()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=AC(r,o),d=t.operationForChild(o);d&&(i=i.concat(HC(d,a,l,c)))}),s&&(i=i.concat(og(s,t,r,n))),i}function GC(t,e){const n=e.query,r=Qa(t,n);return{hashFn:()=>(pF(e)||B.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?PF(t,n._path,r):kF(t,n._path);{const i=Nj(s,n);return Iu(t,n,null,i)}}}}function Qa(t,e){const n=hd(e);return t.queryToTagMap.get(n)}function hd(t){return t._path.toString()+"$"+t._queryIdentifier}function lg(t,e){return t.tagToQueryMap.get(e)}function cg(t){const e=t.indexOf("$");return R(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ue(t.substr(0,e))}}function ug(t,e,n){const r=t.syncPointTree_.get(e);R(r,"Missing sync point for query tag that we're tracking");const s=dd(t.pendingWriteTree_,e);return og(r,n,s,null)}function OF(t){return t.fold((e,n,r)=>{if(n&&cs(n))return[fd(n)];{let s=[];return n&&(s=UC(n)),Je(r,(i,o)=>{s=s.concat(o)}),s}})}function pa(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(SF())(t._repo,t._path):t}function DF(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=hd(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function MF(){return TF++}function LF(t,e,n){const r=e._path,s=Qa(t,e),i=GC(t,n),o=t.listenProvider_.startListening(pa(e),s,i.hashFn,i.onComplete),a=t.syncPointTree_.subtree(r);if(s)R(!cs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,u)=>{if(!X(c)&&d&&cs(d))return[fd(d).query];{let h=[];return d&&(h=h.concat(UC(d).map(p=>p.query))),Je(u,(p,_)=>{h=h.concat(_)}),h}});for(let c=0;c<l.length;++c){const d=l[c];t.listenProvider_.stopListening(pa(d),Qa(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new dg(n)}node(){return this.node_}}class fg{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Pe(this.path_,e);return new fg(this.syncTree_,n)}node(){return ag(this.syncTree_,this.path_)}}const jF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},M_=function(t,e,n){if(!t||typeof t!="object")return t;if(R(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return FF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return UF(t[".sv"],e);R(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},FF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:R(!1,"Unexpected server value: "+t)}},UF=function(t,e,n){t.hasOwnProperty("increment")||R(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&R(!1,"Unexpected increment value: "+r);const s=e.node();if(R(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},KC=function(t,e,n,r){return hg(e,new fg(n,t),r)},qC=function(t,e,n){return hg(t,new dg(e),n)};function hg(t,e,n){const r=t.getPriority().val(),s=M_(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=M_(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new ze(a,Fe(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new ze(s))),o.forEachChild(Se,(a,l)=>{const c=hg(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function mg(t,e){let n=e instanceof ue?e:new ue(e),r=t,s=Y(n);for(;s!==null;){const i=oo(r.node.children,s)||{children:{},childCount:0};r=new pg(s,r,i),n=ge(n),s=Y(n)}return r}function Io(t){return t.node.value}function QC(t,e){t.node.value=e,op(t)}function YC(t){return t.node.childCount>0}function $F(t){return Io(t)===void 0&&!YC(t)}function pd(t,e){Je(t.node.children,(n,r)=>{e(new pg(n,t,r))})}function XC(t,e,n,r){n&&e(t),pd(t,s=>{XC(s,e,!0)})}function zF(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function _l(t){return new ue(t.parent===null?t.name:_l(t.parent)+"/"+t.name)}function op(t){t.parent!==null&&BF(t.parent,t.name,t)}function BF(t,e,n){const r=$F(n),s=An(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,op(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,op(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=/[\[\].#$\/\u0000-\u001F\u007F]/,VF=/[\[\].#$\u0000-\u001F\u007F]/,Cf=10*1024*1024,gg=function(t){return typeof t=="string"&&t.length!==0&&!WF.test(t)},JC=function(t){return typeof t=="string"&&t.length!==0&&!VF.test(t)},HF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),JC(t)},ap=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Bm(t)||t&&typeof t=="object"&&An(t,".sv")},wl=function(t,e,n,r){r&&e===void 0||md(sd(t,"value"),e,n)},md=function(t,e,n){const r=n instanceof ue?new l2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ss(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ss(r)+" with contents = "+e.toString());if(Bm(e))throw new Error(t+"contains "+e.toString()+" "+Ss(r));if(typeof e=="string"&&e.length>Cf/3&&id(e)>Cf)throw new Error(t+"contains a string greater than "+Cf+" utf8 bytes "+Ss(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Je(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!gg(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ss(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);c2(r,o),md(t,a,r),u2(r)}),s&&i)throw new Error(t+' contains ".value" child '+Ss(r)+" in addition to actual children.")}},GF=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=Va(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!gg(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(a2);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&$t(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},KF=function(t,e,n,r){const s=sd(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];Je(e,(o,a)=>{const l=new ue(o);if(md(s,a,Pe(n,l)),Km(l)===".priority"&&!ap(a))throw new Error(s+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(l)}),GF(s,i)},vg=function(t,e,n,r){if(!JC(n))throw new Error(sd(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},qF=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vg(t,e,n)},ZC=function(t,e){if(Y(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},QF=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!gg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!HF(n))throw new Error(sd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function gd(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!qm(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function eS(t,e,n){gd(t,n),tS(t,r=>qm(r,e))}function Gt(t,e,n){gd(t,n),tS(t,r=>$t(r,e)||$t(e,r))}function tS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(XF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function XF(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ua&&qe("event: "+n.toString()),So(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF="repo_interrupt",ZF=25;class eU{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new YF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_u(),this.transactionQueueTree_=new pg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tU(t,e,n){if(t.stats_=Hm(t.repoInfo_),t.forceRestClient_||Aj())t.server_=new yu(t.repoInfo_,(r,s,i,o)=>{L_(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>j_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ue(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Kn(t.repoInfo_,e,(r,s,i,o)=>{L_(t,r,s,i,o)},r=>{j_(t,r)},r=>{nU(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=jj(t.repoInfo_,()=>new j2(t.stats_,t.server_)),t.infoData_=new A2,t.infoSyncTree_=new D_({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=yl(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),yg(t,"connected",!1),t.serverSyncTree_=new D_({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Gt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function nS(t){const n=t.infoData_.getNode(new ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function vd(t){return jF({timestamp:nS(t)})}function L_(t,e,n,r,s){t.dataUpdateCount++;const i=new ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=ou(n,c=>Fe(c));o=RF(t.serverSyncTree_,i,l,s)}else{const l=Fe(n);o=WC(t.serverSyncTree_,i,l,s)}else if(r){const l=ou(n,c=>Fe(c));o=NF(t.serverSyncTree_,i,l)}else{const l=Fe(n);o=yl(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=fo(t,i)),Gt(t.eventQueue_,a,o)}function j_(t,e){yg(t,"connected",e),e===!1&&oU(t)}function nU(t,e){Je(e,(n,r)=>{yg(t,n,r)})}function yg(t,e,n){const r=new ue("/.info/"+e),s=Fe(n);t.infoData_.updateSnapshot(r,s);const i=yl(t.infoSyncTree_,r,s);Gt(t.eventQueue_,r,i)}function _g(t){return t.nextWriteId_++}function rU(t,e,n){const r=AF(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(s=>{const i=Fe(s).withIndex(e._queryParams.getIndex());ip(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=yl(t.serverSyncTree_,e._path,i);else{const a=Qa(t.serverSyncTree_,e);o=WC(t.serverSyncTree_,e._path,i,a)}return Gt(t.eventQueue_,e._path,o),Iu(t.serverSyncTree_,e,n,null,!0),i},s=>(xl(t,"get for query "+Ue(e)+" failed: "+s),Promise.reject(new Error(s))))}function sU(t,e,n,r,s){xl(t,"set",{path:e.toString(),value:n,priority:r});const i=vd(t),o=Fe(n,r),a=ag(t.serverSyncTree_,e),l=qC(o,a,i),c=_g(t),d=BC(t.serverSyncTree_,e,l,c,!0);gd(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(h,p)=>{const _=h==="ok";_||pt("set at "+e+" failed: "+h);const g=Ur(t.serverSyncTree_,c,!_);Gt(t.eventQueue_,e,g),lp(t,s,h,p)});const u=xg(t,e);fo(t,u),Gt(t.eventQueue_,u,[])}function iU(t,e,n,r){xl(t,"update",{path:e.toString(),value:n});let s=!0;const i=vd(t),o={};if(Je(n,(a,l)=>{s=!1,o[a]=KC(Pe(e,a),Fe(l),t.serverSyncTree_,i)}),s)qe("update() called with empty data.  Don't do anything."),lp(t,r,"ok",void 0);else{const a=_g(t),l=IF(t.serverSyncTree_,e,o,a);gd(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,d)=>{const u=c==="ok";u||pt("update at "+e+" failed: "+c);const h=Ur(t.serverSyncTree_,a,!u),p=h.length>0?fo(t,e):e;Gt(t.eventQueue_,p,h),lp(t,r,c,d)}),Je(n,c=>{const d=xg(t,Pe(e,c));fo(t,d)}),Gt(t.eventQueue_,e,[])}}function oU(t){xl(t,"onDisconnectEvents");const e=vd(t),n=_u();Zh(t.onDisconnect_,ae(),(s,i)=>{const o=KC(s,i,t.serverSyncTree_,e);IC(n,s,o)});let r=[];Zh(n,ae(),(s,i)=>{r=r.concat(yl(t.serverSyncTree_,s,i));const o=xg(t,s);fo(t,o)}),t.onDisconnect_=_u(),Gt(t.eventQueue_,ae(),r)}function aU(t,e,n){let r;Y(e._path)===".info"?r=ip(t.infoSyncTree_,e,n):r=ip(t.serverSyncTree_,e,n),eS(t.eventQueue_,e._path,r)}function lU(t,e,n){let r;Y(e._path)===".info"?r=Iu(t.infoSyncTree_,e,n):r=Iu(t.serverSyncTree_,e,n),eS(t.eventQueue_,e._path,r)}function cU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(JF)}function xl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),qe(n,...e)}function lp(t,e,n,r){e&&So(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function rS(t,e,n){return ag(t.serverSyncTree_,e,n)||B.EMPTY_NODE}function wg(t,e=t.transactionQueueTree_){if(e||yd(t,e),Io(e)){const n=iS(t,e);R(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&uU(t,_l(e),n)}else YC(e)&&pd(e,n=>{wg(t,n)})}function uU(t,e,n){const r=n.map(c=>c.currentWriteId),s=rS(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const d=n[c];R(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const u=dt(e,d.path);i=i.updateChild(u,d.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{xl(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const u=[];for(let h=0;h<n.length;h++)n[h].status=2,d=d.concat(Ur(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&u.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();yd(t,mg(t.transactionQueueTree_,e)),wg(t,t.transactionQueueTree_),Gt(t.eventQueue_,e,d);for(let h=0;h<u.length;h++)So(u[h])}else{if(c==="datastale")for(let u=0;u<n.length;u++)n[u].status===3?n[u].status=4:n[u].status=0;else{pt("transaction at "+l.toString()+" failed: "+c);for(let u=0;u<n.length;u++)n[u].status=4,n[u].abortReason=c}fo(t,e)}},o)}function fo(t,e){const n=sS(t,e),r=_l(n),s=iS(t,n);return dU(t,s,r),r}function dU(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=dt(n,l.path);let d=!1,u;if(R(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,u=l.abortReason,s=s.concat(Ur(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=ZF)d=!0,u="maxretry",s=s.concat(Ur(t.serverSyncTree_,l.currentWriteId,!0));else{const h=rS(t,l.path,o);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){md("transaction failed: Data returned ",p,l.path);let _=Fe(p);typeof p=="object"&&p!=null&&An(p,".priority")||(_=_.updatePriority(h.getPriority()));const x=l.currentWriteId,v=vd(t),y=qC(_,h,v);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=y,l.currentWriteId=_g(t),o.splice(o.indexOf(x),1),s=s.concat(BC(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),s=s.concat(Ur(t.serverSyncTree_,x,!0))}else d=!0,u="nodata",s=s.concat(Ur(t.serverSyncTree_,l.currentWriteId,!0))}Gt(t.eventQueue_,n,s),s=[],d&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(u==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(u),!1,null))))}yd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)So(r[a]);wg(t,t.transactionQueueTree_)}function sS(t,e){let n,r=t.transactionQueueTree_;for(n=Y(e);n!==null&&Io(r)===void 0;)r=mg(r,n),e=ge(e),n=Y(e);return r}function iS(t,e){const n=[];return oS(t,e,n),n.sort((r,s)=>r.order-s.order),n}function oS(t,e,n){const r=Io(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);pd(e,s=>{oS(t,s,n)})}function yd(t,e){const n=Io(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,QC(e,n.length>0?n:void 0)}pd(e,r=>{yd(t,r)})}function xg(t,e){const n=_l(sS(t,e)),r=mg(t.transactionQueueTree_,e);return zF(r,s=>{Sf(t,s)}),Sf(t,r),XC(r,s=>{Sf(t,s)}),n}function Sf(t,e){const n=Io(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(R(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(R(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Ur(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?QC(e,void 0):n.length=i+1,Gt(t.eventQueue_,_l(e),s);for(let o=0;o<r.length;o++)So(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function hU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):pt(`Invalid query segment '${n}' in query '${t}'`)}return e}const F_=function(t,e){const n=pU(t),r=n.namespace;n.domain==="firebase.com"&&rr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&rr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||bj();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new cC(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new ue(n.pathString)}},pU=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let u=t.indexOf("?");u===-1&&(u=t.length),e=t.substring(0,Math.min(d,u)),d<u&&(s=fU(t.substring(d,u)));const h=hU(t.substring(Math.min(t.length,u)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),i=r}"ns"in h&&(i=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",mU=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=U_.charAt(n%64),n=Math.floor(n/64);R(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=U_.charAt(e[s]);return R(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ue(this.snapshot.exportVal())}}class vU{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return R(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return X(this._path)?null:Km(this._path)}get ref(){return new lr(this._repo,this._path)}get _queryIdentifier(){const e=C_(this._queryParams),n=Wm(e);return n==="{}"?"default":n}get _queryObject(){return C_(this._queryParams)}isEqual(e){if(e=Ze(e),!(e instanceof No))return!1;const n=this._repo===e._repo,r=qm(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+o2(this._path)}}function yU(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Eg(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===js){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Ks)throw new Error(r);if(typeof e!="string")throw new Error(s)}if(t.hasEnd()){if(t.getIndexEndName()!==os)throw new Error(r);if(typeof n!="string")throw new Error(s)}}else if(t.getIndex()===Se){if(e!=null&&!ap(e)||n!=null&&!ap(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(R(t.getIndex()instanceof Xm||t.getIndex()===SC,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function lS(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class lr extends No{constructor(e,n){super(e,n,new Zm,!1)}get parent(){const e=yC(this._path);return e===null?null:new lr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ya{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ue(e),r=Xa(this.ref,e);return new Ya(this._node.getChild(n),r,Se)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Ya(s,Xa(this.ref,r),Se)))}hasChild(e){const n=new ue(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ae(t,e){return t=Ze(t),t._checkNotDeleted("ref"),e!==void 0?Xa(t._root,e):t._root}function Xa(t,e){return t=Ze(t),Y(t._path)===null?qF("child","path",e):vg("child","path",e),new lr(t._repo,Pe(t._path,e))}function _U(t,e){t=Ze(t),ZC("push",t._path),wl("push",e,t._path,!0);const n=nS(t._repo),r=mU(n),s=Xa(t,r),i=Xa(t,r);let o;return e!=null?o=cS(i,e).then(()=>i):o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function cS(t,e){t=Ze(t),ZC("set",t._path),wl("set",e,t._path,!1);const n=new ll;return sU(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function qn(t,e){KF("update",e,t._path);const n=new ll;return iU(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function $_(t){t=Ze(t);const e=new aS(()=>{}),n=new _d(e);return rU(t._repo,t,n).then(r=>new Ya(r,new lr(t._repo,t._path),t._queryParams.getIndex()))}class _d{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new gU("value",this,new Ya(e.snapshotNode,new lr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new vU(this,e,n):null}matches(e){return e instanceof _d?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function wU(t,e,n,r,s){const i=new aS(n,void 0),o=new _d(i);return aU(t._repo,t,o),()=>lU(t._repo,t,o)}function us(t,e,n,r){return wU(t,"value",e)}class wd{}class xU extends wd{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){wl("endAt",this._value,e._path,!0);const n=P2(e._queryParams,this._value,this._key);if(lS(n),Eg(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new No(e._repo,e._path,n,e._orderByCalled)}}class EU extends wd{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){wl("startAt",this._value,e._path,!0);const n=k2(e._queryParams,this._value,this._key);if(lS(n),Eg(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new No(e._repo,e._path,n,e._orderByCalled)}}class bU extends wd{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){yU(e,"orderByChild");const n=new ue(this._path);if(X(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Xm(n),s=R2(e._queryParams,r);return Eg(s),new No(e._repo,e._path,s,!0)}}function CU(t){return vg("orderByChild","path",t),new bU(t)}class SU extends wd{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(wl("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new xU(this._value,this._key)._apply(new EU(this._value,this._key)._apply(e))}}function TU(t,e){return new SU(t,e)}function IU(t,...e){let n=Ze(t);for(const r of e)n=r._apply(n);return n}_F(lr);CF(lr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="FIREBASE_DATABASE_EMULATOR_HOST",cp={};let kU=!1;function PU(t,e,n,r){t.repoInfo_=new cC(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function RU(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||rr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qe("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=F_(i,s),a=o.repoInfo,l;typeof process<"u"&&o_&&(l=o_[NU]),l?(i=`http://${l}?ns=${a.namespace}`,o=F_(i,s),a=o.repoInfo):o.repoInfo.secure;const c=new Dj(t.name,t.options,e);QF("Invalid Firebase Database URL",o),X(o.path)||rr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=OU(a,t,c,new Oj(t.name,n));return new DU(d,t)}function AU(t,e){const n=cp[e];(!n||n[t.key]!==t)&&rr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),cU(t),delete n[t.key]}function OU(t,e,n,r){let s=cp[e.name];s||(s={},cp[e.name]=s);let i=s[t.toURLString()];return i&&rr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new eU(t,kU,n,r),s[t.toURLString()]=i,i}class DU{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lr(this._repo,ae())),this._rootInternal}_delete(){return this._rootInternal!==null&&(AU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&rr("Cannot call "+e+" on a deleted database.")}}function MU(t=fb(),e){const n=Om(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=kO("database");r&&LU(n,...r)}return n}function LU(t,e,n,r={}){t=Ze(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&rr("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&rr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new bc(bc.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:PO(r.mockUserToken,t.app.options.projectId);i=new bc(o)}PU(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t){vj(bo),ao(new Vs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return RU(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Xr(a_,l_,t),Xr(a_,l_,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU={".sv":"timestamp"};function UU(){return FU}Kn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Kn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};jU();var $U="firebase",zU="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr($U,zU,"app");const BU={apiKey:"AIzaSyCyoPdqI5Xnxt7i5K0x4BlIcz2AqlUdYWQ",authDomain:"bonteer.firebaseapp.com",databaseURL:"https://bonteer-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"bonteer",storageBucket:"bonteer.firebasestorage.app",messagingSenderId:"461570091756",appId:"1:461570091756:web:a96236965920cb55ed53c9"};let Jl,Ee,Pr;try{console.log("Initializing Firebase with new configuration..."),Jl=db(BU),console.log("Firebase initialized successfully"),Ee=MU(Jl),Pr=mj(Jl),console.log("Database reference created:",Ee?"Success":"Failed"),console.log("Auth reference created:",Pr?"Success":"Failed")}catch(t){console.error("Error initializing Firebase:",t),Jl={},Ee={},Pr={}}const uS=m.createContext(void 0);function WU({children:t}){const[e,n]=m.useState(null),[r,s]=m.useState(!0),[i,o]=m.useState(!1),[a,l]=m.useState({weeklyPrice:299,monthlyPrice:999});m.useEffect(()=>{const x=new URLSearchParams(window.location.search).get("ref");x&&localStorage.setItem("referralCode",x)},[]),m.useEffect(()=>{const g=Ae(Ee,"settings");us(g,x=>{x.exists()&&l(x.val())})},[]),m.useEffect(()=>{const g=rL(Pr,async x=>{if(x)try{console.log("Auth user detected:",x.uid);const v=Ae(Ee,`users/${x.uid}`),y=us(v,w=>{if(w.exists()){const E=w.val(),b={...E,id:x.uid};if(console.log("User data retrieved:",b),n(b),E.subscription){const C=new Date(E.subscription.endDate),S=C>new Date&&E.subscription.active;console.log("Subscription status:",S,"End date:",C),o(S),S&&window.location.pathname==="/subscription"&&(window.location.href="/dashboard")}else o(!1)}else console.log("No user data found for:",x.uid);s(!1)});return()=>y()}catch(v){console.error("Error fetching user data:",v),s(!1)}else console.log("No auth user detected, signed out"),n(null),o(!1),s(!1)});return()=>g()},[]);const c=async(g,x)=>{s(!0);try{if(g==="admin11@teer.com"&&x==="adminteer")return localStorage.setItem("adminEmail",g),he.success("Admin login successful!"),{redirectTo:"/admin"};console.log("Attempting login with:",g);const v=await eL(Pr,g,x);console.log("Login successful, user:",v.user);const y=Ae(Ee,`users/${v.user.uid}`),w=await $_(y);if(w.exists()){const E=w.val();return E.subscription&&E.subscription.active&&new Date(E.subscription.endDate)>new Date?(console.log("User has active subscription, redirecting to dashboard"),{redirectTo:"/dashboard"}):(console.log("User has no active subscription, redirecting to subscription page"),{redirectTo:"/subscription"})}return{redirectTo:"/subscription"}}catch(v){console.error("Login failed:",v);let y="Login failed. Please check your credentials.";throw v.code==="auth/user-not-found"?y="No account found with this email address":v.code==="auth/wrong-password"?y="Incorrect password, please try again":v.code==="auth/invalid-email"?y="Invalid email format":v.code==="auth/user-disabled"?y="This account has been disabled":v.code==="auth/invalid-credential"?y="Invalid login credentials, please check email and password":v.message&&(y=v.message),he.error(y),v}finally{s(!1)}},d=async(g,x,v,y)=>{s(!0);try{console.log("Attempting to register with:",{name:g,email:x,referralCode:y});const E=(await ZM(Pr,x,v)).user.uid;console.log("User created in Auth with UID:",E);const b=localStorage.getItem("referralCode")||y,C=g.split(" ")[0].toLowerCase()+E.substring(0,6),S={id:E,name:g,email:x,referralCode:C,subscription:{type:"weekly",startDate:new Date().toISOString(),endDate:new Date(Date.now()+7*24*60*60*1e3).toISOString(),active:!1},registeredAt:new Date().toISOString(),referee:b||null};if(console.log("Saving user data to database:",S),await cS(Ae(Ee,`users/${E}`),S),console.log("User data saved successfully"),b)try{const T=IU(Ae(Ee,"users"),CU("referralCode"),TU(b)),A=await $_(T);if(A.exists()){const D=Object.entries(A.val())[0],z=D[0],H=D[1].referrals||0;await qn(Ae(Ee,`users/${z}`),{referrals:H+1})}}catch(T){console.error("Error updating referrer data:",T)}localStorage.removeItem("referralCode"),he.success("Registration successful!")}catch(w){console.error("Registration failed:",w);let E="Registration failed. Please try again.";throw w.code==="auth/email-already-in-use"?E="Email is already in use":w.code==="auth/invalid-email"?E="Invalid email address":w.code==="auth/weak-password"?E="Password should be at least 6 characters":w.code==="auth/operation-not-allowed"?E="Email/password sign-up is not enabled. Please enable it in the Firebase console.":w.message&&(E=w.message),he.error(E),w}finally{s(!1)}},u=async()=>{try{await sL(Pr),console.log("User logged out successfully")}catch(g){console.error("Logout failed:",g)}},h=async g=>{try{await JM(Pr,g),he.success("Password reset email sent. Please check your inbox.")}catch(x){console.error("Password reset failed:",x);let v="Failed to send password reset email. Please try again.";throw x.code==="auth/user-not-found"?v="No account found with this email":x.code==="auth/invalid-email"?v="Invalid email format":x.message&&(v=x.message),he.error(v),x}},p=()=>!e||!e.referralCode?window.location.origin:`${window.location.origin}/register?ref=${e.referralCode}`,_=async g=>{if(!e){console.error("Cannot subscribe: No user logged in");return}const x=new Date,v=new Date;g==="weekly"?v.setDate(v.getDate()+7):v.setMonth(v.getMonth()+1);const y={type:g,startDate:x.toISOString(),endDate:v.toISOString(),active:!1};try{console.log("Updating subscription for user:",e.id,"to:",y),await qn(Ae(Ee,`users/${e.id}`),{subscription:y}),n({...e,subscription:y}),console.log("Subscription updated but not activated - waiting for admin approval")}catch(w){console.error("Failed to update subscription:",w),he.error("Failed to update subscription. Please try again.")}};return f.jsx(uS.Provider,{value:{user:e,isLoading:r,login:c,register:d,logout:u,forgotPassword:h,subscribeUser:_,hasActiveSubscription:i,generateReferralLink:p},children:t})}function cr(){const t=m.useContext(uS);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const VU=ol("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Re=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?a1:"button";return f.jsx(o,{className:ne(VU({variant:e,size:n,className:t})),ref:i,...s})});Re.displayName="Button";function HU(){const{user:t,logout:e}=cr(),n=gs(),r=ir(),s=n.pathname==="/",i=n.pathname.startsWith("/admin");return f.jsx("nav",{className:"bg-teer-blue text-white shadow-md",children:f.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[!s&&f.jsx(Re,{variant:"ghost",size:"icon",className:"text-white mr-1",onClick:()=>r(-1),children:f.jsx(X1,{className:"h-5 w-5"})}),f.jsx($n,{to:"/",className:"text-xl md:text-2xl font-bold",children:i?"Admin Panel":"Shillong Teer Calculator"})]}),f.jsx("div",{className:"flex items-center space-x-4",children:t?f.jsxs(f.Fragment,{children:[f.jsxs("span",{className:"hidden md:inline text-sm",children:["Welcome, ",t.name]}),!i&&f.jsx($n,{to:"/referral",children:f.jsxs(Re,{variant:"ghost",size:"sm",className:"text-white bg-transparent",children:[f.jsx(ik,{className:"h-4 w-4 mr-1"}),"Refer"]})}),f.jsx(Re,{variant:"outline",size:"sm",className:"border-white text-white bg-transparent",onClick:e,children:"Logout"})]}):f.jsxs(f.Fragment,{children:[f.jsx($n,{to:"/login",children:f.jsx(Re,{variant:"outline",size:"sm",className:"border-white text-white bg-transparent",children:"Login"})}),f.jsx($n,{to:"/register",children:f.jsx(Re,{variant:"outline",size:"sm",className:"border-white text-white bg-transparent",children:"Register"})})]})})]})})}const GU=ol("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),dS=m.forwardRef(({className:t,variant:e,...n},r)=>f.jsx("div",{ref:r,role:"alert",className:ne(GU({variant:e}),t),...n}));dS.displayName="Alert";const KU=m.forwardRef(({className:t,...e},n)=>f.jsx("h5",{ref:n,className:ne("mb-1 font-medium leading-none tracking-tight",t),...e}));KU.displayName="AlertTitle";const fS=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ne("text-sm [&_p]:leading-relaxed",t),...e}));fS.displayName="AlertDescription";function Zl({children:t,requireSubscription:e=!0}){var a;const{user:n,isLoading:r,hasActiveSubscription:s}=cr(),[i,o]=m.useState(0);return m.useEffect(()=>{var l;if((l=n==null?void 0:n.subscription)!=null&&l.endDate){const c=new Date(n.subscription.endDate),d=new Date,u=c.getTime()-d.getTime(),h=Math.ceil(u/(1e3*3600*24));o(h>0?h:0)}},[n]),r?f.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teer-blue"})}):n?e&&!s?f.jsx(Iy,{to:"/subscription",replace:!0}):f.jsxs(f.Fragment,{children:[s&&f.jsxs(dS,{className:"bg-teer-blue/10 border-teer-blue mb-4",children:[f.jsx(J1,{className:"h-4 w-4 text-teer-blue"}),f.jsxs(fS,{className:"text-teer-blue",children:["Your ",(a=n==null?void 0:n.subscription)==null?void 0:a.type," subscription has ",i," days remaining."]})]}),t]}):f.jsx(Iy,{to:"/login",replace:!0})}const qU=()=>{const{user:t,hasActiveSubscription:e}=cr(),n=ir();return m.useEffect(()=>{t&&n(e?"/dashboard":"/subscription")},[t,e,n]),f.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-white to-gray-100",children:[f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-teer-blue mb-6",children:"Shillong Teer Calculator"}),f.jsx("p",{className:"text-xl text-gray-700 max-w-2xl mb-8",children:"Get accurate predictions for Shillong Teer with our advanced calculator. Join now for SR H/E and S/R 4 Guti Number predictions."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-12",children:[f.jsx(Re,{size:"lg",className:"bg-teer-blue hover:bg-teer-blue/90 text-white px-8",onClick:()=>n("/register"),children:"Get Started"}),f.jsx(Re,{size:"lg",variant:"outline",className:"border-teer-blue text-teer-blue hover:bg-teer-blue/10",onClick:()=>n("/login"),children:"Login"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl",children:[f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200 cursor-pointer",onClick:()=>n("/sr-he"),children:[f.jsx("div",{className:"h-12 w-12 bg-teer-blue/10 rounded-full flex items-center justify-center mb-4 mx-auto",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-teer-blue",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),f.jsx("h3",{className:"text-xl font-semibold mb-2 text-center",children:"SR H/E Predictions"}),f.jsx("p",{className:"text-gray-600 text-center",children:"Get reliable head and even predictions for Shillong teer results."})]}),f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200",children:[f.jsx("div",{className:"h-12 w-12 bg-teer-green/10 rounded-full flex items-center justify-center mb-4 mx-auto",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-teer-green",children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("line",{x1:"9",y1:"3",x2:"9",y2:"21"}),f.jsx("line",{x1:"15",y1:"3",x2:"15",y2:"21"}),f.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9"}),f.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15"})]})}),f.jsx("h3",{className:"text-xl font-semibold mb-2 text-center",children:"4 Guti Numbers"}),f.jsx("p",{className:"text-gray-600 text-center",children:"Access our exclusive 4 Guti number predictions daily."})]}),f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border border-gray-200",children:[f.jsx("div",{className:"h-12 w-12 bg-teer-gold/10 rounded-full flex items-center justify-center mb-4 mx-auto",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-teer-gold",children:[f.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),f.jsx("path",{d:"M2 17l10 5 10-5"}),f.jsx("path",{d:"M2 12l10 5 10-5"})]})}),f.jsx("h3",{className:"text-xl font-semibold mb-2 text-center",children:"F/R H/E"}),f.jsx("p",{className:"text-gray-600 text-center",children:"Coming soon! Get early access to our new prediction feature."})]})]})]}),f.jsx("footer",{className:"bg-teer-dark text-white py-4 text-center",children:f.jsxs("p",{className:"text-sm",children:["© ",new Date().getFullYear()," Shillong Teer Calculator. All rights reserved."]})})]})},QU=()=>{const t=gs();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:f.jsxs("div",{className:"text-center bg-white p-8 rounded-lg shadow-md max-w-md",children:[f.jsx("h1",{className:"text-5xl font-bold text-teer-blue mb-4",children:"404"}),f.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Oops! Page not found"}),f.jsx("p",{className:"mb-6 text-gray-500",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),f.jsx($n,{to:"/",children:f.jsx(Re,{className:"bg-teer-blue hover:bg-teer-blue/90",children:"Return to Home"})})]})})},Qe=m.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Qe.displayName="Input";const ft=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ft.displayName="Card";const zt=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ne("flex flex-col space-y-1.5 p-6",t),...e}));zt.displayName="CardHeader";const Bt=m.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:ne("text-2xl font-semibold leading-none tracking-tight",t),...e}));Bt.displayName="CardTitle";const ko=m.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:ne("text-sm text-muted-foreground",t),...e}));ko.displayName="CardDescription";const Et=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ne("p-6 pt-0",t),...e}));Et.displayName="CardContent";const El=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:ne("flex items-center p-6 pt-0",t),...e}));El.displayName="CardFooter";var Tf="focusScope.autoFocusOnMount",If="focusScope.autoFocusOnUnmount",z_={bubbles:!1,cancelable:!0},YU="FocusScope",hS=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),c=At(s),d=At(i),u=m.useRef(null),h=at(e,g=>l(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(w){if(p.paused||!a)return;const E=w.target;a.contains(E)?u.current=E:xr(u.current,{select:!0})},x=function(w){if(p.paused||!a)return;const E=w.relatedTarget;E!==null&&(a.contains(E)||xr(u.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const b of w)b.removedNodes.length>0&&xr(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const y=new MutationObserver(v);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),y.disconnect()}}},[r,a,p.paused]),m.useEffect(()=>{if(a){W_.add(p);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(Tf,z_);a.addEventListener(Tf,c),a.dispatchEvent(v),v.defaultPrevented||(XU(n4(pS(a)),{select:!0}),document.activeElement===g&&xr(a))}return()=>{a.removeEventListener(Tf,c),setTimeout(()=>{const v=new CustomEvent(If,z_);a.addEventListener(If,d),a.dispatchEvent(v),v.defaultPrevented||xr(g??document.body,{select:!0}),a.removeEventListener(If,d),W_.remove(p)},0)}}},[a,c,d,p]);const _=m.useCallback(g=>{if(!n&&!r||p.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(x&&v){const y=g.currentTarget,[w,E]=JU(y);w&&E?!g.shiftKey&&v===E?(g.preventDefault(),n&&xr(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),n&&xr(E,{select:!0})):v===y&&g.preventDefault()}},[n,r,p.paused]);return f.jsx(pe.div,{tabIndex:-1,...o,ref:h,onKeyDown:_})});hS.displayName=YU;function XU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(xr(r,{select:e}),document.activeElement!==n)return}function JU(t){const e=pS(t),n=B_(e,t),r=B_(e.reverse(),t);return[n,r]}function pS(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function B_(t,e){for(const n of t)if(!ZU(n,{upTo:e}))return n}function ZU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function e4(t){return t instanceof HTMLInputElement&&"select"in t}function xr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&e4(t)&&e&&t.select()}}var W_=t4();function t4(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=V_(t,e),t.unshift(e)},remove(e){var n;t=V_(t,e),(n=t[0])==null||n.resume()}}}function V_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function n4(t){return t.filter(e=>e.tagName!=="A")}var Nf=0;function r4(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??H_()),document.body.insertAdjacentElement("beforeend",t[1]??H_()),Nf++,()=>{Nf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Nf--}},[])}function H_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Cc="right-scroll-bar-position",Sc="width-before-scroll-bar",s4="with-scroll-bars-hidden",i4="--removed-body-scroll-bar-size";function kf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function o4(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var a4=typeof window<"u"?m.useLayoutEffect:m.useEffect,G_=new WeakMap;function l4(t,e){var n=o4(null,function(r){return t.forEach(function(s){return kf(s,r)})});return a4(function(){var r=G_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||kf(a,null)}),i.forEach(function(a){s.has(a)||kf(a,o)})}G_.set(n,t)},[t]),n}function c4(t){return t}function u4(t,e){e===void 0&&(e=c4);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function d4(t){t===void 0&&(t={});var e=u4(null);return e.options=En({async:!0,ssr:!1},t),e}var mS=function(t){var e=t.sideCar,n=ul(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,En({},n))};mS.isSideCarExport=!0;function f4(t,e){return t.useMedium(e),mS}var gS=d4(),Pf=function(){},xd=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:Pf,onWheelCapture:Pf,onTouchMoveCapture:Pf}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,u=t.shards,h=t.sideCar,p=t.noIsolation,_=t.inert,g=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,y=t.gapMode,w=ul(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,b=l4([n,e]),C=En(En({},w),s);return m.createElement(m.Fragment,null,d&&m.createElement(E,{sideCar:gS,removeScrollBar:c,shards:u,noIsolation:p,inert:_,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(a),En(En({},C),{ref:b})):m.createElement(v,En({},C,{className:l,ref:b}),a))});xd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xd.classNames={fullWidth:Sc,zeroRight:Cc};var h4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function p4(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=h4();return e&&t.setAttribute("nonce",e),t}function m4(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function g4(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var v4=function(){var t=0,e=null;return{add:function(n){t==0&&(e=p4())&&(m4(e,n),g4(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},y4=function(){var t=v4();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},vS=function(){var t=y4(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},_4={left:0,top:0,right:0,gap:0},Rf=function(t){return parseInt(t||"",10)||0},w4=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Rf(n),Rf(r),Rf(s)]},x4=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _4;var e=w4(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},E4=vS(),zi="data-scroll-locked",b4=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(s4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(zi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cc," .").concat(Cc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zi,`] {
    `).concat(i4,": ").concat(a,`px;
  }
`)},K_=function(){var t=parseInt(document.body.getAttribute(zi)||"0",10);return isFinite(t)?t:0},C4=function(){m.useEffect(function(){return document.body.setAttribute(zi,(K_()+1).toString()),function(){var t=K_()-1;t<=0?document.body.removeAttribute(zi):document.body.setAttribute(zi,t.toString())}},[])},S4=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;C4();var i=m.useMemo(function(){return x4(s)},[s]);return m.createElement(E4,{styles:b4(i,!e,s,n?"":"!important")})},up=!1;if(typeof window<"u")try{var ec=Object.defineProperty({},"passive",{get:function(){return up=!0,!0}});window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{up=!1}var fi=up?{passive:!1}:!1,T4=function(t){return t.tagName==="TEXTAREA"},yS=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!T4(t)&&n[e]==="visible")},I4=function(t){return yS(t,"overflowY")},N4=function(t){return yS(t,"overflowX")},q_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=_S(t,r);if(s){var i=wS(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},k4=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},P4=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},_S=function(t,e){return t==="v"?I4(e):N4(e)},wS=function(t,e){return t==="v"?k4(e):P4(e)},R4=function(t,e){return t==="h"&&e==="rtl"?-1:1},A4=function(t,e,n,r,s){var i=R4(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,u=0,h=0;do{var p=wS(t,a),_=p[0],g=p[1],x=p[2],v=g-x-i*_;(_||v)&&_S(t,a)&&(u+=v,h+=_),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&Math.abs(u)<1||!d&&Math.abs(h)<1)&&(c=!0),c},tc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Q_=function(t){return[t.deltaX,t.deltaY]},Y_=function(t){return t&&"current"in t?t.current:t},O4=function(t,e){return t[0]===e[0]&&t[1]===e[1]},D4=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},M4=0,hi=[];function L4(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(M4++)[0],i=m.useState(vS)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=eM([t.lockRef.current],(t.shards||[]).map(Y_),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=tc(g),y=n.current,w="deltaX"in g?g.deltaX:y[0]-v[0],E="deltaY"in g?g.deltaY:y[1]-v[1],b,C=g.target,S=Math.abs(w)>Math.abs(E)?"h":"v";if("touches"in g&&S==="h"&&C.type==="range")return!1;var T=q_(S,C);if(!T)return!0;if(T?b=S:(b=S==="v"?"h":"v",T=q_(S,C)),!T)return!1;if(!r.current&&"changedTouches"in g&&(w||E)&&(r.current=b),!b)return!0;var A=r.current||b;return A4(A,x,g,A==="h"?w:E)},[]),l=m.useCallback(function(g){var x=g;if(!(!hi.length||hi[hi.length-1]!==i)){var v="deltaY"in x?Q_(x):tc(x),y=e.current.filter(function(b){return b.name===x.type&&(b.target===x.target||x.target===b.shadowParent)&&O4(b.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(Y_).filter(Boolean).filter(function(b){return b.contains(x.target)}),E=w.length>0?a(x,w[0]):!o.current.noIsolation;E&&x.cancelable&&x.preventDefault()}}},[]),c=m.useCallback(function(g,x,v,y){var w={name:g,delta:x,target:v,should:y,shadowParent:j4(v)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(E){return E!==w})},1)},[]),d=m.useCallback(function(g){n.current=tc(g),r.current=void 0},[]),u=m.useCallback(function(g){c(g.type,Q_(g),g.target,a(g,t.lockRef.current))},[]),h=m.useCallback(function(g){c(g.type,tc(g),g.target,a(g,t.lockRef.current))},[]);m.useEffect(function(){return hi.push(i),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,fi),document.addEventListener("touchmove",l,fi),document.addEventListener("touchstart",d,fi),function(){hi=hi.filter(function(g){return g!==i}),document.removeEventListener("wheel",l,fi),document.removeEventListener("touchmove",l,fi),document.removeEventListener("touchstart",d,fi)}},[]);var p=t.removeScrollBar,_=t.inert;return m.createElement(m.Fragment,null,_?m.createElement(i,{styles:D4(s)}):null,p?m.createElement(S4,{gapMode:t.gapMode}):null)}function j4(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const F4=f4(gS,L4);var xS=m.forwardRef(function(t,e){return m.createElement(xd,En({},t,{ref:e,sideCar:F4}))});xS.classNames=xd.classNames;var U4=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},pi=new WeakMap,nc=new WeakMap,rc={},Af=0,ES=function(t){return t&&(t.host||ES(t.parentNode))},$4=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=ES(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},z4=function(t,e,n,r){var s=$4(e,Array.isArray(t)?t:[t]);rc[n]||(rc[n]=new WeakMap);var i=rc[n],o=[],a=new Set,l=new Set(s),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};s.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(h){if(a.has(h))d(h);else try{var p=h.getAttribute(r),_=p!==null&&p!=="false",g=(pi.get(h)||0)+1,x=(i.get(h)||0)+1;pi.set(h,g),i.set(h,x),o.push(h),g===1&&_&&nc.set(h,!0),x===1&&h.setAttribute(n,"true"),_||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(e),a.clear(),Af++,function(){o.forEach(function(u){var h=pi.get(u)-1,p=i.get(u)-1;pi.set(u,h),i.set(u,p),h||(nc.has(u)||u.removeAttribute(r),nc.delete(u)),p||u.removeAttribute(n)}),Af--,Af||(pi=new WeakMap,pi=new WeakMap,nc=new WeakMap,rc={})}},B4=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=U4(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),z4(r,s,n,"aria-hidden")):function(){return null}},bg="Dialog",[bS,X3]=ei(bg),[W4,pn]=bS(bg),CS=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[c=!1,d]=Gu({prop:r,defaultProp:s,onChange:i});return f.jsx(W4,{scope:e,triggerRef:a,contentRef:l,contentId:la(),titleId:la(),descriptionId:la(),open:c,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(u=>!u),[d]),modal:o,children:n})};CS.displayName=bg;var SS="DialogTrigger",TS=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pn(SS,n),i=at(e,s.triggerRef);return f.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Tg(s.open),...r,ref:i,onClick:se(t.onClick,s.onOpenToggle)})});TS.displayName=SS;var Cg="DialogPortal",[V4,IS]=bS(Cg,{forceMount:void 0}),NS=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=pn(Cg,e);return f.jsx(V4,{scope:e,forceMount:n,children:m.Children.map(r,o=>f.jsx(ti,{present:n||i.open,children:f.jsx(lm,{asChild:!0,container:s,children:o})}))})};NS.displayName=Cg;var Nu="DialogOverlay",kS=m.forwardRef((t,e)=>{const n=IS(Nu,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=pn(Nu,t.__scopeDialog);return i.modal?f.jsx(ti,{present:r||i.open,children:f.jsx(G4,{...s,ref:e})}):null});kS.displayName=Nu;var H4=Aa("DialogOverlay.RemoveScroll"),G4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pn(Nu,n);return f.jsx(xS,{as:H4,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(pe.div,{"data-state":Tg(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ys="DialogContent",PS=m.forwardRef((t,e)=>{const n=IS(Ys,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=pn(Ys,t.__scopeDialog);return f.jsx(ti,{present:r||i.open,children:i.modal?f.jsx(K4,{...s,ref:e}):f.jsx(q4,{...s,ref:e})})});PS.displayName=Ys;var K4=m.forwardRef((t,e)=>{const n=pn(Ys,t.__scopeDialog),r=m.useRef(null),s=at(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return B4(i)},[]),f.jsx(RS,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:se(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:se(t.onFocusOutside,i=>i.preventDefault())})}),q4=m.forwardRef((t,e)=>{const n=pn(Ys,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return f.jsx(RS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),RS=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=pn(Ys,n),l=m.useRef(null),c=at(e,l);return r4(),f.jsxs(f.Fragment,{children:[f.jsx(hS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(Hu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Tg(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(Q4,{titleId:a.titleId}),f.jsx(X4,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Sg="DialogTitle",AS=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pn(Sg,n);return f.jsx(pe.h2,{id:s.titleId,...r,ref:e})});AS.displayName=Sg;var OS="DialogDescription",DS=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pn(OS,n);return f.jsx(pe.p,{id:s.descriptionId,...r,ref:e})});DS.displayName=OS;var MS="DialogClose",LS=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=pn(MS,n);return f.jsx(pe.button,{type:"button",...r,ref:e,onClick:se(t.onClick,()=>s.onOpenChange(!1))})});LS.displayName=MS;function Tg(t){return t?"open":"closed"}var jS="DialogTitleWarning",[J3,FS]=i1(jS,{contentName:Ys,titleName:Sg,docsSlug:"dialog"}),Q4=({titleId:t})=>{const e=FS(jS),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Y4="DialogDescriptionWarning",X4=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${FS(Y4).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},J4=CS,Z4=TS,e3=NS,US=kS,$S=PS,zS=AS,BS=DS,t3=LS;const WS=J4,VS=Z4,n3=e3,HS=m.forwardRef(({className:t,...e},n)=>f.jsx(US,{ref:n,className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));HS.displayName=US.displayName;const Ig=m.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(n3,{children:[f.jsx(HS,{}),f.jsxs($S,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(t3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(Xx,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ig.displayName=$S.displayName;const Ng=({className:t,...e})=>f.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ng.displayName="DialogHeader";const GS=({className:t,...e})=>f.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});GS.displayName="DialogFooter";const kg=m.forwardRef(({className:t,...e},n)=>f.jsx(zS,{ref:n,className:ne("text-lg font-semibold leading-none tracking-tight",t),...e}));kg.displayName=zS.displayName;const KS=m.forwardRef(({className:t,...e},n)=>f.jsx(BS,{ref:n,className:ne("text-sm text-muted-foreground",t),...e}));KS.displayName=BS.displayName;function r3(){const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(!1),[o,a]=m.useState(""),[l,c]=m.useState(!1),{login:d,forgotPassword:u}=cr();ir();const h=async _=>{if(_.preventDefault(),!t||!n){he.error("Please enter both email and password");return}i(!0);try{console.log("Attempting login from LoginPage component");const{redirectTo:g}=await d(t,n);he.success("Login successful!"),window.location.href=g}catch(g){console.error("Login error in component:",g),i(!1)}},p=async _=>{if(_.preventDefault(),!o){he.error("Please enter your email address");return}c(!0);try{await u(o)}catch{}finally{c(!1)}};return f.jsxs("div",{className:"container mx-auto px-4 py-8 flex flex-col md:flex-row gap-6 items-center",children:[f.jsx("div",{className:"md:w-1/2 hidden md:block",children:f.jsxs("div",{className:"bg-teer-blue/5 p-6 rounded-lg",children:[f.jsx("h2",{className:"text-2xl font-bold text-teer-blue mb-4",children:"What you're missing"}),f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:"border-8 border-gray-800 rounded-3xl overflow-hidden w-64 mx-auto",children:[f.jsx("div",{className:"bg-gray-800 h-6 flex justify-center items-center",children:f.jsx("div",{className:"w-20 h-2 bg-gray-700 rounded-full"})}),f.jsx("img",{src:"/lovable-uploads/31b82250-6427-454e-8019-63aaf81b0df5.png",alt:"Teer Results",className:"w-full h-auto"}),f.jsx("div",{className:"bg-gray-800 h-6 flex justify-center items-center",children:f.jsx("div",{className:"w-8 h-3 border-2 border-gray-700 rounded-full"})})]}),f.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-4 bg-teer-blue text-white rounded-full p-2",children:f.jsx(rk,{className:"h-5 w-5"})})]}),f.jsxs("div",{className:"mt-8 space-y-4 text-gray-700",children:[f.jsxs("p",{className:"flex items-center",children:[f.jsx("span",{className:"text-teer-blue font-bold mr-2",children:"✓"}),"Daily prediction updates directly on your device"]}),f.jsxs("p",{className:"flex items-center",children:[f.jsx("span",{className:"text-teer-blue font-bold mr-2",children:"✓"}),"Secure access to exclusive 4 Guti numbers"]}),f.jsxs("p",{className:"flex items-center",children:[f.jsx("span",{className:"text-teer-blue font-bold mr-2",children:"✓"}),"Track your historic prediction performance"]})]})]})}),f.jsxs(ft,{className:"w-full md:w-1/2 max-w-md",children:[f.jsxs(zt,{className:"space-y-1",children:[f.jsx(Bt,{className:"text-2xl text-center",children:"Login"}),f.jsx(ko,{className:"text-center",children:"Enter your email and password to access your account"})]}),f.jsx(Et,{children:f.jsxs("form",{onSubmit:h,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),f.jsx(Qe,{id:"email",type:"email",placeholder:"Email",value:t,onChange:_=>e(_.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),f.jsx(Qe,{id:"password",type:"password",placeholder:"Password",value:n,onChange:_=>r(_.target.value),required:!0}),f.jsx("div",{className:"text-right",children:f.jsxs(WS,{children:[f.jsx(VS,{asChild:!0,children:f.jsx("button",{type:"button",className:"text-xs text-teer-blue hover:underline",children:"Forgot Password?"})}),f.jsxs(Ig,{children:[f.jsxs(Ng,{children:[f.jsx(kg,{children:"Reset Password"}),f.jsx(KS,{children:"Enter your email address and we'll send you a link to reset your password."})]}),f.jsxs("form",{onSubmit:p,className:"space-y-4 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"reset-email",className:"text-sm font-medium",children:"Email"}),f.jsx(Qe,{id:"reset-email",type:"email",placeholder:"Email",value:o,onChange:_=>a(_.target.value),required:!0})]}),f.jsx(GS,{children:f.jsx(Re,{type:"submit",className:"w-full bg-teer-blue hover:bg-teer-blue/90",disabled:l,children:l?"Sending...":"Send Reset Link"})})]})]})]})})]}),f.jsx(Re,{type:"submit",className:"w-full bg-teer-blue hover:bg-teer-blue/90",disabled:s,children:s?"Logging in...":"Login"})]})}),f.jsx(El,{className:"flex flex-col space-y-2 items-center",children:f.jsxs("div",{className:"text-sm text-gray-500",children:["Don't have an account?"," ",f.jsx($n,{to:"/register",className:"text-teer-blue hover:underline",children:"Register"})]})})]})]})}function s3(){const[t,e]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState(""),[l,c]=m.useState(""),[d,u]=m.useState(!1),[h,p]=m.useState(""),{register:_}=cr(),g=ir(),x=gs();m.useEffect(()=>{const w=new URLSearchParams(x.search).get("ref");w&&c(w)},[x]),m.useEffect(()=>{s&&s.length<6?p("Password must be at least 6 characters"):p("")},[s]);const v=async y=>{if(y.preventDefault(),!t||!n||!s){he.error("Please fill in all required fields");return}if(s.length<6){he.error("Password must be at least 6 characters");return}if(s!==o){he.error("Passwords do not match");return}u(!0);try{await _(t,n,s,l||void 0),he.success("Registration successful!"),g("/subscription")}catch(w){console.error("Registration failed:",w);let E="Registration failed. Please try again.";w.code==="auth/email-already-in-use"?E="Email is already in use":w.code==="auth/invalid-email"?E="Invalid email address":w.code==="auth/weak-password"?E="Password should be at least 6 characters":w.code==="auth/operation-not-allowed"?E="Email/password sign-up is not enabled. Please contact admin.":w.message&&(E=w.message),he.error(E)}finally{u(!1)}};return f.jsxs("div",{className:"container mx-auto px-4 py-8 flex flex-col md:flex-row gap-6 items-center",children:[f.jsx("div",{className:"md:w-1/2 hidden md:block",children:f.jsxs("div",{className:"bg-teer-blue/5 p-6 rounded-lg",children:[f.jsx("h2",{className:"text-2xl font-bold text-teer-blue mb-4",children:"Features You'll Unlock"}),f.jsxs("div",{className:"mt-8 space-y-4 text-gray-700",children:[f.jsxs("p",{className:"flex items-center",children:[f.jsx("span",{className:"text-teer-green font-bold mr-2",children:"✓"}),"Get exclusive 4 Guti number predictions daily"]}),f.jsxs("p",{className:"flex items-center",children:[f.jsx("span",{className:"text-teer-green font-bold mr-2",children:"✓"}),"Refer friends and earn rewards"]}),f.jsxs("p",{className:"flex items-center",children:[f.jsx("span",{className:"text-teer-green font-bold mr-2",children:"✓"}),"Accurate SR H/E predictions with high win-rate"]})]})]})}),f.jsxs(ft,{className:"w-full md:w-1/2 max-w-md",children:[f.jsxs(zt,{className:"space-y-1",children:[f.jsx(Bt,{className:"text-2xl text-center",children:"Create an Account"}),f.jsx(ko,{className:"text-center",children:"Enter your information to create your account"})]}),f.jsx(Et,{children:f.jsxs("form",{onSubmit:v,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Name"}),f.jsx(Qe,{id:"name",placeholder:"Full Name",value:t,onChange:y=>e(y.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),f.jsx(Qe,{id:"email",type:"email",placeholder:"Email",value:n,onChange:y=>r(y.target.value),required:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),f.jsx(Qe,{id:"password",type:"password",placeholder:"Password (min 6 characters)",value:s,onChange:y=>i(y.target.value),className:h?"border-red-500":"",required:!0}),h&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:h})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:"confirm-password",className:"text-sm font-medium",children:"Confirm Password"}),f.jsx(Qe,{id:"confirm-password",type:"password",placeholder:"Confirm Password",value:o,onChange:y=>a(y.target.value),className:s!==o&&o?"border-red-500":"",required:!0}),s!==o&&o&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Passwords do not match"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("label",{htmlFor:"referral",className:"text-sm font-medium",children:["Referral Code ",l?"(Applied)":"(Optional)"]}),f.jsx(Qe,{id:"referral",placeholder:"Referral Code",value:l,onChange:y=>c(y.target.value),className:l?"border-teer-green":""})]}),f.jsx(Re,{type:"submit",className:"w-full bg-teer-blue hover:bg-teer-blue/90",disabled:d,children:d?"Creating Account...":"Register"})]})}),f.jsx(El,{className:"flex flex-col space-y-2 items-center",children:f.jsxs("div",{className:"text-sm text-gray-500",children:["Already have an account?"," ",f.jsx($n,{to:"/login",className:"text-teer-blue hover:underline",children:"Login"})]})})]})]})}function X_({type:t,price:e,features:n,onSelect:r}){const{subscribeUser:s}=cr(),[i,o]=m.useState(!1),a=ir(),l=()=>{if(r){r();return}o(!0),setTimeout(()=>{s(t),he.success(`Successfully subscribed to ${t} plan!`),o(!1),a("/dashboard")},1500)};return f.jsxs(ft,{className:"w-full max-w-sm border-2 hover:border-teer-blue transition-all duration-300 hover:shadow-lg",children:[f.jsxs(zt,{children:[f.jsxs(Bt,{className:"text-center text-2xl",children:[t==="weekly"?"Weekly":"Monthly"," Plan"]}),f.jsx(ko,{className:"text-center text-3xl font-bold text-teer-blue py-2",children:e})]}),f.jsx(Et,{children:f.jsx("ul",{className:"space-y-2",children:n.map((c,d)=>f.jsxs("li",{className:"flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 mr-2 text-teer-green",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})}),c]},d))})}),f.jsx(El,{children:f.jsx(Re,{className:"w-full bg-teer-green hover:bg-teer-green/90 text-white",onClick:l,disabled:i,children:i?"Processing...":"Subscribe Now"})})]})}function i3({amount:t,onPaymentComplete:e}){const[n,r]=m.useState(""),[s,i]=m.useState(!1),o="tecmania@ybl",{user:a}=cr(),c=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent((()=>{const u=encodeURIComponent("Teer Calculator");return`upi://pay?pa=${o}&pn=${u}&am=${t}&cu=INR`})())}`,d=async u=>{if(u.preventDefault(),!n.trim()){he.error("Please enter UTR number");return}i(!0);try{console.log("Recording payment with UTR:",n);const h={userId:a==null?void 0:a.id,userName:a==null?void 0:a.name,userEmail:a==null?void 0:a.email,amount:t,utrNumber:n,status:"pending",timestamp:UU()};await _U(Ae(Ee,"payments"),h),console.log("Payment recorded successfully"),he.success("Payment recorded. It will be verified by admin shortly."),i(!1),e()}catch(h){console.error("Error recording payment:",h),he.error("Failed to process payment. Please try again."),i(!1)}};return f.jsxs(ft,{className:"w-full",children:[f.jsxs(zt,{children:[f.jsxs(Bt,{className:"text-center",children:["Payment of ₹",t]}),f.jsx(ko,{className:"text-center",children:"Scan the QR code or use UPI ID to make payment"})]}),f.jsxs(Et,{className:"space-y-4",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"w-48 h-48 bg-white flex items-center justify-center mb-2 rounded-lg border-2 border-gray-300 overflow-hidden",children:f.jsx("img",{src:c,alt:"UPI Payment QR Code",className:"h-full w-full object-contain"})}),f.jsxs("div",{className:"text-center font-medium text-teer-blue mt-2",children:["UPI ID: ",o]})]}),f.jsx("div",{className:"rounded-md bg-yellow-50 p-3 mt-4",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(nk,{className:"h-5 w-5 text-yellow-600"})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Important Note"}),f.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:f.jsx("p",{children:"After payment, your subscription will be activated within 5-10 minutes after admin verification. In some cases, it may take up to 1 hour. Please be patient."})})]})]})}),f.jsxs("form",{onSubmit:d,children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium",children:"Enter UTR/Reference Number"}),f.jsx(Qe,{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"UTR number after payment",required:!0})]}),f.jsx(Re,{type:"submit",className:"w-full mt-4 bg-teer-green hover:bg-teer-green/90",disabled:s,children:s?"Submitting...":"Submit Payment"})]})]}),f.jsx(El,{className:"flex flex-col text-sm text-gray-500",children:f.jsx("p",{children:"Please take a screenshot of the payment for your records."})})]})}function o3(){const[t,e]=m.useState(null),[n,r]=m.useState(""),[s,i]=m.useState(!1),[o,a]=m.useState({weekly:"299",monthly:"999"}),{user:l,hasActiveSubscription:c}=cr();am();const d=ir();m.useEffect(()=>{const g=setInterval(()=>{console.log("Auto-refreshing page to check subscription status"),window.location.reload()},12e4);return()=>clearInterval(g)},[]),m.useEffect(()=>{console.log("SubscriptionPage: Checking if user has active subscription:",c),c&&(console.log("User has active subscription, redirecting to dashboard"),d("/dashboard"))},[c,d]),m.useEffect(()=>{console.log("Fetching subscription prices from Firebase");const g=Ae(Ee,"settings");us(g,x=>{if(x.exists()){const v=x.val();console.log("Settings fetched:",v),a({weekly:v.weeklyPrice.toString(),monthly:v.monthlyPrice.toString()})}else console.log("No settings data found")})},[]);const u=["Access to SR H/E predictions","Access to S/R 4 guti Number predictions","Daily updated results","Result history"],h=["Everything in Weekly plan","Priority updates","Early access to new features","4x better value"],p=g=>{console.log("Selected plan:",g),e(g),r(g==="weekly"?o.weekly:o.monthly),i(!0)},_=()=>{he.info("Your payment is being verified. You will be notified once your subscription is activated by admin."),setTimeout(()=>{window.location.reload()},3e3)};return f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"teer-heading",children:"Choose Your Subscription Plan"}),f.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Select a subscription plan that works for you. Unlock predictions and improve your chances with our tools."})]}),s?f.jsxs("div",{className:"max-w-md mx-auto",children:[f.jsx(i3,{amount:n,onPaymentComplete:_}),f.jsx("button",{onClick:()=>i(!1),className:"mt-4 text-teer-blue hover:underline text-center w-full",children:"Back to plans"})]}):f.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center items-center",children:[f.jsx(X_,{type:"weekly",price:`₹${o.weekly}`,features:u,onSelect:()=>p("weekly")}),f.jsx(ft,{className:"max-w-[100px] py-6 flex items-center justify-center border-0 shadow-none",children:f.jsx("span",{className:"text-xl font-medium text-gray-500",children:"OR"})}),f.jsx(X_,{type:"monthly",price:`₹${o.monthly}`,features:h,onSelect:()=>p("monthly")})]})]})}function a3(){const{user:t}=cr(),[e,n]=m.useState(new Date),[r,s]=m.useState(0);m.useEffect(()=>{var c;const l=setInterval(()=>{n(new Date)},1e3);if((c=t==null?void 0:t.subscription)!=null&&c.endDate){const d=new Date(t.subscription.endDate),u=new Date,h=d.getTime()-u.getTime(),p=Math.ceil(h/(1e3*3600*24));s(p>0?p:0)}return()=>clearInterval(l)},[t]);const i=l=>l.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),o=l=>l.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),a=()=>{const c=new Date().getHours();return c<13?"1:00 PM (First Round)":c<16?"4:00 PM (Second Round)":"1:00 PM Tomorrow (First Round)"};return f.jsx("div",{className:"container mx-auto px-4 py-8",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsx("div",{className:"lg:col-span-3",children:f.jsxs(ft,{children:[f.jsxs(zt,{className:"bg-teer-blue text-white",children:[f.jsxs(Bt,{className:"text-2xl",children:["Welcome, ",t==null?void 0:t.name]}),f.jsxs(ko,{className:"text-gray-200",children:[i(e)," | ",o(e)]})]}),f.jsxs(Et,{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("p",{className:"text-gray-700",children:["Next result expected at: ",f.jsx("span",{className:"font-medium",children:a()})]}),f.jsxs("div",{className:"bg-teer-blue text-white px-4 py-2 rounded-full text-sm font-medium",children:["Subscription: ",r," days left"]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[f.jsx($n,{to:"/sr-he",children:f.jsx(Re,{className:"w-full h-24 text-lg bg-teer-blue hover:bg-teer-blue/90",children:"SR H/E Prediction"})}),f.jsx($n,{to:"/sr-guti",children:f.jsx(Re,{className:"w-full h-24 text-lg bg-teer-green hover:bg-teer-green/90",children:"S/R 4 Guti Number"})}),f.jsxs(Re,{disabled:!0,className:"w-full h-24 text-lg bg-gray-400 cursor-not-allowed",children:["F/R H/E",f.jsx("span",{className:"text-xs block mt-1",children:"Coming Soon"})]})]})]})]})}),f.jsx("div",{className:"lg:col-span-3",children:f.jsxs(ft,{children:[f.jsx(zt,{children:f.jsx(Bt,{children:"Recent Updates"})}),f.jsx(Et,{children:f.jsxs("ul",{className:"space-y-2",children:[f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-teer-green mr-2",children:"•"}),f.jsx("span",{children:"Daily predictions are updated at 12:00 AM"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-teer-green mr-2",children:"•"}),f.jsx("span",{children:"Result tables are updated right after the official announcement"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx("span",{className:"text-teer-gold mr-2",children:"•"}),f.jsx("span",{children:"F/R H/E predictions coming next week - stay tuned!"})]})]})})]})})]})})}const l3="https://myhometo.onrender.com",qS=async()=>{try{return(await(await fetch(`${l3}/results/`)).json()).slice(0,20)}catch(t){return console.error("Error fetching results:",t),[]}},QS=t=>{const e=[];for(let n=0;n<t.length;n++){let r=t[n],s=r.first_round,i=r.second_round,o="XXX",a=null;if(n<t.length-1){let l=t[n+1],c=parseInt(l.first_round[1])||0,d=parseInt(l.second_round[1])||0,u=(c+d)%10,h=parseInt(l.first_round[0])||1,p=parseInt(l.first_round[1])||1,_=(h+p)%10;if(o=`H=${_}, ${(_+1)%10} / E=${u}, ${(u+1)%10}`,!(isNaN(parseInt(s))||isNaN(parseInt(i)))){let g=_==parseInt(s[0])||(_+1)%10==parseInt(s[0])||_==parseInt(i[0])||(_+1)%10==parseInt(i[0]),x=u==parseInt(s[1])||(u+1)%10==parseInt(s[1])||u==parseInt(i[1])||(u+1)%10==parseInt(i[1]);a=g||x}}e.push({date:r.date,firstRound:s,secondRound:i,prediction:o,isCorrect:a})}return e},c3=t=>{const e=t.prediction,n=e.match(/H=(\d+), (\d+)/),r=e.match(/E=(\d+), (\d+)/);if(!n||!r)return{date:t.date,numbers:["--","--","--","--"]};const s=n[1],i=n[2],o=r[1],a=r[2],l=[s+o,s+a,i+o,i+a];return{date:t.date,numbers:l}},Ed=m.forwardRef(({className:t,...e},n)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:n,className:ne("w-full caption-bottom text-sm",t),...e})}));Ed.displayName="Table";const bd=m.forwardRef(({className:t,...e},n)=>f.jsx("thead",{ref:n,className:ne("[&_tr]:border-b",t),...e}));bd.displayName="TableHeader";const Cd=m.forwardRef(({className:t,...e},n)=>f.jsx("tbody",{ref:n,className:ne("[&_tr:last-child]:border-0",t),...e}));Cd.displayName="TableBody";const u3=m.forwardRef(({className:t,...e},n)=>f.jsx("tfoot",{ref:n,className:ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));u3.displayName="TableFooter";const Xs=m.forwardRef(({className:t,...e},n)=>f.jsx("tr",{ref:n,className:ne("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Xs.displayName="TableRow";const Ve=m.forwardRef(({className:t,...e},n)=>f.jsx("th",{ref:n,className:ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ve.displayName="TableHead";const He=m.forwardRef(({className:t,...e},n)=>f.jsx("td",{ref:n,className:ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));He.displayName="TableCell";const d3=m.forwardRef(({className:t,...e},n)=>f.jsx("caption",{ref:n,className:ne("mt-4 text-sm text-muted-foreground",t),...e}));d3.displayName="TableCaption";const Of=768;function f3(){const[t,e]=m.useState(void 0);return m.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Of-1}px)`),r=()=>{e(window.innerWidth<Of)};return n.addEventListener("change",r),e(window.innerWidth<Of),()=>n.removeEventListener("change",r)},[]),!!t}function h3({results:t,isLoading:e}){const n=f3();return e?f.jsx("div",{className:"flex justify-center items-center py-8",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teer-blue"})}):f.jsx("div",{className:"overflow-x-auto -mx-6 px-0 sm:mx-0",children:f.jsxs(Ed,{className:"w-full border-collapse bg-white shadow-md rounded-lg overflow-hidden",children:[f.jsx(bd,{className:"bg-teer-blue",children:f.jsxs(Xs,{children:[f.jsx(Ve,{className:"text-white font-semibold text-center p-1 text-sm sm:text-base md:text-lg",children:"Date"}),f.jsx(Ve,{className:"text-white font-semibold text-center p-1 text-sm sm:text-base md:text-lg",children:"F/R"}),f.jsx(Ve,{className:"text-white font-semibold text-center p-1 text-sm sm:text-base md:text-lg",children:"S/R"}),f.jsx(Ve,{className:"text-white font-semibold text-center p-1 text-sm sm:text-base md:text-lg",children:"Prediction"}),f.jsx(Ve,{className:"text-white font-semibold text-center p-1 text-sm sm:text-base md:text-lg",children:"R/W"})]})}),f.jsx(Cd,{children:t.map((r,s)=>f.jsxs(Xs,{children:[f.jsx(He,{className:"border border-gray-200 text-center p-1 text-sm sm:text-base md:text-lg",children:r.date}),f.jsx(He,{className:"border border-gray-200 text-center p-1 text-sm sm:text-base md:text-lg",children:r.firstRound}),f.jsx(He,{className:"border border-gray-200 text-center p-1 text-sm sm:text-base md:text-lg",children:r.secondRound}),f.jsx(He,{className:"border border-gray-200 text-center p-1 text-sm sm:text-base md:text-lg",children:n?f.jsx("span",{className:"whitespace-normal",children:r.prediction}):f.jsx("span",{children:r.prediction})}),f.jsx(He,{className:`border border-gray-200 text-center p-1 text-sm sm:text-base md:text-lg ${r.isCorrect===!0?"correct":r.isCorrect===!1?"wrong":"pending"}`,children:r.isCorrect===!0?"✓":r.isCorrect===!1?"✗":"⏳"})]},s))})]})})}function p3(){const[t,e]=m.useState([]),[n,r]=m.useState(!0),[s,i]=m.useState(new Date);m.useEffect(()=>{(async()=>{r(!0);const d=await qS(),u=QS(d);e(u),r(!1)})();const c=setInterval(()=>{i(new Date)},1e3);return()=>clearInterval(c)},[]);const o=()=>s.getHours(),a=()=>{const l=o();return l<13?"Result will show after 1 PM":l<16?"Second round result will show after 4 PM":"Today's results are complete"};return f.jsx("div",{className:"container mx-auto px-4 py-8",children:f.jsxs("div",{className:"teer-card",children:[f.jsx("h1",{className:"teer-heading",children:"SR H/E Prediction"}),f.jsx("p",{className:"text-center text-gray-600 mb-4",children:a()}),f.jsx(h3,{results:t,isLoading:n})]})})}function m3({gutiNumber:t}){return f.jsxs("div",{className:"teer-card",children:[f.jsxs("h2",{className:"teer-subheading",children:["Date: ",t.date]}),f.jsxs("div",{className:"my-4",children:[f.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-3",children:"4 Guti Prediction:"}),f.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:t.numbers.map((e,n)=>f.jsx("div",{className:"bg-teer-light border-2 border-teer-blue rounded-lg p-3 md:p-4 flex items-center justify-center",children:f.jsx("span",{className:"text-xl md:text-2xl font-bold text-teer-blue",children:e})},n))})]})]})}function g3(){const[t,e]=m.useState(null),[n,r]=m.useState(!0),[s,i]=m.useState(new Date);m.useEffect(()=>{(async()=>{r(!0);const d=await qS(),u=QS(d);if(u.length>0){const h=u[0],p=c3(h);e(p)}r(!1)})();const c=setInterval(()=>{i(new Date)},1e3);return()=>clearInterval(c)},[]);const o=()=>s.getHours(),a=()=>(o(),"F/R & S/R 4 Guti Number our prediction will update after 1 to 2 pm");return f.jsx("div",{className:"container mx-auto px-4 py-8",children:f.jsxs("div",{className:"teer-card",children:[f.jsx("h1",{className:"teer-heading",children:"S/R 4 Guti Number"}),f.jsx("p",{className:"text-center text-gray-600 mb-6",children:a()}),n?f.jsx("div",{className:"flex justify-center items-center py-8",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-teer-blue"})}):t?f.jsx(m3,{gutiNumber:t}):f.jsx("p",{className:"text-center text-gray-500",children:"No predictions available"})]})})}var v3=m.createContext(void 0);function YS(t){const e=m.useContext(v3);return t||e||"ltr"}var Df="rovingFocusGroup.onEntryFocus",y3={bubbles:!1,cancelable:!0},Sd="RovingFocusGroup",[dp,XS,_3]=Cx(Sd),[w3,JS]=ei(Sd,[_3]),[x3,E3]=w3(Sd),ZS=m.forwardRef((t,e)=>f.jsx(dp.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(dp.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(b3,{...t,ref:e})})}));ZS.displayName=Sd;var b3=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=t,h=m.useRef(null),p=at(e,h),_=YS(i),[g=null,x]=Gu({prop:o,defaultProp:a,onChange:l}),[v,y]=m.useState(!1),w=At(c),E=XS(n),b=m.useRef(!1),[C,S]=m.useState(0);return m.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(Df,w),()=>T.removeEventListener(Df,w)},[w]),f.jsx(x3,{scope:n,orientation:r,dir:_,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(T=>x(T),[x]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>S(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>S(T=>T-1),[]),children:f.jsx(pe.div,{tabIndex:v||C===0?-1:0,"data-orientation":r,...u,ref:p,style:{outline:"none",...t.style},onMouseDown:se(t.onMouseDown,()=>{b.current=!0}),onFocus:se(t.onFocus,T=>{const A=!b.current;if(T.target===T.currentTarget&&A&&!v){const D=new CustomEvent(Df,y3);if(T.currentTarget.dispatchEvent(D),!D.defaultPrevented){const z=E().filter(U=>U.focusable),j=z.find(U=>U.active),H=z.find(U=>U.id===g),Z=[j,H,...z].filter(Boolean).map(U=>U.ref.current);nT(Z,d)}}b.current=!1}),onBlur:se(t.onBlur,()=>y(!1))})})}),eT="RovingFocusGroupItem",tT=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=la(),l=i||a,c=E3(eT,n),d=c.currentTabStopId===l,u=XS(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=c;return m.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),f.jsx(dp.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:f.jsx(pe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:se(t.onMouseDown,_=>{r?c.onItemFocus(l):_.preventDefault()}),onFocus:se(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:se(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){c.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const g=T3(_,c.orientation,c.dir);if(g!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let v=u().filter(y=>y.focusable).map(y=>y.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const y=v.indexOf(_.currentTarget);v=c.loop?I3(v,y+1):v.slice(y+1)}setTimeout(()=>nT(v))}})})})});tT.displayName=eT;var C3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S3(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function T3(t,e,n){const r=S3(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return C3[r]}function nT(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function I3(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var N3=ZS,k3=tT,Pg="Tabs",[P3,Z3]=ei(Pg,[JS]),rT=JS(),[R3,Rg]=P3(Pg),sT=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=YS(a),[u,h]=Gu({prop:r,onChange:s,defaultProp:i});return f.jsx(R3,{scope:n,baseId:la(),value:u,onValueChange:h,orientation:o,dir:d,activationMode:l,children:f.jsx(pe.div,{dir:d,"data-orientation":o,...c,ref:e})})});sT.displayName=Pg;var iT="TabsList",oT=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Rg(iT,n),o=rT(n);return f.jsx(N3,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:f.jsx(pe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});oT.displayName=iT;var aT="TabsTrigger",lT=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Rg(aT,n),a=rT(n),l=dT(o.baseId,r),c=fT(o.baseId,r),d=r===o.value;return f.jsx(k3,{asChild:!0,...a,focusable:!s,active:d,children:f.jsx(pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:se(t.onMouseDown,u=>{!s&&u.button===0&&u.ctrlKey===!1?o.onValueChange(r):u.preventDefault()}),onKeyDown:se(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(r)}),onFocus:se(t.onFocus,()=>{const u=o.activationMode!=="manual";!d&&!s&&u&&o.onValueChange(r)})})})});lT.displayName=aT;var cT="TabsContent",uT=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Rg(cT,n),l=dT(a.baseId,r),c=fT(a.baseId,r),d=r===a.value,u=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(h)},[]),f.jsx(ti,{present:s||d,children:({present:h})=>f.jsx(pe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:u.current?"0s":void 0},children:h&&i})})});uT.displayName=cT;function dT(t,e){return`${t}-trigger-${e}`}function fT(t,e){return`${t}-content-${e}`}var A3=sT,hT=oT,pT=lT,mT=uT;const O3=A3,gT=m.forwardRef(({className:t,...e},n)=>f.jsx(hT,{ref:n,className:ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));gT.displayName=hT.displayName;const Tc=m.forwardRef(({className:t,...e},n)=>f.jsx(pT,{ref:n,className:ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Tc.displayName=pT.displayName;const Ic=m.forwardRef(({className:t,...e},n)=>f.jsx(mT,{ref:n,className:ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ic.displayName=mT.displayName;var D3="Label",vT=m.forwardRef((t,e)=>f.jsx(pe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));vT.displayName=D3;var yT=vT;const M3=ol("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fp=m.forwardRef(({className:t,...e},n)=>f.jsx(yT,{ref:n,className:ne(M3(),t),...e}));fp.displayName=yT.displayName;function L3(){const[t,e]=m.useState({weeklyPrice:299,monthlyPrice:999});m.useEffect(()=>{const r=Ae(Ee,"settings");us(r,s=>{s.exists()?e(s.val()):qn(Ae(Ee,"settings"),t)})},[]);const n=async()=>{try{await qn(Ae(Ee,"settings"),t),he.success("Settings updated successfully")}catch(r){console.error("Error saving settings:",r),he.error("Failed to update settings")}};return f.jsxs(ft,{children:[f.jsx(zt,{children:f.jsx(Bt,{children:"Application Settings"})}),f.jsx(Et,{children:f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(fp,{htmlFor:"weeklyPrice",children:"Weekly Subscription Price (₹)"}),f.jsx(Qe,{id:"weeklyPrice",type:"number",value:t.weeklyPrice,onChange:r=>e({...t,weeklyPrice:Number(r.target.value)})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(fp,{htmlFor:"monthlyPrice",children:"Monthly Subscription Price (₹)"}),f.jsx(Qe,{id:"monthlyPrice",type:"number",value:t.monthlyPrice,onChange:r=>e({...t,monthlyPrice:Number(r.target.value)})})]}),f.jsx(Re,{className:"w-full",onClick:n,children:"Save Settings"})]})})]})}function j3(){const[t,e]=m.useState([]),[n,r]=m.useState(""),[s,i]=m.useState(null),[o,a]=m.useState({name:"",email:"",daysToAdd:0});m.useEffect(()=>{const h=Ae(Ee,"users");us(h,p=>{if(p.exists()){const _=p.val(),g=Object.keys(_).map(x=>({id:x,..._[x]}));e(g)}})},[]);const l=h=>{i(h),a({name:h.name,email:h.email,daysToAdd:0})},c=async()=>{try{if(!s)return;if(await qn(Ae(Ee,`users/${s.id}`),{name:o.name,email:o.email}),o.daysToAdd>0&&s.subscription){let h=new Date(s.subscription.endDate);h.setDate(h.getDate()+Number(o.daysToAdd)),await qn(Ae(Ee,`users/${s.id}/subscription`),{endDate:h.toISOString(),active:!0})}he.success("User updated successfully"),i(null)}catch(h){console.error("Error updating user:",h),he.error("Failed to update user")}},d=t.filter(h=>{var p,_;return((p=h.name)==null?void 0:p.toLowerCase().includes(n.toLowerCase()))||((_=h.email)==null?void 0:_.toLowerCase().includes(n.toLowerCase()))}),u=h=>{if(!h)return"No subscription";if(!h.active)return"Inactive";const p=new Date(h.endDate),_=new Date,g=p.getTime()-_.getTime(),x=Math.ceil(g/(1e3*60*60*24));return x>0?`${x} days`:"Expired"};return f.jsx(ft,{children:f.jsxs(Et,{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Manage Users"}),f.jsx(Qe,{placeholder:"Search users...",value:n,onChange:h=>r(h.target.value),className:"max-w-xs"})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs(Ed,{children:[f.jsx(bd,{children:f.jsxs(Xs,{children:[f.jsx(Ve,{children:"Name"}),f.jsx(Ve,{children:"Email"}),f.jsx(Ve,{children:"Subscription Type"}),f.jsx(Ve,{children:"Days Remaining"}),f.jsx(Ve,{children:"Referrals"}),f.jsx(Ve,{children:"Actions"})]})}),f.jsx(Cd,{children:d.map(h=>{var p;return f.jsxs(Xs,{children:[f.jsx(He,{children:h.name}),f.jsx(He,{children:h.email}),f.jsx(He,{children:((p=h.subscription)==null?void 0:p.type)||"None"}),f.jsx(He,{children:u(h.subscription)}),f.jsx(He,{children:h.referrals||0}),f.jsx(He,{children:f.jsxs(WS,{children:[f.jsx(VS,{asChild:!0,children:f.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>l(h),children:f.jsx(sk,{className:"h-4 w-4"})})}),f.jsxs(Ig,{children:[f.jsx(Ng,{children:f.jsx(kg,{children:"Edit User"})}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Name"}),f.jsx(Qe,{value:o.name,onChange:_=>a({...o,name:_.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Email"}),f.jsx(Qe,{value:o.email,onChange:_=>a({...o,email:_.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Add Days to Subscription"}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx(Qe,{type:"number",value:o.daysToAdd,onChange:_=>a({...o,daysToAdd:parseInt(_.target.value)||0})}),f.jsx(Z1,{className:"h-5 w-5 text-gray-500"})]}),f.jsxs("p",{className:"text-xs text-gray-500",children:["Current expiry: ",h.subscription?new Date(h.subscription.endDate).toLocaleDateString():"No subscription"]})]}),f.jsx(Re,{onClick:c,className:"w-full",children:"Save Changes"})]})]})]})})]},h.id)})})]})})]})})}const F3=ol("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function U3({className:t,variant:e,...n}){return f.jsx("div",{className:ne(F3({variant:e}),t),...n})}function $3(){const[t,e]=m.useState([]),[n,r]=m.useState("");m.useEffect(()=>{const l=Ae(Ee,"payments");us(l,c=>{if(c.exists()){const d=c.val(),u=Object.keys(d).map(h=>({id:h,...d[h]})).sort((h,p)=>(p.timestamp||0)-(h.timestamp||0));e(u)}})},[]);const s=async l=>{try{if(await qn(Ae(Ee,`payments/${l.id}`),{status:"completed"}),l.userId){const c=l.amount==="999"?"monthly":"weekly",d=new Date,u=new Date;c==="weekly"?u.setDate(u.getDate()+7):u.setMonth(u.getMonth()+1),await qn(Ae(Ee,`users/${l.userId}/subscription`),{type:c,startDate:d.toISOString(),endDate:u.toISOString(),active:!0})}he.success("Payment approved and subscription activated")}catch(c){console.error("Error approving payment:",c),he.error("Failed to approve payment")}},i=async l=>{try{await qn(Ae(Ee,`payments/${l.id}`),{status:"rejected"}),he.success("Payment rejected")}catch(c){console.error("Error rejecting payment:",c),he.error("Failed to reject payment")}},o=t.filter(l=>{var c,d,u;return((c=l.userName)==null?void 0:c.toLowerCase().includes(n.toLowerCase()))||((d=l.userEmail)==null?void 0:d.toLowerCase().includes(n.toLowerCase()))||((u=l.utrNumber)==null?void 0:u.toLowerCase().includes(n.toLowerCase()))}),a=l=>l?l.toDate?l.toDate().toLocaleDateString()+" "+l.toDate().toLocaleTimeString():new Date(l).toLocaleDateString()+" "+new Date(l).toLocaleTimeString():"N/A";return f.jsx(ft,{children:f.jsxs(Et,{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Payment Management"}),f.jsx(Qe,{placeholder:"Search payments...",value:n,onChange:l=>r(l.target.value),className:"max-w-xs"})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs(Ed,{children:[f.jsx(bd,{children:f.jsxs(Xs,{children:[f.jsx(Ve,{children:"User"}),f.jsx(Ve,{children:"Amount"}),f.jsx(Ve,{children:"UTR Number"}),f.jsx(Ve,{children:"Date"}),f.jsx(Ve,{children:"Status"}),f.jsx(Ve,{children:"Actions"})]})}),f.jsx(Cd,{children:o.map(l=>f.jsxs(Xs,{children:[f.jsx(He,{children:f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:l.userName}),f.jsx("div",{className:"text-xs text-gray-500",children:l.userEmail})]})}),f.jsxs(He,{children:["₹",l.amount]}),f.jsx(He,{children:l.utrNumber}),f.jsx(He,{children:a(l.timestamp)}),f.jsx(He,{children:f.jsx(U3,{className:l.status==="completed"?"bg-green-100 text-green-800":l.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:l.status})}),f.jsx(He,{children:l.status==="pending"&&f.jsxs("div",{className:"flex space-x-2",children:[f.jsxs(Re,{size:"sm",variant:"ghost",className:"text-green-600",onClick:()=>s(l),children:[f.jsx(ek,{className:"h-4 w-4 mr-1"}),"Approve"]}),f.jsxs(Re,{size:"sm",variant:"ghost",className:"text-red-600",onClick:()=>i(l),children:[f.jsx(tk,{className:"h-4 w-4 mr-1"}),"Reject"]})]})})]},l.id))})]})})]})})}function z3(){const[t,e]=m.useState({totalUsers:0,activeSubscriptions:0,pendingPayments:0,totalRevenue:0}),[n,r]=m.useState(!1),{toast:s}=am(),i=ir();return m.useEffect(()=>{if(!localStorage.getItem("adminEmail")){s({title:"Access Denied",description:"You don't have permission to access this page."}),i("/login");return}r(!0),(async()=>{try{const l=Ae(Ee,"users");us(l,d=>{if(d.exists()){const u=Object.values(d.val()),h=u.filter(p=>p.subscription?new Date(p.subscription.endDate)>new Date&&p.subscription.active:!1);e(p=>({...p,totalUsers:u.length,activeSubscriptions:h.length}))}});const c=Ae(Ee,"payments");us(c,d=>{if(d.exists()){const u=Object.values(d.val()),h=u.filter(_=>_.status==="pending"),p=u.reduce((_,g)=>g.status==="completed"?_+Number(g.amount):_,0);e(_=>({..._,pendingPayments:h.length,totalRevenue:p}))}})}catch(l){console.error("Error fetching stats:",l)}})()},[i,s]),n?f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Dashboard"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[f.jsxs(ft,{children:[f.jsx(zt,{className:"py-4",children:f.jsx(Bt,{className:"text-sm font-medium text-gray-500",children:"Total Users"})}),f.jsx(Et,{children:f.jsx("p",{className:"text-3xl font-bold",children:t.totalUsers})})]}),f.jsxs(ft,{children:[f.jsx(zt,{className:"py-4",children:f.jsx(Bt,{className:"text-sm font-medium text-gray-500",children:"Active Subscriptions"})}),f.jsx(Et,{children:f.jsx("p",{className:"text-3xl font-bold",children:t.activeSubscriptions})})]}),f.jsxs(ft,{children:[f.jsx(zt,{className:"py-4",children:f.jsx(Bt,{className:"text-sm font-medium text-gray-500",children:"Pending Payments"})}),f.jsx(Et,{children:f.jsx("p",{className:"text-3xl font-bold",children:t.pendingPayments})})]}),f.jsxs(ft,{children:[f.jsx(zt,{className:"py-4",children:f.jsx(Bt,{className:"text-sm font-medium text-gray-500",children:"Total Revenue"})}),f.jsx(Et,{children:f.jsxs("p",{className:"text-3xl font-bold",children:["₹",t.totalRevenue]})})]})]}),f.jsxs(O3,{defaultValue:"users",children:[f.jsxs(gT,{className:"w-full border-b mb-4",children:[f.jsx(Tc,{value:"users",children:"Users"}),f.jsx(Tc,{value:"payments",children:"Payments"}),f.jsx(Tc,{value:"settings",children:"Settings"})]}),f.jsx(Ic,{value:"users",children:f.jsx(j3,{})}),f.jsx(Ic,{value:"payments",children:f.jsx($3,{})}),f.jsx(Ic,{value:"settings",children:f.jsx(L3,{})})]})]}):f.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading..."})}const B3=new vA,W3=()=>f.jsx(_A,{client:B3,children:f.jsx(WU,{children:f.jsxs(KR,{children:[f.jsx(zk,{}),f.jsx(_P,{}),f.jsx(vO,{children:f.jsxs("div",{className:"min-h-screen flex flex-col",children:[f.jsx(HU,{}),f.jsx("main",{className:"flex-1",children:f.jsxs(uO,{children:[f.jsx(gn,{path:"/",element:f.jsx(qU,{})}),f.jsx(gn,{path:"/login",element:f.jsx(r3,{})}),f.jsx(gn,{path:"/register",element:f.jsx(s3,{})}),f.jsx(gn,{path:"/subscription",element:f.jsx(Zl,{requireSubscription:!1,children:f.jsx(o3,{})})}),f.jsx(gn,{path:"/dashboard",element:f.jsx(Zl,{children:f.jsx(a3,{})})}),f.jsx(gn,{path:"/sr-he",element:f.jsx(Zl,{children:f.jsx(p3,{})})}),f.jsx(gn,{path:"/sr-guti",element:f.jsx(Zl,{children:f.jsx(g3,{})})}),f.jsx(gn,{path:"/admin",element:f.jsx(z3,{})}),f.jsx(gn,{path:"*",element:f.jsx(QU,{})})]})})]})})]})})});xx(document.getElementById("root")).render(f.jsx(W3,{}));
